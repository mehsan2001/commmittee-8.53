function EA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ME(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tm={exports:{}},Oc={},bm={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function TA(){if(q_)return qe;q_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function R(q,J,ge){this.props=q,this.context=J,this.refs=b,this.updater=ge||C}R.prototype.isReactComponent={},R.prototype.setState=function(q,J){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,J,"setState")},R.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function V(){}V.prototype=R.prototype;function F(q,J,ge){this.props=q,this.context=J,this.refs=b,this.updater=ge||C}var U=F.prototype=new V;U.constructor=F,A(U,R.prototype),U.isPureReactComponent=!0;var z=Array.isArray,Q=Object.prototype.hasOwnProperty,Z={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(q,J,ge){var Ce,Pe={},Ve=null,he=null;if(J!=null)for(Ce in J.ref!==void 0&&(he=J.ref),J.key!==void 0&&(Ve=""+J.key),J)Q.call(J,Ce)&&!k.hasOwnProperty(Ce)&&(Pe[Ce]=J[Ce]);var be=arguments.length-2;if(be===1)Pe.children=ge;else if(1<be){for(var Fe=Array(be),De=0;De<be;De++)Fe[De]=arguments[De+2];Pe.children=Fe}if(q&&q.defaultProps)for(Ce in be=q.defaultProps,be)Pe[Ce]===void 0&&(Pe[Ce]=be[Ce]);return{$$typeof:t,type:q,key:Ve,ref:he,props:Pe,_owner:Z.current}}function j(q,J){return{$$typeof:t,type:q.type,key:J,ref:q.ref,props:q.props,_owner:q._owner}}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function M(q){var J={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ge){return J[ge]})}var L=/\/+/g;function D(q,J){return typeof q=="object"&&q!==null&&q.key!=null?M(""+q.key):J.toString(36)}function oe(q,J,ge,Ce,Pe){var Ve=typeof q;(Ve==="undefined"||Ve==="boolean")&&(q=null);var he=!1;if(q===null)he=!0;else switch(Ve){case"string":case"number":he=!0;break;case"object":switch(q.$$typeof){case t:case e:he=!0}}if(he)return he=q,Pe=Pe(he),q=Ce===""?"."+D(he,0):Ce,z(Pe)?(ge="",q!=null&&(ge=q.replace(L,"$&/")+"/"),oe(Pe,J,ge,"",function(De){return De})):Pe!=null&&(P(Pe)&&(Pe=j(Pe,ge+(!Pe.key||he&&he.key===Pe.key?"":(""+Pe.key).replace(L,"$&/")+"/")+q)),J.push(Pe)),1;if(he=0,Ce=Ce===""?".":Ce+":",z(q))for(var be=0;be<q.length;be++){Ve=q[be];var Fe=Ce+D(Ve,be);he+=oe(Ve,J,ge,Fe,Pe)}else if(Fe=x(q),typeof Fe=="function")for(q=Fe.call(q),be=0;!(Ve=q.next()).done;)Ve=Ve.value,Fe=Ce+D(Ve,be++),he+=oe(Ve,J,ge,Fe,Pe);else if(Ve==="object")throw J=String(q),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return he}function Te(q,J,ge){if(q==null)return q;var Ce=[],Pe=0;return oe(q,Ce,"","",function(Ve){return J.call(ge,Ve,Pe++)}),Ce}function ne(q){if(q._status===-1){var J=q._result;J=J(),J.then(function(ge){(q._status===0||q._status===-1)&&(q._status=1,q._result=ge)},function(ge){(q._status===0||q._status===-1)&&(q._status=2,q._result=ge)}),q._status===-1&&(q._status=0,q._result=J)}if(q._status===1)return q._result.default;throw q._result}var de={current:null},X={transition:null},ae={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:X,ReactCurrentOwner:Z};function ce(){throw Error("act(...) is not supported in production builds of React.")}return qe.Children={map:Te,forEach:function(q,J,ge){Te(q,function(){J.apply(this,arguments)},ge)},count:function(q){var J=0;return Te(q,function(){J++}),J},toArray:function(q){return Te(q,function(J){return J})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},qe.Component=R,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=F,qe.StrictMode=r,qe.Suspense=p,qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,qe.act=ce,qe.cloneElement=function(q,J,ge){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var Ce=A({},q.props),Pe=q.key,Ve=q.ref,he=q._owner;if(J!=null){if(J.ref!==void 0&&(Ve=J.ref,he=Z.current),J.key!==void 0&&(Pe=""+J.key),q.type&&q.type.defaultProps)var be=q.type.defaultProps;for(Fe in J)Q.call(J,Fe)&&!k.hasOwnProperty(Fe)&&(Ce[Fe]=J[Fe]===void 0&&be!==void 0?be[Fe]:J[Fe])}var Fe=arguments.length-2;if(Fe===1)Ce.children=ge;else if(1<Fe){be=Array(Fe);for(var De=0;De<Fe;De++)be[De]=arguments[De+2];Ce.children=be}return{$$typeof:t,type:q.type,key:Pe,ref:Ve,props:Ce,_owner:he}},qe.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},qe.createElement=S,qe.createFactory=function(q){var J=S.bind(null,q);return J.type=q,J},qe.createRef=function(){return{current:null}},qe.forwardRef=function(q){return{$$typeof:d,render:q}},qe.isValidElement=P,qe.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:ne}},qe.memo=function(q,J){return{$$typeof:m,type:q,compare:J===void 0?null:J}},qe.startTransition=function(q){var J=X.transition;X.transition={};try{q()}finally{X.transition=J}},qe.unstable_act=ce,qe.useCallback=function(q,J){return de.current.useCallback(q,J)},qe.useContext=function(q){return de.current.useContext(q)},qe.useDebugValue=function(){},qe.useDeferredValue=function(q){return de.current.useDeferredValue(q)},qe.useEffect=function(q,J){return de.current.useEffect(q,J)},qe.useId=function(){return de.current.useId()},qe.useImperativeHandle=function(q,J,ge){return de.current.useImperativeHandle(q,J,ge)},qe.useInsertionEffect=function(q,J){return de.current.useInsertionEffect(q,J)},qe.useLayoutEffect=function(q,J){return de.current.useLayoutEffect(q,J)},qe.useMemo=function(q,J){return de.current.useMemo(q,J)},qe.useReducer=function(q,J,ge){return de.current.useReducer(q,J,ge)},qe.useRef=function(q){return de.current.useRef(q)},qe.useState=function(q){return de.current.useState(q)},qe.useSyncExternalStore=function(q,J,ge){return de.current.useSyncExternalStore(q,J,ge)},qe.useTransition=function(){return de.current.useTransition()},qe.version="18.3.1",qe}var z_;function af(){return z_||(z_=1,bm.exports=TA()),bm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function bA(){if(H_)return Oc;H_=1;var t=af(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,m){var y,_={},x=null,C=null;m!==void 0&&(x=""+m),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(C=p.ref);for(y in p)r.call(p,y)&&!a.hasOwnProperty(y)&&(_[y]=p[y]);if(d&&d.defaultProps)for(y in p=d.defaultProps,p)_[y]===void 0&&(_[y]=p[y]);return{$$typeof:e,type:d,key:x,ref:C,props:_,_owner:i.current}}return Oc.Fragment=n,Oc.jsx=c,Oc.jsxs=c,Oc}var W_;function SA(){return W_||(W_=1,Tm.exports=bA()),Tm.exports}var u=SA(),Qd={},Sm={exports:{}},jn={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function IA(){return K_||(K_=1,(function(t){function e(X,ae){var ce=X.length;X.push(ae);e:for(;0<ce;){var q=ce-1>>>1,J=X[q];if(0<i(J,ae))X[q]=ae,X[ce]=J,ce=q;else break e}}function n(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ae=X[0],ce=X.pop();if(ce!==ae){X[0]=ce;e:for(var q=0,J=X.length,ge=J>>>1;q<ge;){var Ce=2*(q+1)-1,Pe=X[Ce],Ve=Ce+1,he=X[Ve];if(0>i(Pe,ce))Ve<J&&0>i(he,Pe)?(X[q]=he,X[Ve]=ce,q=Ve):(X[q]=Pe,X[Ce]=ce,q=Ce);else if(Ve<J&&0>i(he,ce))X[q]=he,X[Ve]=ce,q=Ve;else break e}}return ae}function i(X,ae){var ce=X.sortIndex-ae.sortIndex;return ce!==0?ce:X.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var p=[],m=[],y=1,_=null,x=3,C=!1,A=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(X){for(var ae=n(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=X)r(m),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(m)}}function z(X){if(b=!1,U(X),!A)if(n(p)!==null)A=!0,ne(Q);else{var ae=n(m);ae!==null&&de(z,ae.startTime-X)}}function Q(X,ae){A=!1,b&&(b=!1,V(S),S=-1),C=!0;var ce=x;try{for(U(ae),_=n(p);_!==null&&(!(_.expirationTime>ae)||X&&!M());){var q=_.callback;if(typeof q=="function"){_.callback=null,x=_.priorityLevel;var J=q(_.expirationTime<=ae);ae=t.unstable_now(),typeof J=="function"?_.callback=J:_===n(p)&&r(p),U(ae)}else r(p);_=n(p)}if(_!==null)var ge=!0;else{var Ce=n(m);Ce!==null&&de(z,Ce.startTime-ae),ge=!1}return ge}finally{_=null,x=ce,C=!1}}var Z=!1,k=null,S=-1,j=5,P=-1;function M(){return!(t.unstable_now()-P<j)}function L(){if(k!==null){var X=t.unstable_now();P=X;var ae=!0;try{ae=k(!0,X)}finally{ae?D():(Z=!1,k=null)}}else Z=!1}var D;if(typeof F=="function")D=function(){F(L)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,Te=oe.port2;oe.port1.onmessage=L,D=function(){Te.postMessage(null)}}else D=function(){R(L,0)};function ne(X){k=X,Z||(Z=!0,D())}function de(X,ae){S=R(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){A||C||(A=!0,ne(Q))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(X){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var ce=x;x=ae;try{return X()}finally{x=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ce=x;x=X;try{return ae()}finally{x=ce}},t.unstable_scheduleCallback=function(X,ae,ce){var q=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?q+ce:q):ce=q,X){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ce+J,X={id:y++,callback:ae,priorityLevel:X,startTime:ce,expirationTime:J,sortIndex:-1},ce>q?(X.sortIndex=ce,e(m,X),n(p)===null&&X===n(m)&&(b?(V(S),S=-1):b=!0,de(z,ce-q))):(X.sortIndex=J,e(p,X),A||C||(A=!0,ne(Q))),X},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(X){var ae=x;return function(){var ce=x;x=ae;try{return X.apply(this,arguments)}finally{x=ce}}}})(Cm)),Cm}var G_;function CA(){return G_||(G_=1,Im.exports=IA()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function RA(){if(Q_)return jn;Q_=1;var t=af(),e=CA();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){c(s,o),c(s+"Capture",o)}function c(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function x(s){return p.call(_,s)?!0:p.call(y,s)?!1:m.test(s)?_[s]=!0:(y[s]=!0,!1)}function C(s,o,l,f){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,l,f){if(o===null||typeof o>"u"||C(s,o,l,f))return!0;if(f)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(s,o,l,f,g,w,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=w,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new b(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(V,F);R[o]=new b(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(V,F);R[o]=new b(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(V,F);R[o]=new b(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,o,l,f){var g=R.hasOwnProperty(o)?R[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,g,f)&&(l=null),f||g===null?x(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):g.mustUseProperty?s[g.propertyName]=l===null?g.type===3?!1:"":l:(o=g.attributeName,f=g.attributeNamespace,l===null?s.removeAttribute(o):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,f?s.setAttributeNS(f,o,l):s.setAttribute(o,l))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),X=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=X&&s[X]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,q;function J(s){if(q===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+s}var ge=!1;function Ce(s,o){if(!s||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){f=G}s.call(o.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),w=f.stack.split(`
`),I=g.length-1,O=w.length-1;1<=I&&0<=O&&g[I]!==w[O];)O--;for(;1<=I&&0<=O;I--,O--)if(g[I]!==w[O]){if(I!==1||O!==1)do if(I--,O--,0>O||g[I]!==w[O]){var B=`
`+g[I].replace(" at new "," at ");return s.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",s.displayName)),B}while(1<=I&&0<=O);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?J(s):""}function Pe(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case Z:return"Portal";case j:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Te:return o=s.displayName||null,o!==null?o:Ve(s.type)||"Memo";case ne:o=s._payload,s=s._init;try{return Ve(s(o))}catch{}}return null}function he(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function be(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Fe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function De(s){var o=Fe(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,w=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(I){f=""+I,w.call(this,I)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Qe(s){s._valueTracker||(s._valueTracker=De(s))}function ct(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),f="";return s&&(f=Fe(s)?s.checked?"true":"false":s.value),s=f,s!==l?(o.setValue(s),!0):!1}function Ct(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function _n(s,o){var l=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Hr(s,o){var l=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;l=be(o.value!=null?o.value:l),s._wrapperState={initialChecked:f,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function _s(s,o){o=o.checked,o!=null&&U(s,"checked",o,!1)}function xs(s,o){_s(s,o);var l=be(o.value),f=o.type;if(l!=null)f==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?aa(s,o.type,l):o.hasOwnProperty("defaultValue")&&aa(s,o.type,be(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Du(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function aa(s,o,l){(o!=="number"||Ct(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Es=Array.isArray;function Ts(s,o,l,f){if(s=s.options,o){o={};for(var g=0;g<l.length;g++)o["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=o.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&f&&(s[l].defaultSelected=!0)}else{for(l=""+be(l),o=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function ql(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function la(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Es(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:be(l)}}function ca(s,o){var l=be(o.value),f=be(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),f!=null&&(s.defaultValue=""+f)}function zl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ft(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var bs,Hl=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,l,f,g)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(bs=bs||document.createElement("div"),bs.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=bs.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ni(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fo=["Webkit","ms","Moz","O"];Object.keys(ho).forEach(function(s){fo.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ho[o]=ho[s]})});function Wl(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ho.hasOwnProperty(s)&&ho[s]?(""+o).trim():o+"px"}function Kl(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var f=l.indexOf("--")===0,g=Wl(l,o[l],f);l==="float"&&(l="cssFloat"),f?s.setProperty(l,g):s[l]=g}}var Gl=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(s,o){if(o){if(Gl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Yl(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function ua(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var da=null,rr=null,Wr=null;function ha(s){if(s=_c(s)){if(typeof da!="function")throw Error(n(280));var o=s.stateNode;o&&(o=ud(o),da(s.stateNode,s.type,o))}}function Kr(s){rr?Wr?Wr.push(s):Wr=[s]:rr=s}function Xl(){if(rr){var s=rr,o=Wr;if(Wr=rr=null,ha(s),o)for(s=0;s<o.length;s++)ha(o[s])}}function mo(s,o){return s(o)}function Jl(){}var Ss=!1;function Zl(s,o,l){if(Ss)return s(o,l);Ss=!0;try{return mo(s,o,l)}finally{Ss=!1,(rr!==null||Wr!==null)&&(Jl(),Xl())}}function Rt(s,o){var l=s.stateNode;if(l===null)return null;var f=ud(l);if(f===null)return null;l=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var fa=!1;if(d)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){fa=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{fa=!1}function go(s,o,l,f,g,w,I,O,B){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(se){this.onError(se)}}var yo=!1,pa=null,_r=!1,ec=null,Xf={onError:function(s){yo=!0,pa=s}};function ma(s,o,l,f,g,w,I,O,B){yo=!1,pa=null,go.apply(Xf,arguments)}function Ou(s,o,l,f,g,w,I,O,B){if(ma.apply(this,arguments),yo){if(yo){var G=pa;yo=!1,pa=null}else throw Error(n(198));_r||(_r=!0,ec=G)}}function xr(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function vo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Er(s){if(xr(s)!==s)throw Error(n(188))}function Mu(s){var o=s.alternate;if(!o){if(o=xr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var l=s,f=o;;){var g=l.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){l=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===l)return Er(g),s;if(w===f)return Er(g),o;w=w.sibling}throw Error(n(188))}if(l.return!==f.return)l=g,f=w;else{for(var I=!1,O=g.child;O;){if(O===l){I=!0,l=g,f=w;break}if(O===f){I=!0,f=g,l=w;break}O=O.sibling}if(!I){for(O=w.child;O;){if(O===l){I=!0,l=w,f=g;break}if(O===f){I=!0,f=w,l=g;break}O=O.sibling}if(!I)throw Error(n(189))}}if(l.alternate!==f)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:o}function tc(s){return s=Mu(s),s!==null?ga(s):null}function ga(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ga(s);if(o!==null)return o;s=s.sibling}return null}var ya=e.unstable_scheduleCallback,nc=e.unstable_cancelCallback,Lu=e.unstable_shouldYield,Jf=e.unstable_requestPaint,dt=e.unstable_now,Vu=e.unstable_getCurrentPriorityLevel,wo=e.unstable_ImmediatePriority,ri=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,rc=e.unstable_LowPriority,Fu=e.unstable_IdlePriority,_o=null,Un=null;function Uu(s){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(_o,s,void 0,(s.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:$u,sc=Math.log,Bu=Math.LN2;function $u(s){return s>>>=0,s===0?32:31-(sc(s)/Bu|0)|0}var va=64,wa=4194304;function si(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function xo(s,o){var l=s.pendingLanes;if(l===0)return 0;var f=0,g=s.suspendedLanes,w=s.pingedLanes,I=l&268435455;if(I!==0){var O=I&~g;O!==0?f=si(O):(w&=I,w!==0&&(f=si(w)))}else I=l&~g,I!==0?f=si(I):w!==0&&(f=si(w));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,w=o&-o,g>=w||g===16&&(w&4194240)!==0))return o;if((f&4)!==0&&(f|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)l=31-xn(o),g=1<<l,f|=s[l],o&=~g;return f}function Zf(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(s,o){for(var l=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var I=31-xn(w),O=1<<I,B=g[I];B===-1?((O&l)===0||(O&f)!==0)&&(g[I]=Zf(O,o)):B<=o&&(s.expiredLanes|=O),w&=~O}}function Bn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Eo(){var s=va;return va<<=1,(va&4194240)===0&&(va=64),s}function ii(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function oi(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-xn(o),s[o]=l}function ut(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<l;){var g=31-xn(l),w=1<<g;o[g]=0,f[g]=-1,s[g]=-1,l&=~w}}function ai(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var f=31-xn(l),g=1<<f;g&o|s[f]&o&&(s[f]|=o),l&=~g}}var Ge=0;function li(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var qu,_a,zu,Hu,Wu,ic=!1,Gr=[],tn=null,Tr=null,br=null,ci=new Map,ir=new Map,Qr=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ku(s,o){switch(s){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":ci.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(o.pointerId)}}function In(s,o,l,f,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:l,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},o!==null&&(o=_c(o),o!==null&&_a(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function tp(s,o,l,f,g){switch(o){case"focusin":return tn=In(tn,s,o,l,f,g),!0;case"dragenter":return Tr=In(Tr,s,o,l,f,g),!0;case"mouseover":return br=In(br,s,o,l,f,g),!0;case"pointerover":var w=g.pointerId;return ci.set(w,In(ci.get(w)||null,s,o,l,f,g)),!0;case"gotpointercapture":return w=g.pointerId,ir.set(w,In(ir.get(w)||null,s,o,l,f,g)),!0}return!1}function Gu(s){var o=Co(s.target);if(o!==null){var l=xr(o);if(l!==null){if(o=l.tag,o===13){if(o=vo(l),o!==null){s.blockedOn=o,Wu(s.priority,function(){zu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Cs(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=xa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var f=new l.constructor(l.type,l);po=f,l.target.dispatchEvent(f),po=null}else return o=_c(l),o!==null&&_a(o),s.blockedOn=l,!1;o.shift()}return!0}function To(s,o,l){Cs(s)&&l.delete(o)}function Qu(){ic=!1,tn!==null&&Cs(tn)&&(tn=null),Tr!==null&&Cs(Tr)&&(Tr=null),br!==null&&Cs(br)&&(br=null),ci.forEach(To),ir.forEach(To)}function Sr(s,o){s.blockedOn===o&&(s.blockedOn=null,ic||(ic=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qu)))}function Ir(s){function o(g){return Sr(g,s)}if(0<Gr.length){Sr(Gr[0],s);for(var l=1;l<Gr.length;l++){var f=Gr[l];f.blockedOn===s&&(f.blockedOn=null)}}for(tn!==null&&Sr(tn,s),Tr!==null&&Sr(Tr,s),br!==null&&Sr(br,s),ci.forEach(o),ir.forEach(o),l=0;l<Qr.length;l++)f=Qr[l],f.blockedOn===s&&(f.blockedOn=null);for(;0<Qr.length&&(l=Qr[0],l.blockedOn===null);)Gu(l),l.blockedOn===null&&Qr.shift()}var Rs=z.ReactCurrentBatchConfig,ui=!0;function wt(s,o,l,f){var g=Ge,w=Rs.transition;Rs.transition=null;try{Ge=1,oc(s,o,l,f)}finally{Ge=g,Rs.transition=w}}function np(s,o,l,f){var g=Ge,w=Rs.transition;Rs.transition=null;try{Ge=4,oc(s,o,l,f)}finally{Ge=g,Rs.transition=w}}function oc(s,o,l,f){if(ui){var g=xa(s,o,l,f);if(g===null)fp(s,o,f,bo,l),Ku(s,f);else if(tp(g,s,o,l,f))f.stopPropagation();else if(Ku(s,f),o&4&&-1<ep.indexOf(s)){for(;g!==null;){var w=_c(g);if(w!==null&&qu(w),w=xa(s,o,l,f),w===null&&fp(s,o,f,bo,l),w===g)break;g=w}g!==null&&f.stopPropagation()}else fp(s,o,f,null,l)}}var bo=null;function xa(s,o,l,f){if(bo=null,s=ua(f),s=Co(s),s!==null)if(o=xr(s),o===null)s=null;else if(l=o.tag,l===13){if(s=vo(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return bo=s,null}function ac(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vu()){case wo:return 1;case ri:return 4;case sr:case rc:return 16;case Fu:return 536870912;default:return 16}default:return 16}}var $n=null,Ea=null,Cn=null;function lc(){if(Cn)return Cn;var s,o=Ea,l=o.length,f,g="value"in $n?$n.value:$n.textContent,w=g.length;for(s=0;s<l&&o[s]===g[s];s++);var I=l-s;for(f=1;f<=I&&o[l-f]===g[w-f];f++);return Cn=g.slice(s,1<f?1-f:void 0)}function Ta(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Yr(){return!0}function cc(){return!1}function nn(s){function o(l,f,g,w,I){this._reactName=l,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=I,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Yr:cc,this.isPropagationStopped=cc,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),o}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=nn(Cr),Xr=ce({},Cr,{view:0,detail:0}),rp=nn(Xr),Sa,Ns,di,So=ce({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==di&&(di&&s.type==="mousemove"?(Sa=s.screenX-di.screenX,Ns=s.screenY-di.screenY):Ns=Sa=0,di=s),Sa)},movementY:function(s){return"movementY"in s?s.movementY:Ns}}),Ia=nn(So),uc=ce({},So,{dataTransfer:0}),Yu=nn(uc),Ca=ce({},Xr,{relatedTarget:0}),Ra=nn(Ca),Xu=ce({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),As=nn(Xu),Ju=ce({},Cr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Zu=nn(Ju),ed=ce({},Cr,{data:0}),dc=nn(ed),Na={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=td[s])?!!o[s]:!1}function Jr(){return nd}var h=ce({},Xr,{key:function(s){if(s.key){var o=Na[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?En[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(s){return s.type==="keypress"?Ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=nn(h),E=ce({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=nn(E),H=ce({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Y=nn(H),ue=ce({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ot=nn(ue),Ut=ce({},So,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=nn(Ut),Kt=[9,13,27,32],kt=d&&"CompositionEvent"in window,or=null;d&&"documentMode"in document&&(or=document.documentMode);var qn=d&&"TextEvent"in window&&!or,Io=d&&(!kt||or&&8<or&&11>=or),Aa=" ",Lv=!1;function Vv(s,o){switch(s){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Pa=!1;function wN(s,o){switch(s){case"compositionend":return Fv(o);case"keypress":return o.which!==32?null:(Lv=!0,Aa);case"textInput":return s=o.data,s===Aa&&Lv?null:s;default:return null}}function _N(s,o){if(Pa)return s==="compositionend"||!kt&&Vv(s,o)?(s=lc(),Cn=Ea=$n=null,Pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Io&&o.locale!=="ko"?null:o.data;default:return null}}var xN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!xN[s.type]:o==="textarea"}function Bv(s,o,l,f){Kr(f),o=ad(o,"onChange"),0<o.length&&(l=new ba("onChange","change",null,l,f),s.push({event:l,listeners:o}))}var hc=null,fc=null;function EN(s){iw(s,0)}function rd(s){var o=Ma(s);if(ct(o))return s}function TN(s,o){if(s==="change")return o}var $v=!1;if(d){var sp;if(d){var ip="oninput"in document;if(!ip){var qv=document.createElement("div");qv.setAttribute("oninput","return;"),ip=typeof qv.oninput=="function"}sp=ip}else sp=!1;$v=sp&&(!document.documentMode||9<document.documentMode)}function zv(){hc&&(hc.detachEvent("onpropertychange",Hv),fc=hc=null)}function Hv(s){if(s.propertyName==="value"&&rd(fc)){var o=[];Bv(o,fc,s,ua(s)),Zl(EN,o)}}function bN(s,o,l){s==="focusin"?(zv(),hc=o,fc=l,hc.attachEvent("onpropertychange",Hv)):s==="focusout"&&zv()}function SN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rd(fc)}function IN(s,o){if(s==="click")return rd(o)}function CN(s,o){if(s==="input"||s==="change")return rd(o)}function RN(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Rr=typeof Object.is=="function"?Object.is:RN;function pc(s,o){if(Rr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),f=Object.keys(o);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var g=l[f];if(!p.call(o,g)||!Rr(s[g],o[g]))return!1}return!0}function Wv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Kv(s,o){var l=Wv(s);s=0;for(var f;l;){if(l.nodeType===3){if(f=s+l.textContent.length,s<=o&&f>=o)return{node:l,offset:o-s};s=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wv(l)}}function Gv(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Gv(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Qv(){for(var s=window,o=Ct();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Ct(s.document)}return o}function op(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function NN(s){var o=Qv(),l=s.focusedElem,f=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Gv(l.ownerDocument.documentElement,l)){if(f!==null&&op(l)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=l.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!s.extend&&w>f&&(g=f,f=w,w=g),g=Kv(l,w);var I=Kv(l,f);g&&I&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),w>f?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var AN=d&&"documentMode"in document&&11>=document.documentMode,ka=null,ap=null,mc=null,lp=!1;function Yv(s,o,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lp||ka==null||ka!==Ct(f)||(f=ka,"selectionStart"in f&&op(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),mc&&pc(mc,f)||(mc=f,f=ad(ap,"onSelect"),0<f.length&&(o=new ba("onSelect","select",null,o,l),s.push({event:o,listeners:f}),o.target=ka)))}function sd(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var ja={animationend:sd("Animation","AnimationEnd"),animationiteration:sd("Animation","AnimationIteration"),animationstart:sd("Animation","AnimationStart"),transitionend:sd("Transition","TransitionEnd")},cp={},Xv={};d&&(Xv=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function id(s){if(cp[s])return cp[s];if(!ja[s])return s;var o=ja[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Xv)return cp[s]=o[l];return s}var Jv=id("animationend"),Zv=id("animationiteration"),ew=id("animationstart"),tw=id("transitionend"),nw=new Map,rw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(s,o){nw.set(s,o),a(o,[s])}for(var up=0;up<rw.length;up++){var dp=rw[up],PN=dp.toLowerCase(),kN=dp[0].toUpperCase()+dp.slice(1);hi(PN,"on"+kN)}hi(Jv,"onAnimationEnd"),hi(Zv,"onAnimationIteration"),hi(ew,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(tw,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jN=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function sw(s,o,l){var f=s.type||"unknown-event";s.currentTarget=l,Ou(f,o,void 0,s),s.currentTarget=null}function iw(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var f=s[l],g=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var I=f.length-1;0<=I;I--){var O=f[I],B=O.instance,G=O.currentTarget;if(O=O.listener,B!==w&&g.isPropagationStopped())break e;sw(g,O,G),w=B}else for(I=0;I<f.length;I++){if(O=f[I],B=O.instance,G=O.currentTarget,O=O.listener,B!==w&&g.isPropagationStopped())break e;sw(g,O,G),w=B}}}if(_r)throw s=ec,_r=!1,ec=null,s}function gt(s,o){var l=o[wp];l===void 0&&(l=o[wp]=new Set);var f=s+"__bubble";l.has(f)||(ow(o,s,2,!1),l.add(f))}function hp(s,o,l){var f=0;o&&(f|=4),ow(l,s,f,o)}var od="_reactListening"+Math.random().toString(36).slice(2);function yc(s){if(!s[od]){s[od]=!0,r.forEach(function(l){l!=="selectionchange"&&(jN.has(l)||hp(l,!1,s),hp(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[od]||(o[od]=!0,hp("selectionchange",!1,o))}}function ow(s,o,l,f){switch(ac(o)){case 1:var g=wt;break;case 4:g=np;break;default:g=oc}l=g.bind(null,o,l,s),g=void 0,!fa||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,l,{capture:!0,passive:g}):s.addEventListener(o,l,!0):g!==void 0?s.addEventListener(o,l,{passive:g}):s.addEventListener(o,l,!1)}function fp(s,o,l,f,g){var w=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var O=f.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(I===4)for(I=f.return;I!==null;){var B=I.tag;if((B===3||B===4)&&(B=I.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;I=I.return}for(;O!==null;){if(I=Co(O),I===null)return;if(B=I.tag,B===5||B===6){f=w=I;continue e}O=O.parentNode}}f=f.return}Zl(function(){var G=w,se=ua(l),ie=[];e:{var re=nw.get(s);if(re!==void 0){var pe=ba,ve=s;switch(s){case"keypress":if(Ta(l)===0)break e;case"keydown":case"keyup":pe=v;break;case"focusin":ve="focus",pe=Ra;break;case"focusout":ve="blur",pe=Ra;break;case"beforeblur":case"afterblur":pe=Ra;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Y;break;case Jv:case Zv:case ew:pe=As;break;case tw:pe=ot;break;case"scroll":pe=rp;break;case"wheel":pe=Ye;break;case"copy":case"cut":case"paste":pe=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=N}var we=(o&4)!==0,Nt=!we&&s==="scroll",W=we?re!==null?re+"Capture":null:re;we=[];for(var $=G,K;$!==null;){K=$;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,W!==null&&(le=Rt($,W),le!=null&&we.push(vc($,le,K)))),Nt)break;$=$.return}0<we.length&&(re=new pe(re,ve,null,l,se),ie.push({event:re,listeners:we}))}}if((o&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",re&&l!==po&&(ve=l.relatedTarget||l.fromElement)&&(Co(ve)||ve[Ps]))break e;if((pe||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,pe?(ve=l.relatedTarget||l.toElement,pe=G,ve=ve?Co(ve):null,ve!==null&&(Nt=xr(ve),ve!==Nt||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(pe=null,ve=G),pe!==ve)){if(we=Ia,le="onMouseLeave",W="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(we=N,le="onPointerLeave",W="onPointerEnter",$="pointer"),Nt=pe==null?re:Ma(pe),K=ve==null?re:Ma(ve),re=new we(le,$+"leave",pe,l,se),re.target=Nt,re.relatedTarget=K,le=null,Co(se)===G&&(we=new we(W,$+"enter",ve,l,se),we.target=K,we.relatedTarget=Nt,le=we),Nt=le,pe&&ve)t:{for(we=pe,W=ve,$=0,K=we;K;K=Da(K))$++;for(K=0,le=W;le;le=Da(le))K++;for(;0<$-K;)we=Da(we),$--;for(;0<K-$;)W=Da(W),K--;for(;$--;){if(we===W||W!==null&&we===W.alternate)break t;we=Da(we),W=Da(W)}we=null}else we=null;pe!==null&&aw(ie,re,pe,we,!1),ve!==null&&Nt!==null&&aw(ie,Nt,ve,we,!0)}}e:{if(re=G?Ma(G):window,pe=re.nodeName&&re.nodeName.toLowerCase(),pe==="select"||pe==="input"&&re.type==="file")var _e=TN;else if(Uv(re))if($v)_e=CN;else{_e=SN;var Se=bN}else(pe=re.nodeName)&&pe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(_e=IN);if(_e&&(_e=_e(s,G))){Bv(ie,_e,l,se);break e}Se&&Se(s,re,G),s==="focusout"&&(Se=re._wrapperState)&&Se.controlled&&re.type==="number"&&aa(re,"number",re.value)}switch(Se=G?Ma(G):window,s){case"focusin":(Uv(Se)||Se.contentEditable==="true")&&(ka=Se,ap=G,mc=null);break;case"focusout":mc=ap=ka=null;break;case"mousedown":lp=!0;break;case"contextmenu":case"mouseup":case"dragend":lp=!1,Yv(ie,l,se);break;case"selectionchange":if(AN)break;case"keydown":case"keyup":Yv(ie,l,se)}var Ie;if(kt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Pa?Vv(s,l)&&(Ae="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(Io&&l.locale!=="ko"&&(Pa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Pa&&(Ie=lc()):($n=se,Ea="value"in $n?$n.value:$n.textContent,Pa=!0)),Se=ad(G,Ae),0<Se.length&&(Ae=new dc(Ae,s,null,l,se),ie.push({event:Ae,listeners:Se}),Ie?Ae.data=Ie:(Ie=Fv(l),Ie!==null&&(Ae.data=Ie)))),(Ie=qn?wN(s,l):_N(s,l))&&(G=ad(G,"onBeforeInput"),0<G.length&&(se=new dc("onBeforeInput","beforeinput",null,l,se),ie.push({event:se,listeners:G}),se.data=Ie))}iw(ie,o)})}function vc(s,o,l){return{instance:s,listener:o,currentTarget:l}}function ad(s,o){for(var l=o+"Capture",f=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Rt(s,l),w!=null&&f.unshift(vc(s,w,g)),w=Rt(s,o),w!=null&&f.push(vc(s,w,g))),s=s.return}return f}function Da(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function aw(s,o,l,f,g){for(var w=o._reactName,I=[];l!==null&&l!==f;){var O=l,B=O.alternate,G=O.stateNode;if(B!==null&&B===f)break;O.tag===5&&G!==null&&(O=G,g?(B=Rt(l,w),B!=null&&I.unshift(vc(l,B,O))):g||(B=Rt(l,w),B!=null&&I.push(vc(l,B,O)))),l=l.return}I.length!==0&&s.push({event:o,listeners:I})}var DN=/\r\n?/g,ON=/\u0000|\uFFFD/g;function lw(s){return(typeof s=="string"?s:""+s).replace(DN,`
`).replace(ON,"")}function ld(s,o,l){if(o=lw(o),lw(s)!==o&&l)throw Error(n(425))}function cd(){}var pp=null,mp=null;function gp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,MN=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,LN=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(s){return cw.resolve(null).then(s).catch(VN)}:yp;function VN(s){setTimeout(function(){throw s})}function vp(s,o){var l=o,f=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(f===0){s.removeChild(g),Ir(o);return}f--}else l!=="$"&&l!=="$?"&&l!=="$!"||f++;l=g}while(l);Ir(o)}function fi(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function uw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Oa,wc="__reactProps$"+Oa,Ps="__reactContainer$"+Oa,wp="__reactEvents$"+Oa,FN="__reactListeners$"+Oa,UN="__reactHandles$"+Oa;function Co(s){var o=s[Zr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Ps]||l[Zr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=uw(s);s!==null;){if(l=s[Zr])return l;s=uw(s)}return o}s=l,l=s.parentNode}return null}function _c(s){return s=s[Zr]||s[Ps],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ma(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function ud(s){return s[wc]||null}var _p=[],La=-1;function pi(s){return{current:s}}function yt(s){0>La||(s.current=_p[La],_p[La]=null,La--)}function ht(s,o){La++,_p[La]=s.current,s.current=o}var mi={},un=pi(mi),Rn=pi(!1),Ro=mi;function Va(s,o){var l=s.type.contextTypes;if(!l)return mi;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in l)g[w]=o[w];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function Nn(s){return s=s.childContextTypes,s!=null}function dd(){yt(Rn),yt(un)}function dw(s,o,l){if(un.current!==mi)throw Error(n(168));ht(un,o),ht(Rn,l)}function hw(s,o,l){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return l;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(n(108,he(s)||"Unknown",g));return ce({},l,f)}function hd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||mi,Ro=un.current,ht(un,s),ht(Rn,Rn.current),!0}function fw(s,o,l){var f=s.stateNode;if(!f)throw Error(n(169));l?(s=hw(s,o,Ro),f.__reactInternalMemoizedMergedChildContext=s,yt(Rn),yt(un),ht(un,s)):yt(Rn),ht(Rn,l)}var ks=null,fd=!1,xp=!1;function pw(s){ks===null?ks=[s]:ks.push(s)}function BN(s){fd=!0,pw(s)}function gi(){if(!xp&&ks!==null){xp=!0;var s=0,o=Ge;try{var l=ks;for(Ge=1;s<l.length;s++){var f=l[s];do f=f(!0);while(f!==null)}ks=null,fd=!1}catch(g){throw ks!==null&&(ks=ks.slice(s+1)),ya(wo,gi),g}finally{Ge=o,xp=!1}}return null}var Fa=[],Ua=0,pd=null,md=0,ar=[],lr=0,No=null,js=1,Ds="";function Ao(s,o){Fa[Ua++]=md,Fa[Ua++]=pd,pd=s,md=o}function mw(s,o,l){ar[lr++]=js,ar[lr++]=Ds,ar[lr++]=No,No=s;var f=js;s=Ds;var g=32-xn(f)-1;f&=~(1<<g),l+=1;var w=32-xn(o)+g;if(30<w){var I=g-g%5;w=(f&(1<<I)-1).toString(32),f>>=I,g-=I,js=1<<32-xn(o)+g|l<<g|f,Ds=w+s}else js=1<<w|l<<g|f,Ds=s}function Ep(s){s.return!==null&&(Ao(s,1),mw(s,1,0))}function Tp(s){for(;s===pd;)pd=Fa[--Ua],Fa[Ua]=null,md=Fa[--Ua],Fa[Ua]=null;for(;s===No;)No=ar[--lr],ar[lr]=null,Ds=ar[--lr],ar[lr]=null,js=ar[--lr],ar[lr]=null}var zn=null,Hn=null,_t=!1,Nr=null;function gw(s,o){var l=hr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function yw(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,zn=s,Hn=fi(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,zn=s,Hn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=No!==null?{id:js,overflow:Ds}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=hr(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,zn=s,Hn=null,!0):!1;default:return!1}}function bp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sp(s){if(_t){var o=Hn;if(o){var l=o;if(!yw(s,o)){if(bp(s))throw Error(n(418));o=fi(l.nextSibling);var f=zn;o&&yw(s,o)?gw(f,l):(s.flags=s.flags&-4097|2,_t=!1,zn=s)}}else{if(bp(s))throw Error(n(418));s.flags=s.flags&-4097|2,_t=!1,zn=s}}}function vw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function gd(s){if(s!==zn)return!1;if(!_t)return vw(s),_t=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!gp(s.type,s.memoizedProps)),o&&(o=Hn)){if(bp(s))throw ww(),Error(n(418));for(;o;)gw(s,o),o=fi(o.nextSibling)}if(vw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){Hn=fi(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}Hn=null}}else Hn=zn?fi(s.stateNode.nextSibling):null;return!0}function ww(){for(var s=Hn;s;)s=fi(s.nextSibling)}function Ba(){Hn=zn=null,_t=!1}function Ip(s){Nr===null?Nr=[s]:Nr.push(s)}var $N=z.ReactCurrentBatchConfig;function xc(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var f=l.stateNode}if(!f)throw Error(n(147,s));var g=f,w=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(I){var O=g.refs;I===null?delete O[w]:O[w]=I},o._stringRef=w,o)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function yd(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function _w(s){var o=s._init;return o(s._payload)}function xw(s){function o(W,$){if(s){var K=W.deletions;K===null?(W.deletions=[$],W.flags|=16):K.push($)}}function l(W,$){if(!s)return null;for(;$!==null;)o(W,$),$=$.sibling;return null}function f(W,$){for(W=new Map;$!==null;)$.key!==null?W.set($.key,$):W.set($.index,$),$=$.sibling;return W}function g(W,$){return W=bi(W,$),W.index=0,W.sibling=null,W}function w(W,$,K){return W.index=K,s?(K=W.alternate,K!==null?(K=K.index,K<$?(W.flags|=2,$):K):(W.flags|=2,$)):(W.flags|=1048576,$)}function I(W){return s&&W.alternate===null&&(W.flags|=2),W}function O(W,$,K,le){return $===null||$.tag!==6?($=ym(K,W.mode,le),$.return=W,$):($=g($,K),$.return=W,$)}function B(W,$,K,le){var _e=K.type;return _e===k?se(W,$,K.props.children,le,K.key):$!==null&&($.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ne&&_w(_e)===$.type)?(le=g($,K.props),le.ref=xc(W,$,K),le.return=W,le):(le=Bd(K.type,K.key,K.props,null,W.mode,le),le.ref=xc(W,$,K),le.return=W,le)}function G(W,$,K,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=vm(K,W.mode,le),$.return=W,$):($=g($,K.children||[]),$.return=W,$)}function se(W,$,K,le,_e){return $===null||$.tag!==7?($=Vo(K,W.mode,le,_e),$.return=W,$):($=g($,K),$.return=W,$)}function ie(W,$,K){if(typeof $=="string"&&$!==""||typeof $=="number")return $=ym(""+$,W.mode,K),$.return=W,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case Q:return K=Bd($.type,$.key,$.props,null,W.mode,K),K.ref=xc(W,null,$),K.return=W,K;case Z:return $=vm($,W.mode,K),$.return=W,$;case ne:var le=$._init;return ie(W,le($._payload),K)}if(Es($)||ae($))return $=Vo($,W.mode,K,null),$.return=W,$;yd(W,$)}return null}function re(W,$,K,le){var _e=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return _e!==null?null:O(W,$,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===_e?B(W,$,K,le):null;case Z:return K.key===_e?G(W,$,K,le):null;case ne:return _e=K._init,re(W,$,_e(K._payload),le)}if(Es(K)||ae(K))return _e!==null?null:se(W,$,K,le,null);yd(W,K)}return null}function pe(W,$,K,le,_e){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(K)||null,O($,W,""+le,_e);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case Q:return W=W.get(le.key===null?K:le.key)||null,B($,W,le,_e);case Z:return W=W.get(le.key===null?K:le.key)||null,G($,W,le,_e);case ne:var Se=le._init;return pe(W,$,K,Se(le._payload),_e)}if(Es(le)||ae(le))return W=W.get(K)||null,se($,W,le,_e,null);yd($,le)}return null}function ve(W,$,K,le){for(var _e=null,Se=null,Ie=$,Ae=$=0,Yt=null;Ie!==null&&Ae<K.length;Ae++){Ie.index>Ae?(Yt=Ie,Ie=null):Yt=Ie.sibling;var Ze=re(W,Ie,K[Ae],le);if(Ze===null){Ie===null&&(Ie=Yt);break}s&&Ie&&Ze.alternate===null&&o(W,Ie),$=w(Ze,$,Ae),Se===null?_e=Ze:Se.sibling=Ze,Se=Ze,Ie=Yt}if(Ae===K.length)return l(W,Ie),_t&&Ao(W,Ae),_e;if(Ie===null){for(;Ae<K.length;Ae++)Ie=ie(W,K[Ae],le),Ie!==null&&($=w(Ie,$,Ae),Se===null?_e=Ie:Se.sibling=Ie,Se=Ie);return _t&&Ao(W,Ae),_e}for(Ie=f(W,Ie);Ae<K.length;Ae++)Yt=pe(Ie,W,Ae,K[Ae],le),Yt!==null&&(s&&Yt.alternate!==null&&Ie.delete(Yt.key===null?Ae:Yt.key),$=w(Yt,$,Ae),Se===null?_e=Yt:Se.sibling=Yt,Se=Yt);return s&&Ie.forEach(function(Si){return o(W,Si)}),_t&&Ao(W,Ae),_e}function we(W,$,K,le){var _e=ae(K);if(typeof _e!="function")throw Error(n(150));if(K=_e.call(K),K==null)throw Error(n(151));for(var Se=_e=null,Ie=$,Ae=$=0,Yt=null,Ze=K.next();Ie!==null&&!Ze.done;Ae++,Ze=K.next()){Ie.index>Ae?(Yt=Ie,Ie=null):Yt=Ie.sibling;var Si=re(W,Ie,Ze.value,le);if(Si===null){Ie===null&&(Ie=Yt);break}s&&Ie&&Si.alternate===null&&o(W,Ie),$=w(Si,$,Ae),Se===null?_e=Si:Se.sibling=Si,Se=Si,Ie=Yt}if(Ze.done)return l(W,Ie),_t&&Ao(W,Ae),_e;if(Ie===null){for(;!Ze.done;Ae++,Ze=K.next())Ze=ie(W,Ze.value,le),Ze!==null&&($=w(Ze,$,Ae),Se===null?_e=Ze:Se.sibling=Ze,Se=Ze);return _t&&Ao(W,Ae),_e}for(Ie=f(W,Ie);!Ze.done;Ae++,Ze=K.next())Ze=pe(Ie,W,Ae,Ze.value,le),Ze!==null&&(s&&Ze.alternate!==null&&Ie.delete(Ze.key===null?Ae:Ze.key),$=w(Ze,$,Ae),Se===null?_e=Ze:Se.sibling=Ze,Se=Ze);return s&&Ie.forEach(function(xA){return o(W,xA)}),_t&&Ao(W,Ae),_e}function Nt(W,$,K,le){if(typeof K=="object"&&K!==null&&K.type===k&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var _e=K.key,Se=$;Se!==null;){if(Se.key===_e){if(_e=K.type,_e===k){if(Se.tag===7){l(W,Se.sibling),$=g(Se,K.props.children),$.return=W,W=$;break e}}else if(Se.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===ne&&_w(_e)===Se.type){l(W,Se.sibling),$=g(Se,K.props),$.ref=xc(W,Se,K),$.return=W,W=$;break e}l(W,Se);break}else o(W,Se);Se=Se.sibling}K.type===k?($=Vo(K.props.children,W.mode,le,K.key),$.return=W,W=$):(le=Bd(K.type,K.key,K.props,null,W.mode,le),le.ref=xc(W,$,K),le.return=W,W=le)}return I(W);case Z:e:{for(Se=K.key;$!==null;){if($.key===Se)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(W,$.sibling),$=g($,K.children||[]),$.return=W,W=$;break e}else{l(W,$);break}else o(W,$);$=$.sibling}$=vm(K,W.mode,le),$.return=W,W=$}return I(W);case ne:return Se=K._init,Nt(W,$,Se(K._payload),le)}if(Es(K))return ve(W,$,K,le);if(ae(K))return we(W,$,K,le);yd(W,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,$!==null&&$.tag===6?(l(W,$.sibling),$=g($,K),$.return=W,W=$):(l(W,$),$=ym(K,W.mode,le),$.return=W,W=$),I(W)):l(W,$)}return Nt}var $a=xw(!0),Ew=xw(!1),vd=pi(null),wd=null,qa=null,Cp=null;function Rp(){Cp=qa=wd=null}function Np(s){var o=vd.current;yt(vd),s._currentValue=o}function Ap(s,o,l){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===l)break;s=s.return}}function za(s,o){wd=s,Cp=qa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(An=!0),s.firstContext=null)}function cr(s){var o=s._currentValue;if(Cp!==s)if(s={context:s,memoizedValue:o,next:null},qa===null){if(wd===null)throw Error(n(308));qa=s,wd.dependencies={lanes:0,firstContext:s}}else qa=qa.next=s;return o}var Po=null;function Pp(s){Po===null?Po=[s]:Po.push(s)}function Tw(s,o,l,f){var g=o.interleaved;return g===null?(l.next=l,Pp(o)):(l.next=g.next,g.next=l),o.interleaved=l,Os(s,f)}function Os(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var yi=!1;function kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bw(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ms(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function vi(s,o,l){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Je&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Os(s,l)}return g=f.interleaved,g===null?(o.next=o,Pp(f)):(o.next=g.next,g.next=o),f.interleaved=o,Os(s,l)}function _d(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,l|=f,o.lanes=l,ai(s,l)}}function Sw(s,o){var l=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var g=null,w=null;if(l=l.firstBaseUpdate,l!==null){do{var I={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};w===null?g=w=I:w=w.next=I,l=l.next}while(l!==null);w===null?g=w=o:w=w.next=o}else g=w=o;l={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function xd(s,o,l,f){var g=s.updateQueue;yi=!1;var w=g.firstBaseUpdate,I=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var B=O,G=B.next;B.next=null,I===null?w=G:I.next=G,I=B;var se=s.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==I&&(O===null?se.firstBaseUpdate=G:O.next=G,se.lastBaseUpdate=B))}if(w!==null){var ie=g.baseState;I=0,se=G=B=null,O=w;do{var re=O.lane,pe=O.eventTime;if((f&re)===re){se!==null&&(se=se.next={eventTime:pe,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var ve=s,we=O;switch(re=o,pe=l,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){ie=ve.call(pe,ie,re);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,re=typeof ve=="function"?ve.call(pe,ie,re):ve,re==null)break e;ie=ce({},ie,re);break e;case 2:yi=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[O]:re.push(O))}else pe={eventTime:pe,lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(G=se=pe,B=ie):se=se.next=pe,I|=re;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;re=O,O=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(se===null&&(B=ie),g.baseState=B,g.firstBaseUpdate=G,g.lastBaseUpdate=se,o=g.shared.interleaved,o!==null){g=o;do I|=g.lane,g=g.next;while(g!==o)}else w===null&&(g.shared.lanes=0);Do|=I,s.lanes=I,s.memoizedState=ie}}function Iw(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=l,typeof g!="function")throw Error(n(191,g));g.call(f)}}}var Ec={},es=pi(Ec),Tc=pi(Ec),bc=pi(Ec);function ko(s){if(s===Ec)throw Error(n(174));return s}function jp(s,o){switch(ht(bc,o),ht(Tc,s),ht(es,Ec),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ft(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Ft(o,s)}yt(es),ht(es,o)}function Ha(){yt(es),yt(Tc),yt(bc)}function Cw(s){ko(bc.current);var o=ko(es.current),l=Ft(o,s.type);o!==l&&(ht(Tc,s),ht(es,l))}function Dp(s){Tc.current===s&&(yt(es),yt(Tc))}var xt=pi(0);function Ed(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Op=[];function Mp(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var Td=z.ReactCurrentDispatcher,Lp=z.ReactCurrentBatchConfig,jo=0,Et=null,Bt=null,Gt=null,bd=!1,Sc=!1,Ic=0,qN=0;function dn(){throw Error(n(321))}function Vp(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Rr(s[l],o[l]))return!1;return!0}function Fp(s,o,l,f,g,w){if(jo=w,Et=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Td.current=s===null||s.memoizedState===null?KN:GN,s=l(f,g),Sc){w=0;do{if(Sc=!1,Ic=0,25<=w)throw Error(n(301));w+=1,Gt=Bt=null,o.updateQueue=null,Td.current=QN,s=l(f,g)}while(Sc)}if(Td.current=Cd,o=Bt!==null&&Bt.next!==null,jo=0,Gt=Bt=Et=null,bd=!1,o)throw Error(n(300));return s}function Up(){var s=Ic!==0;return Ic=0,s}function ts(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Et.memoizedState=Gt=s:Gt=Gt.next=s,Gt}function ur(){if(Bt===null){var s=Et.alternate;s=s!==null?s.memoizedState:null}else s=Bt.next;var o=Gt===null?Et.memoizedState:Gt.next;if(o!==null)Gt=o,Bt=s;else{if(s===null)throw Error(n(310));Bt=s,s={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?Et.memoizedState=Gt=s:Gt=Gt.next=s}return Gt}function Cc(s,o){return typeof o=="function"?o(s):o}function Bp(s){var o=ur(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var f=Bt,g=f.baseQueue,w=l.pending;if(w!==null){if(g!==null){var I=g.next;g.next=w.next,w.next=I}f.baseQueue=g=w,l.pending=null}if(g!==null){w=g.next,f=f.baseState;var O=I=null,B=null,G=w;do{var se=G.lane;if((jo&se)===se)B!==null&&(B=B.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var ie={lane:se,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};B===null?(O=B=ie,I=f):B=B.next=ie,Et.lanes|=se,Do|=se}G=G.next}while(G!==null&&G!==w);B===null?I=f:B.next=O,Rr(f,o.memoizedState)||(An=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=B,l.lastRenderedState=f}if(s=l.interleaved,s!==null){g=s;do w=g.lane,Et.lanes|=w,Do|=w,g=g.next;while(g!==s)}else g===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function $p(s){var o=ur(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var f=l.dispatch,g=l.pending,w=o.memoizedState;if(g!==null){l.pending=null;var I=g=g.next;do w=s(w,I.action),I=I.next;while(I!==g);Rr(w,o.memoizedState)||(An=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),l.lastRenderedState=w}return[w,f]}function Rw(){}function Nw(s,o){var l=Et,f=ur(),g=o(),w=!Rr(f.memoizedState,g);if(w&&(f.memoizedState=g,An=!0),f=f.queue,qp(kw.bind(null,l,f,s),[s]),f.getSnapshot!==o||w||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Rc(9,Pw.bind(null,l,f,g,o),void 0,null),Qt===null)throw Error(n(349));(jo&30)!==0||Aw(l,o,g)}return g}function Aw(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function Pw(s,o,l,f){o.value=l,o.getSnapshot=f,jw(o)&&Dw(s)}function kw(s,o,l){return l(function(){jw(o)&&Dw(s)})}function jw(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Rr(s,l)}catch{return!0}}function Dw(s){var o=Os(s,1);o!==null&&jr(o,s,1,-1)}function Ow(s){var o=ts();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:s},o.queue=s,s=s.dispatch=WN.bind(null,Et,s),[o.memoizedState,s]}function Rc(s,o,l,f){return s={tag:s,create:o,destroy:l,deps:f,next:null},o=Et.updateQueue,o===null?(o={lastEffect:null,stores:null},Et.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(f=l.next,l.next=s,s.next=f,o.lastEffect=s)),s}function Mw(){return ur().memoizedState}function Sd(s,o,l,f){var g=ts();Et.flags|=s,g.memoizedState=Rc(1|o,l,void 0,f===void 0?null:f)}function Id(s,o,l,f){var g=ur();f=f===void 0?null:f;var w=void 0;if(Bt!==null){var I=Bt.memoizedState;if(w=I.destroy,f!==null&&Vp(f,I.deps)){g.memoizedState=Rc(o,l,w,f);return}}Et.flags|=s,g.memoizedState=Rc(1|o,l,w,f)}function Lw(s,o){return Sd(8390656,8,s,o)}function qp(s,o){return Id(2048,8,s,o)}function Vw(s,o){return Id(4,2,s,o)}function Fw(s,o){return Id(4,4,s,o)}function Uw(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Bw(s,o,l){return l=l!=null?l.concat([s]):null,Id(4,4,Uw.bind(null,o,s),l)}function zp(){}function $w(s,o){var l=ur();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Vp(o,f[1])?f[0]:(l.memoizedState=[s,o],s)}function qw(s,o){var l=ur();o=o===void 0?null:o;var f=l.memoizedState;return f!==null&&o!==null&&Vp(o,f[1])?f[0]:(s=s(),l.memoizedState=[s,o],s)}function zw(s,o,l){return(jo&21)===0?(s.baseState&&(s.baseState=!1,An=!0),s.memoizedState=l):(Rr(l,o)||(l=Eo(),Et.lanes|=l,Do|=l,s.baseState=!0),o)}function zN(s,o){var l=Ge;Ge=l!==0&&4>l?l:4,s(!0);var f=Lp.transition;Lp.transition={};try{s(!1),o()}finally{Ge=l,Lp.transition=f}}function Hw(){return ur().memoizedState}function HN(s,o,l){var f=Ei(s);if(l={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null},Ww(s))Kw(o,l);else if(l=Tw(s,o,l,f),l!==null){var g=bn();jr(l,s,f,g),Gw(l,o,f)}}function WN(s,o,l){var f=Ei(s),g={lane:f,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ww(s))Kw(o,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var I=o.lastRenderedState,O=w(I,l);if(g.hasEagerState=!0,g.eagerState=O,Rr(O,I)){var B=o.interleaved;B===null?(g.next=g,Pp(o)):(g.next=B.next,B.next=g),o.interleaved=g;return}}catch{}finally{}l=Tw(s,o,g,f),l!==null&&(g=bn(),jr(l,s,f,g),Gw(l,o,f))}}function Ww(s){var o=s.alternate;return s===Et||o!==null&&o===Et}function Kw(s,o){Sc=bd=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function Gw(s,o,l){if((l&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,l|=f,o.lanes=l,ai(s,l)}}var Cd={readContext:cr,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},KN={readContext:cr,useCallback:function(s,o){return ts().memoizedState=[s,o===void 0?null:o],s},useContext:cr,useEffect:Lw,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Sd(4194308,4,Uw.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Sd(4194308,4,s,o)},useInsertionEffect:function(s,o){return Sd(4,2,s,o)},useMemo:function(s,o){var l=ts();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var f=ts();return o=l!==void 0?l(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=HN.bind(null,Et,s),[f.memoizedState,s]},useRef:function(s){var o=ts();return s={current:s},o.memoizedState=s},useState:Ow,useDebugValue:zp,useDeferredValue:function(s){return ts().memoizedState=s},useTransition:function(){var s=Ow(!1),o=s[0];return s=zN.bind(null,s[1]),ts().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var f=Et,g=ts();if(_t){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Qt===null)throw Error(n(349));(jo&30)!==0||Aw(f,o,l)}g.memoizedState=l;var w={value:l,getSnapshot:o};return g.queue=w,Lw(kw.bind(null,f,w,s),[s]),f.flags|=2048,Rc(9,Pw.bind(null,f,w,l,o),void 0,null),l},useId:function(){var s=ts(),o=Qt.identifierPrefix;if(_t){var l=Ds,f=js;l=(f&~(1<<32-xn(f)-1)).toString(32)+l,o=":"+o+"R"+l,l=Ic++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=qN++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},GN={readContext:cr,useCallback:$w,useContext:cr,useEffect:qp,useImperativeHandle:Bw,useInsertionEffect:Vw,useLayoutEffect:Fw,useMemo:qw,useReducer:Bp,useRef:Mw,useState:function(){return Bp(Cc)},useDebugValue:zp,useDeferredValue:function(s){var o=ur();return zw(o,Bt.memoizedState,s)},useTransition:function(){var s=Bp(Cc)[0],o=ur().memoizedState;return[s,o]},useMutableSource:Rw,useSyncExternalStore:Nw,useId:Hw,unstable_isNewReconciler:!1},QN={readContext:cr,useCallback:$w,useContext:cr,useEffect:qp,useImperativeHandle:Bw,useInsertionEffect:Vw,useLayoutEffect:Fw,useMemo:qw,useReducer:$p,useRef:Mw,useState:function(){return $p(Cc)},useDebugValue:zp,useDeferredValue:function(s){var o=ur();return Bt===null?o.memoizedState=s:zw(o,Bt.memoizedState,s)},useTransition:function(){var s=$p(Cc)[0],o=ur().memoizedState;return[s,o]},useMutableSource:Rw,useSyncExternalStore:Nw,useId:Hw,unstable_isNewReconciler:!1};function Ar(s,o){if(s&&s.defaultProps){o=ce({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Hp(s,o,l,f){o=s.memoizedState,l=l(f,o),l=l==null?o:ce({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Rd={isMounted:function(s){return(s=s._reactInternals)?xr(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var f=bn(),g=Ei(s),w=Ms(f,g);w.payload=o,l!=null&&(w.callback=l),o=vi(s,w,g),o!==null&&(jr(o,s,g,f),_d(o,s,g))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var f=bn(),g=Ei(s),w=Ms(f,g);w.tag=1,w.payload=o,l!=null&&(w.callback=l),o=vi(s,w,g),o!==null&&(jr(o,s,g,f),_d(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=bn(),f=Ei(s),g=Ms(l,f);g.tag=2,o!=null&&(g.callback=o),o=vi(s,g,f),o!==null&&(jr(o,s,f,l),_d(o,s,f))}};function Qw(s,o,l,f,g,w,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,w,I):o.prototype&&o.prototype.isPureReactComponent?!pc(l,f)||!pc(g,w):!0}function Yw(s,o,l){var f=!1,g=mi,w=o.contextType;return typeof w=="object"&&w!==null?w=cr(w):(g=Nn(o)?Ro:un.current,f=o.contextTypes,w=(f=f!=null)?Va(s,g):mi),o=new o(l,w),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rd,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),o}function Xw(s,o,l,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,f),o.state!==s&&Rd.enqueueReplaceState(o,o.state,null)}function Wp(s,o,l,f){var g=s.stateNode;g.props=l,g.state=s.memoizedState,g.refs={},kp(s);var w=o.contextType;typeof w=="object"&&w!==null?g.context=cr(w):(w=Nn(o)?Ro:un.current,g.context=Va(s,w)),g.state=s.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hp(s,o,w,l),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Rd.enqueueReplaceState(g,g.state,null),xd(s,l,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Wa(s,o){try{var l="",f=o;do l+=Pe(f),f=f.return;while(f);var g=l}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:o,stack:g,digest:null}}function Kp(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Gp(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var YN=typeof WeakMap=="function"?WeakMap:Map;function Jw(s,o,l){l=Ms(-1,l),l.tag=3,l.payload={element:null};var f=o.value;return l.callback=function(){Od||(Od=!0,cm=f),Gp(s,o)},l}function Zw(s,o,l){l=Ms(-1,l),l.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;l.payload=function(){return f(g)},l.callback=function(){Gp(s,o)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(l.callback=function(){Gp(s,o),typeof f!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),l}function e_(s,o,l){var f=s.pingCache;if(f===null){f=s.pingCache=new YN;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(l)||(g.add(l),s=uA.bind(null,s,o,l),o.then(s,s))}function t_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function n_(s,o,l,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ms(-1,1),o.tag=2,vi(l,o,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var XN=z.ReactCurrentOwner,An=!1;function Tn(s,o,l,f){o.child=s===null?Ew(o,null,l,f):$a(o,s.child,l,f)}function r_(s,o,l,f,g){l=l.render;var w=o.ref;return za(o,g),f=Fp(s,o,l,f,w,g),l=Up(),s!==null&&!An?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ls(s,o,g)):(_t&&l&&Ep(o),o.flags|=1,Tn(s,o,f,g),o.child)}function s_(s,o,l,f,g){if(s===null){var w=l.type;return typeof w=="function"&&!gm(w)&&w.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=w,i_(s,o,w,f,g)):(s=Bd(l.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,(s.lanes&g)===0){var I=w.memoizedProps;if(l=l.compare,l=l!==null?l:pc,l(I,f)&&s.ref===o.ref)return Ls(s,o,g)}return o.flags|=1,s=bi(w,f),s.ref=o.ref,s.return=o,o.child=s}function i_(s,o,l,f,g){if(s!==null){var w=s.memoizedProps;if(pc(w,f)&&s.ref===o.ref)if(An=!1,o.pendingProps=f=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(An=!0);else return o.lanes=s.lanes,Ls(s,o,g)}return Qp(s,o,l,f,g)}function o_(s,o,l){var f=o.pendingProps,g=f.children,w=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Ga,Wn),Wn|=l;else{if((l&1073741824)===0)return s=w!==null?w.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,ht(Ga,Wn),Wn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:l,ht(Ga,Wn),Wn|=f}else w!==null?(f=w.baseLanes|l,o.memoizedState=null):f=l,ht(Ga,Wn),Wn|=f;return Tn(s,o,g,l),o.child}function a_(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Qp(s,o,l,f,g){var w=Nn(l)?Ro:un.current;return w=Va(o,w),za(o,g),l=Fp(s,o,l,f,w,g),f=Up(),s!==null&&!An?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Ls(s,o,g)):(_t&&f&&Ep(o),o.flags|=1,Tn(s,o,l,g),o.child)}function l_(s,o,l,f,g){if(Nn(l)){var w=!0;hd(o)}else w=!1;if(za(o,g),o.stateNode===null)Ad(s,o),Yw(o,l,f),Wp(o,l,f,g),f=!0;else if(s===null){var I=o.stateNode,O=o.memoizedProps;I.props=O;var B=I.context,G=l.contextType;typeof G=="object"&&G!==null?G=cr(G):(G=Nn(l)?Ro:un.current,G=Va(o,G));var se=l.getDerivedStateFromProps,ie=typeof se=="function"||typeof I.getSnapshotBeforeUpdate=="function";ie||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==f||B!==G)&&Xw(o,I,f,G),yi=!1;var re=o.memoizedState;I.state=re,xd(o,f,I,g),B=o.memoizedState,O!==f||re!==B||Rn.current||yi?(typeof se=="function"&&(Hp(o,l,se,f),B=o.memoizedState),(O=yi||Qw(o,l,O,f,re,B,G))?(ie||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=B),I.props=f,I.state=B,I.context=G,f=O):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,bw(s,o),O=o.memoizedProps,G=o.type===o.elementType?O:Ar(o.type,O),I.props=G,ie=o.pendingProps,re=I.context,B=l.contextType,typeof B=="object"&&B!==null?B=cr(B):(B=Nn(l)?Ro:un.current,B=Va(o,B));var pe=l.getDerivedStateFromProps;(se=typeof pe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(O!==ie||re!==B)&&Xw(o,I,f,B),yi=!1,re=o.memoizedState,I.state=re,xd(o,f,I,g);var ve=o.memoizedState;O!==ie||re!==ve||Rn.current||yi?(typeof pe=="function"&&(Hp(o,l,pe,f),ve=o.memoizedState),(G=yi||Qw(o,l,G,f,re,ve,B)||!1)?(se||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,ve,B),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,ve,B)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ve),I.props=f,I.state=ve,I.context=B,f=G):(typeof I.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(o.flags|=1024),f=!1)}return Yp(s,o,l,f,w,g)}function Yp(s,o,l,f,g,w){a_(s,o);var I=(o.flags&128)!==0;if(!f&&!I)return g&&fw(o,l,!1),Ls(s,o,w);f=o.stateNode,XN.current=o;var O=I&&typeof l.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&I?(o.child=$a(o,s.child,null,w),o.child=$a(o,null,O,w)):Tn(s,o,O,w),o.memoizedState=f.state,g&&fw(o,l,!0),o.child}function c_(s){var o=s.stateNode;o.pendingContext?dw(s,o.pendingContext,o.pendingContext!==o.context):o.context&&dw(s,o.context,!1),jp(s,o.containerInfo)}function u_(s,o,l,f,g){return Ba(),Ip(g),o.flags|=256,Tn(s,o,l,f),o.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(s){return{baseLanes:s,cachePool:null,transitions:null}}function d_(s,o,l){var f=o.pendingProps,g=xt.current,w=!1,I=(o.flags&128)!==0,O;if((O=I)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(w=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ht(xt,g&1),s===null)return Sp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,s=f.fallback,w?(f=o.mode,w=o.child,I={mode:"hidden",children:I},(f&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=I):w=$d(I,f,0,null),s=Vo(s,f,l,null),w.return=o,s.return=o,w.sibling=s,o.child=w,o.child.memoizedState=Jp(l),o.memoizedState=Xp,s):Zp(o,I));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return JN(s,o,I,f,O,g,l);if(w){w=f.fallback,I=o.mode,g=s.child,O=g.sibling;var B={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=B,o.deletions=null):(f=bi(g,B),f.subtreeFlags=g.subtreeFlags&14680064),O!==null?w=bi(O,w):(w=Vo(w,I,l,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,I=s.child.memoizedState,I=I===null?Jp(l):{baseLanes:I.baseLanes|l,cachePool:null,transitions:I.transitions},w.memoizedState=I,w.childLanes=s.childLanes&~l,o.memoizedState=Xp,f}return w=s.child,s=w.sibling,f=bi(w,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=l),f.return=o,f.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=f,o.memoizedState=null,f}function Zp(s,o){return o=$d({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Nd(s,o,l,f){return f!==null&&Ip(f),$a(o,s.child,null,l),s=Zp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function JN(s,o,l,f,g,w,I){if(l)return o.flags&256?(o.flags&=-257,f=Kp(Error(n(422))),Nd(s,o,I,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(w=f.fallback,g=o.mode,f=$d({mode:"visible",children:f.children},g,0,null),w=Vo(w,g,I,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,(o.mode&1)!==0&&$a(o,s.child,null,I),o.child.memoizedState=Jp(I),o.memoizedState=Xp,w);if((o.mode&1)===0)return Nd(s,o,I,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var O=f.dgst;return f=O,w=Error(n(419)),f=Kp(w,f,void 0),Nd(s,o,I,f)}if(O=(I&s.childLanes)!==0,An||O){if(f=Qt,f!==null){switch(I&-I){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|I))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Os(s,g),jr(f,s,g,-1))}return mm(),f=Kp(Error(n(421))),Nd(s,o,I,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=dA.bind(null,s),g._reactRetry=o,null):(s=w.treeContext,Hn=fi(g.nextSibling),zn=o,_t=!0,Nr=null,s!==null&&(ar[lr++]=js,ar[lr++]=Ds,ar[lr++]=No,js=s.id,Ds=s.overflow,No=o),o=Zp(o,f.children),o.flags|=4096,o)}function h_(s,o,l){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Ap(s.return,o,l)}function em(s,o,l,f,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:g}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=l,w.tailMode=g)}function f_(s,o,l){var f=o.pendingProps,g=f.revealOrder,w=f.tail;if(Tn(s,o,f.children,l),f=xt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&h_(s,l,o);else if(s.tag===19)h_(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ht(xt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(l=o.child,g=null;l!==null;)s=l.alternate,s!==null&&Ed(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=o.child,o.child=null):(g=l.sibling,l.sibling=null),em(o,!1,g,l,w);break;case"backwards":for(l=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Ed(s)===null){o.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}em(o,!0,l,null,w);break;case"together":em(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ad(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Ls(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Do|=o.lanes,(l&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,l=bi(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=bi(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function ZN(s,o,l){switch(o.tag){case 3:c_(o),Ba();break;case 5:Cw(o);break;case 1:Nn(o.type)&&hd(o);break;case 4:jp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;ht(vd,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(ht(xt,xt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?d_(s,o,l):(ht(xt,xt.current&1),s=Ls(s,o,l),s!==null?s.sibling:null);ht(xt,xt.current&1);break;case 19:if(f=(l&o.childLanes)!==0,(s.flags&128)!==0){if(f)return f_(s,o,l);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ht(xt,xt.current),f)break;return null;case 22:case 23:return o.lanes=0,o_(s,o,l)}return Ls(s,o,l)}var p_,tm,m_,g_;p_=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},tm=function(){},m_=function(s,o,l,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,ko(es.current);var w=null;switch(l){case"input":g=_n(s,g),f=_n(s,f),w=[];break;case"select":g=ce({},g,{value:void 0}),f=ce({},f,{value:void 0}),w=[];break;case"textarea":g=ql(s,g),f=ql(s,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=cd)}Ql(l,f);var I;l=null;for(G in g)if(!f.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var O=g[G];for(I in O)O.hasOwnProperty(I)&&(l||(l={}),l[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?w||(w=[]):(w=w||[]).push(G,null));for(G in f){var B=f[G];if(O=g?.[G],f.hasOwnProperty(G)&&B!==O&&(B!=null||O!=null))if(G==="style")if(O){for(I in O)!O.hasOwnProperty(I)||B&&B.hasOwnProperty(I)||(l||(l={}),l[I]="");for(I in B)B.hasOwnProperty(I)&&O[I]!==B[I]&&(l||(l={}),l[I]=B[I])}else l||(w||(w=[]),w.push(G,l)),l=B;else G==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,O=O?O.__html:void 0,B!=null&&O!==B&&(w=w||[]).push(G,B)):G==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(G,""+B):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(B!=null&&G==="onScroll"&&gt("scroll",s),w||O===B||(w=[])):(w=w||[]).push(G,B))}l&&(w=w||[]).push("style",l);var G=w;(o.updateQueue=G)&&(o.flags|=4)}},g_=function(s,o,l,f){l!==f&&(o.flags|=4)};function Nc(s,o){if(!_t)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function hn(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,f=0;if(o)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=l,o}function eA(s,o,l){var f=o.pendingProps;switch(Tp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(o),null;case 1:return Nn(o.type)&&dd(),hn(o),null;case 3:return f=o.stateNode,Ha(),yt(Rn),yt(un),Mp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(gd(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Nr!==null&&(hm(Nr),Nr=null))),tm(s,o),hn(o),null;case 5:Dp(o);var g=ko(bc.current);if(l=o.type,s!==null&&o.stateNode!=null)m_(s,o,l,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return hn(o),null}if(s=ko(es.current),gd(o)){f=o.stateNode,l=o.type;var w=o.memoizedProps;switch(f[Zr]=o,f[wc]=w,s=(o.mode&1)!==0,l){case"dialog":gt("cancel",f),gt("close",f);break;case"iframe":case"object":case"embed":gt("load",f);break;case"video":case"audio":for(g=0;g<gc.length;g++)gt(gc[g],f);break;case"source":gt("error",f);break;case"img":case"image":case"link":gt("error",f),gt("load",f);break;case"details":gt("toggle",f);break;case"input":Hr(f,w),gt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},gt("invalid",f);break;case"textarea":la(f,w),gt("invalid",f)}Ql(l,w),g=null;for(var I in w)if(w.hasOwnProperty(I)){var O=w[I];I==="children"?typeof O=="string"?f.textContent!==O&&(w.suppressHydrationWarning!==!0&&ld(f.textContent,O,s),g=["children",O]):typeof O=="number"&&f.textContent!==""+O&&(w.suppressHydrationWarning!==!0&&ld(f.textContent,O,s),g=["children",""+O]):i.hasOwnProperty(I)&&O!=null&&I==="onScroll"&&gt("scroll",f)}switch(l){case"input":Qe(f),Du(f,w,!0);break;case"textarea":Qe(f),zl(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=cd)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=I.createElement(l,{is:f.is}):(s=I.createElement(l),l==="select"&&(I=s,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):s=I.createElementNS(s,l),s[Zr]=o,s[wc]=f,p_(s,o,!1,!1),o.stateNode=s;e:{switch(I=Yl(l,f),l){case"dialog":gt("cancel",s),gt("close",s),g=f;break;case"iframe":case"object":case"embed":gt("load",s),g=f;break;case"video":case"audio":for(g=0;g<gc.length;g++)gt(gc[g],s);g=f;break;case"source":gt("error",s),g=f;break;case"img":case"image":case"link":gt("error",s),gt("load",s),g=f;break;case"details":gt("toggle",s),g=f;break;case"input":Hr(s,f),g=_n(s,f),gt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ce({},f,{value:void 0}),gt("invalid",s);break;case"textarea":la(s,f),g=ql(s,f),gt("invalid",s);break;default:g=f}Ql(l,g),O=g;for(w in O)if(O.hasOwnProperty(w)){var B=O[w];w==="style"?Kl(s,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Hl(s,B)):w==="children"?typeof B=="string"?(l!=="textarea"||B!=="")&&ni(s,B):typeof B=="number"&&ni(s,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&gt("scroll",s):B!=null&&U(s,w,B,I))}switch(l){case"input":Qe(s),Du(s,f,!1);break;case"textarea":Qe(s),zl(s);break;case"option":f.value!=null&&s.setAttribute("value",""+be(f.value));break;case"select":s.multiple=!!f.multiple,w=f.value,w!=null?Ts(s,!!f.multiple,w,!1):f.defaultValue!=null&&Ts(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=cd)}switch(l){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return hn(o),null;case 6:if(s&&o.stateNode!=null)g_(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(l=ko(bc.current),ko(es.current),gd(o)){if(f=o.stateNode,l=o.memoizedProps,f[Zr]=o,(w=f.nodeValue!==l)&&(s=zn,s!==null))switch(s.tag){case 3:ld(f.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ld(f.nodeValue,l,(s.mode&1)!==0)}w&&(o.flags|=4)}else f=(l.nodeType===9?l:l.ownerDocument).createTextNode(f),f[Zr]=o,o.stateNode=f}return hn(o),null;case 13:if(yt(xt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&Hn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ww(),Ba(),o.flags|=98560,w=!1;else if(w=gd(o),f!==null&&f.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Zr]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),w=!1}else Nr!==null&&(hm(Nr),Nr=null),w=!0;if(!w)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(xt.current&1)!==0?$t===0&&($t=3):mm())),o.updateQueue!==null&&(o.flags|=4),hn(o),null);case 4:return Ha(),tm(s,o),s===null&&yc(o.stateNode.containerInfo),hn(o),null;case 10:return Np(o.type._context),hn(o),null;case 17:return Nn(o.type)&&dd(),hn(o),null;case 19:if(yt(xt),w=o.memoizedState,w===null)return hn(o),null;if(f=(o.flags&128)!==0,I=w.rendering,I===null)if(f)Nc(w,!1);else{if($t!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=Ed(s),I!==null){for(o.flags|=128,Nc(w,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=l,l=o.child;l!==null;)w=l,s=f,w.flags&=14680066,I=w.alternate,I===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=I.childLanes,w.lanes=I.lanes,w.child=I.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=I.memoizedProps,w.memoizedState=I.memoizedState,w.updateQueue=I.updateQueue,w.type=I.type,s=I.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return ht(xt,xt.current&1|2),o.child}s=s.sibling}w.tail!==null&&dt()>Qa&&(o.flags|=128,f=!0,Nc(w,!1),o.lanes=4194304)}else{if(!f)if(s=Ed(I),s!==null){if(o.flags|=128,f=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Nc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!I.alternate&&!_t)return hn(o),null}else 2*dt()-w.renderingStartTime>Qa&&l!==1073741824&&(o.flags|=128,f=!0,Nc(w,!1),o.lanes=4194304);w.isBackwards?(I.sibling=o.child,o.child=I):(l=w.last,l!==null?l.sibling=I:o.child=I,w.last=I)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=dt(),o.sibling=null,l=xt.current,ht(xt,f?l&1|2:l&1),o):(hn(o),null);case 22:case 23:return pm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(Wn&1073741824)!==0&&(hn(o),o.subtreeFlags&6&&(o.flags|=8192)):hn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function tA(s,o){switch(Tp(o),o.tag){case 1:return Nn(o.type)&&dd(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ha(),yt(Rn),yt(un),Mp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Dp(o),null;case 13:if(yt(xt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ba()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return yt(xt),null;case 4:return Ha(),null;case 10:return Np(o.type._context),null;case 22:case 23:return pm(),null;case 24:return null;default:return null}}var Pd=!1,fn=!1,nA=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ka(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(f){St(s,o,f)}else l.current=null}function nm(s,o,l){try{l()}catch(f){St(s,o,f)}}var y_=!1;function rA(s,o){if(pp=ui,s=Qv(),op(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{l.nodeType,w.nodeType}catch{l=null;break e}var I=0,O=-1,B=-1,G=0,se=0,ie=s,re=null;t:for(;;){for(var pe;ie!==l||g!==0&&ie.nodeType!==3||(O=I+g),ie!==w||f!==0&&ie.nodeType!==3||(B=I+f),ie.nodeType===3&&(I+=ie.nodeValue.length),(pe=ie.firstChild)!==null;)re=ie,ie=pe;for(;;){if(ie===s)break t;if(re===l&&++G===g&&(O=I),re===w&&++se===f&&(B=I),(pe=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=pe}l=O===-1||B===-1?null:{start:O,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(mp={focusedElem:s,selectionRange:l},ui=!1,ye=o;ye!==null;)if(o=ye,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ye=s;else for(;ye!==null;){o=ye;try{var ve=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,Nt=ve.memoizedState,W=o.stateNode,$=W.getSnapshotBeforeUpdate(o.elementType===o.type?we:Ar(o.type,we),Nt);W.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){St(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,ye=s;break}ye=o.return}return ve=y_,y_=!1,ve}function Ac(s,o,l){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&nm(o,l,w)}g=g.next}while(g!==f)}}function kd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var f=l.create;l.destroy=f()}l=l.next}while(l!==o)}}function rm(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function v_(s){var o=s.alternate;o!==null&&(s.alternate=null,v_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Zr],delete o[wc],delete o[wp],delete o[FN],delete o[UN])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function w_(s){return s.tag===5||s.tag===3||s.tag===4}function __(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||w_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sm(s,o,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=cd));else if(f!==4&&(s=s.child,s!==null))for(sm(s,o,l),s=s.sibling;s!==null;)sm(s,o,l),s=s.sibling}function im(s,o,l){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(im(s,o,l),s=s.sibling;s!==null;)im(s,o,l),s=s.sibling}var rn=null,Pr=!1;function wi(s,o,l){for(l=l.child;l!==null;)x_(s,o,l),l=l.sibling}function x_(s,o,l){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(_o,l)}catch{}switch(l.tag){case 5:fn||Ka(l,o);case 6:var f=rn,g=Pr;rn=null,wi(s,o,l),rn=f,Pr=g,rn!==null&&(Pr?(s=rn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):rn.removeChild(l.stateNode));break;case 18:rn!==null&&(Pr?(s=rn,l=l.stateNode,s.nodeType===8?vp(s.parentNode,l):s.nodeType===1&&vp(s,l),Ir(s)):vp(rn,l.stateNode));break;case 4:f=rn,g=Pr,rn=l.stateNode.containerInfo,Pr=!0,wi(s,o,l),rn=f,Pr=g;break;case 0:case 11:case 14:case 15:if(!fn&&(f=l.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,I=w.destroy;w=w.tag,I!==void 0&&((w&2)!==0||(w&4)!==0)&&nm(l,o,I),g=g.next}while(g!==f)}wi(s,o,l);break;case 1:if(!fn&&(Ka(l,o),f=l.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=l.memoizedProps,f.state=l.memoizedState,f.componentWillUnmount()}catch(O){St(l,o,O)}wi(s,o,l);break;case 21:wi(s,o,l);break;case 22:l.mode&1?(fn=(f=fn)||l.memoizedState!==null,wi(s,o,l),fn=f):wi(s,o,l);break;default:wi(s,o,l)}}function E_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new nA),o.forEach(function(f){var g=hA.bind(null,s,f);l.has(f)||(l.add(f),f.then(g,g))})}}function kr(s,o){var l=o.deletions;if(l!==null)for(var f=0;f<l.length;f++){var g=l[f];try{var w=s,I=o,O=I;e:for(;O!==null;){switch(O.tag){case 5:rn=O.stateNode,Pr=!1;break e;case 3:rn=O.stateNode.containerInfo,Pr=!0;break e;case 4:rn=O.stateNode.containerInfo,Pr=!0;break e}O=O.return}if(rn===null)throw Error(n(160));x_(w,I,g),rn=null,Pr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(G){St(g,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)T_(o,s),o=o.sibling}function T_(s,o){var l=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(kr(o,s),ns(s),f&4){try{Ac(3,s,s.return),kd(3,s)}catch(we){St(s,s.return,we)}try{Ac(5,s,s.return)}catch(we){St(s,s.return,we)}}break;case 1:kr(o,s),ns(s),f&512&&l!==null&&Ka(l,l.return);break;case 5:if(kr(o,s),ns(s),f&512&&l!==null&&Ka(l,l.return),s.flags&32){var g=s.stateNode;try{ni(g,"")}catch(we){St(s,s.return,we)}}if(f&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,I=l!==null?l.memoizedProps:w,O=s.type,B=s.updateQueue;if(s.updateQueue=null,B!==null)try{O==="input"&&w.type==="radio"&&w.name!=null&&_s(g,w),Yl(O,I);var G=Yl(O,w);for(I=0;I<B.length;I+=2){var se=B[I],ie=B[I+1];se==="style"?Kl(g,ie):se==="dangerouslySetInnerHTML"?Hl(g,ie):se==="children"?ni(g,ie):U(g,se,ie,G)}switch(O){case"input":xs(g,w);break;case"textarea":ca(g,w);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var pe=w.value;pe!=null?Ts(g,!!w.multiple,pe,!1):re!==!!w.multiple&&(w.defaultValue!=null?Ts(g,!!w.multiple,w.defaultValue,!0):Ts(g,!!w.multiple,w.multiple?[]:"",!1))}g[wc]=w}catch(we){St(s,s.return,we)}}break;case 6:if(kr(o,s),ns(s),f&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(we){St(s,s.return,we)}}break;case 3:if(kr(o,s),ns(s),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Ir(o.containerInfo)}catch(we){St(s,s.return,we)}break;case 4:kr(o,s),ns(s);break;case 13:kr(o,s),ns(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(lm=dt())),f&4&&E_(s);break;case 22:if(se=l!==null&&l.memoizedState!==null,s.mode&1?(fn=(G=fn)||se,kr(o,s),fn=G):kr(o,s),ns(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!se&&(s.mode&1)!==0)for(ye=s,se=s.child;se!==null;){for(ie=ye=se;ye!==null;){switch(re=ye,pe=re.child,re.tag){case 0:case 11:case 14:case 15:Ac(4,re,re.return);break;case 1:Ka(re,re.return);var ve=re.stateNode;if(typeof ve.componentWillUnmount=="function"){f=re,l=re.return;try{o=f,ve.props=o.memoizedProps,ve.state=o.memoizedState,ve.componentWillUnmount()}catch(we){St(f,l,we)}}break;case 5:Ka(re,re.return);break;case 22:if(re.memoizedState!==null){I_(ie);continue}}pe!==null?(pe.return=re,ye=pe):I_(ie)}se=se.sibling}e:for(se=null,ie=s;;){if(ie.tag===5){if(se===null){se=ie;try{g=ie.stateNode,G?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(O=ie.stateNode,B=ie.memoizedProps.style,I=B!=null&&B.hasOwnProperty("display")?B.display:null,O.style.display=Wl("display",I))}catch(we){St(s,s.return,we)}}}else if(ie.tag===6){if(se===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(we){St(s,s.return,we)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;se===ie&&(se=null),ie=ie.return}se===ie&&(se=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:kr(o,s),ns(s),f&4&&E_(s);break;case 21:break;default:kr(o,s),ns(s)}}function ns(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(w_(l)){var f=l;break e}l=l.return}throw Error(n(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ni(g,""),f.flags&=-33);var w=__(s);im(s,w,g);break;case 3:case 4:var I=f.stateNode.containerInfo,O=__(s);sm(s,O,I);break;default:throw Error(n(161))}}catch(B){St(s,s.return,B)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function sA(s,o,l){ye=s,b_(s)}function b_(s,o,l){for(var f=(s.mode&1)!==0;ye!==null;){var g=ye,w=g.child;if(g.tag===22&&f){var I=g.memoizedState!==null||Pd;if(!I){var O=g.alternate,B=O!==null&&O.memoizedState!==null||fn;O=Pd;var G=fn;if(Pd=I,(fn=B)&&!G)for(ye=g;ye!==null;)I=ye,B=I.child,I.tag===22&&I.memoizedState!==null?C_(g):B!==null?(B.return=I,ye=B):C_(g);for(;w!==null;)ye=w,b_(w),w=w.sibling;ye=g,Pd=O,fn=G}S_(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,ye=w):S_(s)}}function S_(s){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:fn||kd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!fn)if(l===null)f.componentDidMount();else{var g=o.elementType===o.type?l.memoizedProps:Ar(o.type,l.memoizedProps);f.componentDidUpdate(g,l.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Iw(o,w,f);break;case 3:var I=o.updateQueue;if(I!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Iw(o,I,l)}break;case 5:var O=o.stateNode;if(l===null&&o.flags&4){l=O;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&l.focus();break;case"img":B.src&&(l.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var se=G.memoizedState;if(se!==null){var ie=se.dehydrated;ie!==null&&Ir(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fn||o.flags&512&&rm(o)}catch(re){St(o,o.return,re)}}if(o===s){ye=null;break}if(l=o.sibling,l!==null){l.return=o.return,ye=l;break}ye=o.return}}function I_(s){for(;ye!==null;){var o=ye;if(o===s){ye=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ye=l;break}ye=o.return}}function C_(s){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{kd(4,o)}catch(B){St(o,l,B)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(B){St(o,g,B)}}var w=o.return;try{rm(o)}catch(B){St(o,w,B)}break;case 5:var I=o.return;try{rm(o)}catch(B){St(o,I,B)}}}catch(B){St(o,o.return,B)}if(o===s){ye=null;break}var O=o.sibling;if(O!==null){O.return=o.return,ye=O;break}ye=o.return}}var iA=Math.ceil,jd=z.ReactCurrentDispatcher,om=z.ReactCurrentOwner,dr=z.ReactCurrentBatchConfig,Je=0,Qt=null,jt=null,sn=0,Wn=0,Ga=pi(0),$t=0,Pc=null,Do=0,Dd=0,am=0,kc=null,Pn=null,lm=0,Qa=1/0,Vs=null,Od=!1,cm=null,_i=null,Md=!1,xi=null,Ld=0,jc=0,um=null,Vd=-1,Fd=0;function bn(){return(Je&6)!==0?dt():Vd!==-1?Vd:Vd=dt()}function Ei(s){return(s.mode&1)===0?1:(Je&2)!==0&&sn!==0?sn&-sn:$N.transition!==null?(Fd===0&&(Fd=Eo()),Fd):(s=Ge,s!==0||(s=window.event,s=s===void 0?16:ac(s.type)),s)}function jr(s,o,l,f){if(50<jc)throw jc=0,um=null,Error(n(185));oi(s,l,f),((Je&2)===0||s!==Qt)&&(s===Qt&&((Je&2)===0&&(Dd|=l),$t===4&&Ti(s,sn)),kn(s,f),l===1&&Je===0&&(o.mode&1)===0&&(Qa=dt()+500,fd&&gi()))}function kn(s,o){var l=s.callbackNode;Is(s,o);var f=xo(s,s===Qt?sn:0);if(f===0)l!==null&&nc(l),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(l!=null&&nc(l),o===1)s.tag===0?BN(N_.bind(null,s)):pw(N_.bind(null,s)),LN(function(){(Je&6)===0&&gi()}),l=null;else{switch(li(f)){case 1:l=wo;break;case 4:l=ri;break;case 16:l=sr;break;case 536870912:l=Fu;break;default:l=sr}l=L_(l,R_.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function R_(s,o){if(Vd=-1,Fd=0,(Je&6)!==0)throw Error(n(327));var l=s.callbackNode;if(Ya()&&s.callbackNode!==l)return null;var f=xo(s,s===Qt?sn:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Ud(s,f);else{o=f;var g=Je;Je|=2;var w=P_();(Qt!==s||sn!==o)&&(Vs=null,Qa=dt()+500,Mo(s,o));do try{lA();break}catch(O){A_(s,O)}while(!0);Rp(),jd.current=w,Je=g,jt!==null?o=0:(Qt=null,sn=0,o=$t)}if(o!==0){if(o===2&&(g=Bn(s),g!==0&&(f=g,o=dm(s,g))),o===1)throw l=Pc,Mo(s,0),Ti(s,f),kn(s,dt()),l;if(o===6)Ti(s,f);else{if(g=s.current.alternate,(f&30)===0&&!oA(g)&&(o=Ud(s,f),o===2&&(w=Bn(s),w!==0&&(f=w,o=dm(s,w))),o===1))throw l=Pc,Mo(s,0),Ti(s,f),kn(s,dt()),l;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Lo(s,Pn,Vs);break;case 3:if(Ti(s,f),(f&130023424)===f&&(o=lm+500-dt(),10<o)){if(xo(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){bn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=yp(Lo.bind(null,s,Pn,Vs),o);break}Lo(s,Pn,Vs);break;case 4:if(Ti(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var I=31-xn(f);w=1<<I,I=o[I],I>g&&(g=I),f&=~w}if(f=g,f=dt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*iA(f/1960))-f,10<f){s.timeoutHandle=yp(Lo.bind(null,s,Pn,Vs),f);break}Lo(s,Pn,Vs);break;case 5:Lo(s,Pn,Vs);break;default:throw Error(n(329))}}}return kn(s,dt()),s.callbackNode===l?R_.bind(null,s):null}function dm(s,o){var l=kc;return s.current.memoizedState.isDehydrated&&(Mo(s,o).flags|=256),s=Ud(s,o),s!==2&&(o=Pn,Pn=l,o!==null&&hm(o)),s}function hm(s){Pn===null?Pn=s:Pn.push.apply(Pn,s)}function oA(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var f=0;f<l.length;f++){var g=l[f],w=g.getSnapshot;g=g.value;try{if(!Rr(w(),g))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ti(s,o){for(o&=~am,o&=~Dd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-xn(o),f=1<<l;s[l]=-1,o&=~f}}function N_(s){if((Je&6)!==0)throw Error(n(327));Ya();var o=xo(s,0);if((o&1)===0)return kn(s,dt()),null;var l=Ud(s,o);if(s.tag!==0&&l===2){var f=Bn(s);f!==0&&(o=f,l=dm(s,f))}if(l===1)throw l=Pc,Mo(s,0),Ti(s,o),kn(s,dt()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Lo(s,Pn,Vs),kn(s,dt()),null}function fm(s,o){var l=Je;Je|=1;try{return s(o)}finally{Je=l,Je===0&&(Qa=dt()+500,fd&&gi())}}function Oo(s){xi!==null&&xi.tag===0&&(Je&6)===0&&Ya();var o=Je;Je|=1;var l=dr.transition,f=Ge;try{if(dr.transition=null,Ge=1,s)return s()}finally{Ge=f,dr.transition=l,Je=o,(Je&6)===0&&gi()}}function pm(){Wn=Ga.current,yt(Ga)}function Mo(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,MN(l)),jt!==null)for(l=jt.return;l!==null;){var f=l;switch(Tp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&dd();break;case 3:Ha(),yt(Rn),yt(un),Mp();break;case 5:Dp(f);break;case 4:Ha();break;case 13:yt(xt);break;case 19:yt(xt);break;case 10:Np(f.type._context);break;case 22:case 23:pm()}l=l.return}if(Qt=s,jt=s=bi(s.current,null),sn=Wn=o,$t=0,Pc=null,am=Dd=Do=0,Pn=kc=null,Po!==null){for(o=0;o<Po.length;o++)if(l=Po[o],f=l.interleaved,f!==null){l.interleaved=null;var g=f.next,w=l.pending;if(w!==null){var I=w.next;w.next=g,f.next=I}l.pending=f}Po=null}return s}function A_(s,o){do{var l=jt;try{if(Rp(),Td.current=Cd,bd){for(var f=Et.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}bd=!1}if(jo=0,Gt=Bt=Et=null,Sc=!1,Ic=0,om.current=null,l===null||l.return===null){$t=1,Pc=o,jt=null;break}e:{var w=s,I=l.return,O=l,B=o;if(o=sn,O.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var G=B,se=O,ie=se.tag;if((se.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var pe=t_(I);if(pe!==null){pe.flags&=-257,n_(pe,I,O,w,o),pe.mode&1&&e_(w,G,o),o=pe,B=G;var ve=o.updateQueue;if(ve===null){var we=new Set;we.add(B),o.updateQueue=we}else ve.add(B);break e}else{if((o&1)===0){e_(w,G,o),mm();break e}B=Error(n(426))}}else if(_t&&O.mode&1){var Nt=t_(I);if(Nt!==null){(Nt.flags&65536)===0&&(Nt.flags|=256),n_(Nt,I,O,w,o),Ip(Wa(B,O));break e}}w=B=Wa(B,O),$t!==4&&($t=2),kc===null?kc=[w]:kc.push(w),w=I;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var W=Jw(w,B,o);Sw(w,W);break e;case 1:O=B;var $=w.type,K=w.stateNode;if((w.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_i===null||!_i.has(K)))){w.flags|=65536,o&=-o,w.lanes|=o;var le=Zw(w,O,o);Sw(w,le);break e}}w=w.return}while(w!==null)}j_(l)}catch(_e){o=_e,jt===l&&l!==null&&(jt=l=l.return);continue}break}while(!0)}function P_(){var s=jd.current;return jd.current=Cd,s===null?Cd:s}function mm(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||(Do&268435455)===0&&(Dd&268435455)===0||Ti(Qt,sn)}function Ud(s,o){var l=Je;Je|=2;var f=P_();(Qt!==s||sn!==o)&&(Vs=null,Mo(s,o));do try{aA();break}catch(g){A_(s,g)}while(!0);if(Rp(),Je=l,jd.current=f,jt!==null)throw Error(n(261));return Qt=null,sn=0,$t}function aA(){for(;jt!==null;)k_(jt)}function lA(){for(;jt!==null&&!Lu();)k_(jt)}function k_(s){var o=M_(s.alternate,s,Wn);s.memoizedProps=s.pendingProps,o===null?j_(s):jt=o,om.current=null}function j_(s){var o=s;do{var l=o.alternate;if(s=o.return,(o.flags&32768)===0){if(l=eA(l,o,Wn),l!==null){jt=l;return}}else{if(l=tA(l,o),l!==null){l.flags&=32767,jt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{$t=6,jt=null;return}}if(o=o.sibling,o!==null){jt=o;return}jt=o=s}while(o!==null);$t===0&&($t=5)}function Lo(s,o,l){var f=Ge,g=dr.transition;try{dr.transition=null,Ge=1,cA(s,o,l,f)}finally{dr.transition=g,Ge=f}return null}function cA(s,o,l,f){do Ya();while(xi!==null);if((Je&6)!==0)throw Error(n(327));l=s.finishedWork;var g=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=l.lanes|l.childLanes;if(ut(s,w),s===Qt&&(jt=Qt=null,sn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Md||(Md=!0,L_(sr,function(){return Ya(),null})),w=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||w){w=dr.transition,dr.transition=null;var I=Ge;Ge=1;var O=Je;Je|=4,om.current=null,rA(s,l),T_(l,s),NN(mp),ui=!!pp,mp=pp=null,s.current=l,sA(l),Jf(),Je=O,Ge=I,dr.transition=w}else s.current=l;if(Md&&(Md=!1,xi=s,Ld=g),w=s.pendingLanes,w===0&&(_i=null),Uu(l.stateNode),kn(s,dt()),o!==null)for(f=s.onRecoverableError,l=0;l<o.length;l++)g=o[l],f(g.value,{componentStack:g.stack,digest:g.digest});if(Od)throw Od=!1,s=cm,cm=null,s;return(Ld&1)!==0&&s.tag!==0&&Ya(),w=s.pendingLanes,(w&1)!==0?s===um?jc++:(jc=0,um=s):jc=0,gi(),null}function Ya(){if(xi!==null){var s=li(Ld),o=dr.transition,l=Ge;try{if(dr.transition=null,Ge=16>s?16:s,xi===null)var f=!1;else{if(s=xi,xi=null,Ld=0,(Je&6)!==0)throw Error(n(331));var g=Je;for(Je|=4,ye=s.current;ye!==null;){var w=ye,I=w.child;if((ye.flags&16)!==0){var O=w.deletions;if(O!==null){for(var B=0;B<O.length;B++){var G=O[B];for(ye=G;ye!==null;){var se=ye;switch(se.tag){case 0:case 11:case 15:Ac(8,se,w)}var ie=se.child;if(ie!==null)ie.return=se,ye=ie;else for(;ye!==null;){se=ye;var re=se.sibling,pe=se.return;if(v_(se),se===G){ye=null;break}if(re!==null){re.return=pe,ye=re;break}ye=pe}}}var ve=w.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var Nt=we.sibling;we.sibling=null,we=Nt}while(we!==null)}}ye=w}}if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,ye=I;else e:for(;ye!==null;){if(w=ye,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:Ac(9,w,w.return)}var W=w.sibling;if(W!==null){W.return=w.return,ye=W;break e}ye=w.return}}var $=s.current;for(ye=$;ye!==null;){I=ye;var K=I.child;if((I.subtreeFlags&2064)!==0&&K!==null)K.return=I,ye=K;else e:for(I=$;ye!==null;){if(O=ye,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:kd(9,O)}}catch(_e){St(O,O.return,_e)}if(O===I){ye=null;break e}var le=O.sibling;if(le!==null){le.return=O.return,ye=le;break e}ye=O.return}}if(Je=g,gi(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(_o,s)}catch{}f=!0}return f}finally{Ge=l,dr.transition=o}}return!1}function D_(s,o,l){o=Wa(l,o),o=Jw(s,o,1),s=vi(s,o,1),o=bn(),s!==null&&(oi(s,1,o),kn(s,o))}function St(s,o,l){if(s.tag===3)D_(s,s,l);else for(;o!==null;){if(o.tag===3){D_(o,s,l);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_i===null||!_i.has(f))){s=Wa(l,s),s=Zw(o,s,1),o=vi(o,s,1),s=bn(),o!==null&&(oi(o,1,s),kn(o,s));break}}o=o.return}}function uA(s,o,l){var f=s.pingCache;f!==null&&f.delete(o),o=bn(),s.pingedLanes|=s.suspendedLanes&l,Qt===s&&(sn&l)===l&&($t===4||$t===3&&(sn&130023424)===sn&&500>dt()-lm?Mo(s,0):am|=l),kn(s,o)}function O_(s,o){o===0&&((s.mode&1)===0?o=1:(o=wa,wa<<=1,(wa&130023424)===0&&(wa=4194304)));var l=bn();s=Os(s,o),s!==null&&(oi(s,o,l),kn(s,l))}function dA(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),O_(s,l)}function hA(s,o){var l=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),O_(s,l)}var M_;M_=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||Rn.current)An=!0;else{if((s.lanes&l)===0&&(o.flags&128)===0)return An=!1,ZN(s,o,l);An=(s.flags&131072)!==0}else An=!1,_t&&(o.flags&1048576)!==0&&mw(o,md,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Ad(s,o),s=o.pendingProps;var g=Va(o,un.current);za(o,l),g=Fp(null,o,f,s,g,l);var w=Up();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Nn(f)?(w=!0,hd(o)):w=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,kp(o),g.updater=Rd,o.stateNode=g,g._reactInternals=o,Wp(o,f,s,l),o=Yp(null,o,f,!0,w,l)):(o.tag=0,_t&&w&&Ep(o),Tn(null,o,g,l),o=o.child),o;case 16:f=o.elementType;e:{switch(Ad(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=pA(f),s=Ar(f,s),g){case 0:o=Qp(null,o,f,s,l);break e;case 1:o=l_(null,o,f,s,l);break e;case 11:o=r_(null,o,f,s,l);break e;case 14:o=s_(null,o,f,Ar(f.type,s),l);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ar(f,g),Qp(s,o,f,g,l);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ar(f,g),l_(s,o,f,g,l);case 3:e:{if(c_(o),s===null)throw Error(n(387));f=o.pendingProps,w=o.memoizedState,g=w.element,bw(s,o),xd(o,f,null,l);var I=o.memoizedState;if(f=I.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){g=Wa(Error(n(423)),o),o=u_(s,o,f,l,g);break e}else if(f!==g){g=Wa(Error(n(424)),o),o=u_(s,o,f,l,g);break e}else for(Hn=fi(o.stateNode.containerInfo.firstChild),zn=o,_t=!0,Nr=null,l=Ew(o,null,f,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ba(),f===g){o=Ls(s,o,l);break e}Tn(s,o,f,l)}o=o.child}return o;case 5:return Cw(o),s===null&&Sp(o),f=o.type,g=o.pendingProps,w=s!==null?s.memoizedProps:null,I=g.children,gp(f,g)?I=null:w!==null&&gp(f,w)&&(o.flags|=32),a_(s,o),Tn(s,o,I,l),o.child;case 6:return s===null&&Sp(o),null;case 13:return d_(s,o,l);case 4:return jp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=$a(o,null,f,l):Tn(s,o,f,l),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ar(f,g),r_(s,o,f,g,l);case 7:return Tn(s,o,o.pendingProps,l),o.child;case 8:return Tn(s,o,o.pendingProps.children,l),o.child;case 12:return Tn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,w=o.memoizedProps,I=g.value,ht(vd,f._currentValue),f._currentValue=I,w!==null)if(Rr(w.value,I)){if(w.children===g.children&&!Rn.current){o=Ls(s,o,l);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var O=w.dependencies;if(O!==null){I=w.child;for(var B=O.firstContext;B!==null;){if(B.context===f){if(w.tag===1){B=Ms(-1,l&-l),B.tag=2;var G=w.updateQueue;if(G!==null){G=G.shared;var se=G.pending;se===null?B.next=B:(B.next=se.next,se.next=B),G.pending=B}}w.lanes|=l,B=w.alternate,B!==null&&(B.lanes|=l),Ap(w.return,l,o),O.lanes|=l;break}B=B.next}}else if(w.tag===10)I=w.type===o.type?null:w.child;else if(w.tag===18){if(I=w.return,I===null)throw Error(n(341));I.lanes|=l,O=I.alternate,O!==null&&(O.lanes|=l),Ap(I,l,o),I=w.sibling}else I=w.child;if(I!==null)I.return=w;else for(I=w;I!==null;){if(I===o){I=null;break}if(w=I.sibling,w!==null){w.return=I.return,I=w;break}I=I.return}w=I}Tn(s,o,g.children,l),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,za(o,l),g=cr(g),f=f(g),o.flags|=1,Tn(s,o,f,l),o.child;case 14:return f=o.type,g=Ar(f,o.pendingProps),g=Ar(f.type,g),s_(s,o,f,g,l);case 15:return i_(s,o,o.type,o.pendingProps,l);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ar(f,g),Ad(s,o),o.tag=1,Nn(f)?(s=!0,hd(o)):s=!1,za(o,l),Yw(o,f,g),Wp(o,f,g,l),Yp(null,o,f,!0,s,l);case 19:return f_(s,o,l);case 22:return o_(s,o,l)}throw Error(n(156,o.tag))};function L_(s,o){return ya(s,o)}function fA(s,o,l,f){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(s,o,l,f){return new fA(s,o,l,f)}function gm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pA(s){if(typeof s=="function")return gm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===Te)return 14}return 2}function bi(s,o){var l=s.alternate;return l===null?(l=hr(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Bd(s,o,l,f,g,w){var I=2;if(f=s,typeof s=="function")gm(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case k:return Vo(l.children,g,w,o);case S:I=8,g|=8;break;case j:return s=hr(12,l,o,g|2),s.elementType=j,s.lanes=w,s;case D:return s=hr(13,l,o,g),s.elementType=D,s.lanes=w,s;case oe:return s=hr(19,l,o,g),s.elementType=oe,s.lanes=w,s;case de:return $d(l,g,w,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:I=10;break e;case M:I=9;break e;case L:I=11;break e;case Te:I=14;break e;case ne:I=16,f=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=hr(I,l,o,g),o.elementType=s,o.type=f,o.lanes=w,o}function Vo(s,o,l,f){return s=hr(7,s,f,o),s.lanes=l,s}function $d(s,o,l,f){return s=hr(22,s,f,o),s.elementType=de,s.lanes=l,s.stateNode={isHidden:!1},s}function ym(s,o,l){return s=hr(6,s,null,o),s.lanes=l,s}function vm(s,o,l){return o=hr(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function mA(s,o,l,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function wm(s,o,l,f,g,w,I,O,B){return s=new mA(s,o,l,O,B),o===1?(o=1,w===!0&&(o|=8)):o=0,w=hr(3,null,null,o),s.current=w,w.stateNode=s,w.memoizedState={element:f,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(w),s}function gA(s,o,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:o,implementation:l}}function V_(s){if(!s)return mi;s=s._reactInternals;e:{if(xr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Nn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(Nn(l))return hw(s,l,o)}return o}function F_(s,o,l,f,g,w,I,O,B){return s=wm(l,f,!0,s,g,w,I,O,B),s.context=V_(null),l=s.current,f=bn(),g=Ei(l),w=Ms(f,g),w.callback=o??null,vi(l,w,g),s.current.lanes=g,oi(s,g,f),kn(s,f),s}function qd(s,o,l,f){var g=o.current,w=bn(),I=Ei(g);return l=V_(l),o.context===null?o.context=l:o.pendingContext=l,o=Ms(w,I),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=vi(g,o,I),s!==null&&(jr(s,g,I,w),_d(s,g,I)),I}function zd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function U_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function _m(s,o){U_(s,o),(s=s.alternate)&&U_(s,o)}function yA(){return null}var B_=typeof reportError=="function"?reportError:function(s){console.error(s)};function xm(s){this._internalRoot=s}Hd.prototype.render=xm.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));qd(s,o,null,null)},Hd.prototype.unmount=xm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Oo(function(){qd(null,s,null,null)}),o[Ps]=null}};function Hd(s){this._internalRoot=s}Hd.prototype.unstable_scheduleHydration=function(s){if(s){var o=Hu();s={blockedOn:null,target:s,priority:o};for(var l=0;l<Qr.length&&o!==0&&o<Qr[l].priority;l++);Qr.splice(l,0,s),l===0&&Gu(s)}};function Em(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function $_(){}function vA(s,o,l,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var G=zd(I);w.call(G)}}var I=F_(o,f,s,0,null,!1,!1,"",$_);return s._reactRootContainer=I,s[Ps]=I.current,yc(s.nodeType===8?s.parentNode:s),Oo(),I}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var O=f;f=function(){var G=zd(B);O.call(G)}}var B=wm(s,0,!1,null,null,!1,!1,"",$_);return s._reactRootContainer=B,s[Ps]=B.current,yc(s.nodeType===8?s.parentNode:s),Oo(function(){qd(o,B,l,f)}),B}function Kd(s,o,l,f,g){var w=l._reactRootContainer;if(w){var I=w;if(typeof g=="function"){var O=g;g=function(){var B=zd(I);O.call(B)}}qd(o,I,s,g)}else I=vA(l,o,s,g,f);return zd(I)}qu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=si(o.pendingLanes);l!==0&&(ai(o,l|1),kn(o,dt()),(Je&6)===0&&(Qa=dt()+500,gi()))}break;case 13:Oo(function(){var f=Os(s,1);if(f!==null){var g=bn();jr(f,s,1,g)}}),_m(s,1)}},_a=function(s){if(s.tag===13){var o=Os(s,134217728);if(o!==null){var l=bn();jr(o,s,134217728,l)}_m(s,134217728)}},zu=function(s){if(s.tag===13){var o=Ei(s),l=Os(s,o);if(l!==null){var f=bn();jr(l,s,o,f)}_m(s,o)}},Hu=function(){return Ge},Wu=function(s,o){var l=Ge;try{return Ge=s,o()}finally{Ge=l}},da=function(s,o,l){switch(o){case"input":if(xs(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var f=l[o];if(f!==s&&f.form===s.form){var g=ud(f);if(!g)throw Error(n(90));ct(f),xs(f,g)}}}break;case"textarea":ca(s,l);break;case"select":o=l.value,o!=null&&Ts(s,!!l.multiple,o,!1)}},mo=fm,Jl=Oo;var wA={usingClientEntryPoint:!1,Events:[_c,Ma,ud,Kr,Xl,fm]},Dc={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_A={bundleType:Dc.bundleType,version:Dc.version,rendererPackageName:Dc.rendererPackageName,rendererConfig:Dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=tc(s),s===null?null:s.stateNode},findFiberByHostInstance:Dc.findFiberByHostInstance||yA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gd.isDisabled&&Gd.supportsFiber)try{_o=Gd.inject(_A),Un=Gd}catch{}}return jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wA,jn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(o))throw Error(n(200));return gA(s,o,null,l)},jn.createRoot=function(s,o){if(!Em(s))throw Error(n(299));var l=!1,f="",g=B_;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=wm(s,1,!1,null,null,l,!1,f,g),s[Ps]=o.current,yc(s.nodeType===8?s.parentNode:s),new xm(o)},jn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=tc(o),s=s===null?null:s.stateNode,s},jn.flushSync=function(s){return Oo(s)},jn.hydrate=function(s,o,l){if(!Wd(o))throw Error(n(200));return Kd(null,s,o,!0,l)},jn.hydrateRoot=function(s,o,l){if(!Em(s))throw Error(n(405));var f=l!=null&&l.hydratedSources||null,g=!1,w="",I=B_;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(w=l.identifierPrefix),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),o=F_(o,null,s,1,l??null,g,!1,w,I),s[Ps]=o.current,yc(s),f)for(s=0;s<f.length;s++)l=f[s],g=l._getVersion,g=g(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,g]:o.mutableSourceEagerHydrationData.push(l,g);return new Hd(o)},jn.render=function(s,o,l){if(!Wd(o))throw Error(n(200));return Kd(null,s,o,!1,l)},jn.unmountComponentAtNode=function(s){if(!Wd(s))throw Error(n(40));return s._reactRootContainer?(Oo(function(){Kd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ps]=null})}),!0):!1},jn.unstable_batchedUpdates=fm,jn.unstable_renderSubtreeIntoContainer=function(s,o,l,f){if(!Wd(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Kd(s,o,l,!1,f)},jn.version="18.3.1-next-f1338f8080-20240426",jn}var Y_;function LE(){if(Y_)return Sm.exports;Y_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sm.exports=RA(),Sm.exports}var X_;function NA(){if(X_)return Qd;X_=1;var t=LE();return Qd.createRoot=t.createRoot,Qd.hydrateRoot=t.hydrateRoot,Qd}var AA=NA();function PA(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,c=[],d="",p=t.split("/");for(p[0]||p.shift();i=p.shift();)n=i[0],n==="*"?(c.push(n),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),c.push(i.substring(1,~r?r:~a?a:i.length)),d+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(d+=(~r?"?":"")+"\\"+i.substring(a))):d+="/"+i;return{keys:c,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var T=af();const Ni=ME(T),VE=EA({__proto__:null,default:Ni},[T]);var Rm={exports:{}},Nm={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function kA(){if(J_)return Nm;J_=1;var t=af();function e(_,x){return _===x&&(_!==0||1/_===1/x)||_!==_&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,c=t.useDebugValue;function d(_,x){var C=x(),A=r({inst:{value:C,getSnapshot:x}}),b=A[0].inst,R=A[1];return a(function(){b.value=C,b.getSnapshot=x,p(b)&&R({inst:b})},[_,C,x]),i(function(){return p(b)&&R({inst:b}),_(function(){p(b)&&R({inst:b})})},[_]),c(C),C}function p(_){var x=_.getSnapshot;_=_.value;try{var C=x();return!n(_,C)}catch{return!0}}function m(_,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Nm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Nm}var Z_;function jA(){return Z_||(Z_=1,Rm.exports=kA()),Rm.exports}var DA=jA();const OA=VE.useInsertionEffect,MA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LA=MA?T.useLayoutEffect:T.useEffect,VA=OA||LA,FE=t=>{const e=T.useRef([t,(...n)=>e[0](...n)]).current;return VA(()=>{e[0]=t}),e[1]},FA="popstate",ty="pushState",ny="replaceState",UA="hashchange",ex=[FA,ty,ny,UA],BA=t=>{for(const e of ex)addEventListener(e,t);return()=>{for(const e of ex)removeEventListener(e,t)}},UE=(t,e)=>DA.useSyncExternalStore(BA,t,e),$A=()=>location.search,qA=({ssrSearch:t=""}={})=>UE($A,()=>t),tx=()=>location.pathname,zA=({ssrPath:t}={})=>UE(tx,t?()=>t:tx),HA=(t,{replace:e=!1,state:n=null}={})=>history[e?ny:ty](n,"",t),WA=(t={})=>[zA(t),HA],nx=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[nx]>"u"){for(const t of[ty,ny]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,nx,{value:!0})}const KA=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",BE=(t="")=>t==="/"?"":t,GA=(t,e)=>t[0]==="~"?t.slice(1):BE(e)+t,QA=(t="",e)=>KA(rx(BE(t)),rx(e)),rx=t=>{try{return decodeURI(t)}catch{return t}},$E={hook:WA,searchHook:qA,parser:PA,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},qE=T.createContext($E),mu=()=>T.useContext(qE),zE={},HE=T.createContext(zE),YA=()=>T.useContext(HE),lf=t=>{const[e,n]=t.hook(t);return[QA(t.base,e),FE((r,i)=>n(GA(r,t.base),i))]},ei=()=>lf(mu()),WE=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),c=i.exec(n)||[],[d,...p]=c;return d!==void 0?[!0,(()=>{const m=a!==!1?Object.fromEntries(a.map((_,x)=>[_,p[x]])):c.groups;let y={...p};return m&&Object.assign(y,m),y})(),...r?[d]:[]]:[!1,null]},XA=({children:t,...e})=>{const n=mu(),r=e.hook?$E:n;let i=r;const[a,c]=e.ssrPath?.split("?")??[];c&&(e.ssrSearch=c,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let d=T.useRef({}),p=d.current,m=p;for(let y in r){const _=y==="base"?r[y]+(e[y]||""):e[y]||r[y];p===m&&_!==m[y]&&(d.current=m={...m}),m[y]=_,_!==r[y]&&(i=m)}return T.createElement(qE.Provider,{value:i,children:t})},sx=({children:t,component:e},n)=>e?T.createElement(e,{params:n}):typeof t=="function"?t(n):t,JA=t=>{let e=T.useRef(zE),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},on=({path:t,nest:e,match:n,...r})=>{const i=mu(),[a]=lf(i),[c,d,p]=n??WE(i.parser,t,a,e),m=JA({...YA(),...d});if(!c)return null;const y=p?T.createElement(XA,{base:p},sx(r,m)):sx(r,m);return T.createElement(HE.Provider,{value:m,children:y})},ZA=T.forwardRef((t,e)=>{const n=mu(),[r,i]=lf(n),{to:a="",href:c=a,onClick:d,asChild:p,children:m,className:y,replace:_,state:x,...C}=t,A=FE(R=>{R.ctrlKey||R.metaKey||R.altKey||R.shiftKey||R.button!==0||(d?.(R),R.defaultPrevented||(R.preventDefault(),i(c,t)))}),b=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return p&&T.isValidElement(m)?T.cloneElement(m,{onClick:A,href:b}):T.createElement("a",{...C,onClick:A,href:b,className:y?.call?y(r===c):y,children:m,ref:e})}),KE=t=>Array.isArray(t)?t.flatMap(e=>KE(e&&e.type===T.Fragment?e.props.children:e)):[t],e1=({children:t,location:e})=>{const n=mu(),[r]=lf(n);for(const i of KE(t)){let a=0;if(T.isValidElement(i)&&(a=WE(n.parser,i.props.path,e||r,i.props.nest))[0])return T.cloneElement(i,{match:a})}return null};var Cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},qo=typeof window>"u"||"Deno"in globalThis;function fr(){}function t1(t,e){return typeof t=="function"?t(e):t}function og(t){return typeof t=="number"&&t>=0&&t!==1/0}function GE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function il(t,e){return typeof t=="function"?t(e):t}function Or(t,e){return typeof t=="function"?t(e):t}function ix(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:c,stale:d}=t;if(c){if(r){if(e.queryHash!==ry(c,e.options))return!1}else if(!Zc(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||i&&i!==e.state.fetchStatus||a&&!a(e))}function ox(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(zo(e.options.mutationKey)!==zo(a))return!1}else if(!Zc(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ry(t,e){return(e?.queryKeyHashFn||zo)(t)}function zo(t){return JSON.stringify(t,(e,n)=>ag(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Zc(t[n],e[n])):!1}function QE(t,e){if(t===e)return t;const n=ax(t)&&ax(e);if(n||ag(t)&&ag(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),c=a.length,d=n?[]:{};let p=0;for(let m=0;m<c;m++){const y=n?m:a[m];(!n&&r.includes(y)||n)&&t[y]===void 0&&e[y]===void 0?(d[y]=void 0,p++):(d[y]=QE(t[y],e[y]),d[y]===t[y]&&t[y]!==void 0&&p++)}return i===c&&p===i?t:d}return e}function Ih(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ax(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ag(t){if(!lx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!lx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function lx(t){return Object.prototype.toString.call(t)==="[object Object]"}function n1(t){return new Promise(e=>{setTimeout(e,t)})}function lg(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?QE(t,e):e}function r1(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function s1(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sy=Symbol();function YE(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===sy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var i1=class extends Cl{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!qo&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},iy=new i1,o1=class extends Cl{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!qo&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ch=new o1;function cg(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function a1(t){return Math.min(1e3*2**t,3e4)}function XE(t){return(t??"online")==="online"?Ch.isOnline():!0}var JE=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Am(t){return t instanceof JE}function ZE(t){let e=!1,n=0,r=!1,i;const a=cg(),c=b=>{r||(x(new JE(b)),t.abort?.())},d=()=>{e=!0},p=()=>{e=!1},m=()=>iy.isFocused()&&(t.networkMode==="always"||Ch.isOnline())&&t.canRun(),y=()=>XE(t.networkMode)&&t.canRun(),_=b=>{r||(r=!0,t.onSuccess?.(b),i?.(),a.resolve(b))},x=b=>{r||(r=!0,t.onError?.(b),i?.(),a.reject(b))},C=()=>new Promise(b=>{i=R=>{(r||m())&&b(R)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),A=()=>{if(r)return;let b;const R=n===0?t.initialPromise:void 0;try{b=R??t.fn()}catch(V){b=Promise.reject(V)}Promise.resolve(b).then(_).catch(V=>{if(r)return;const F=t.retry??(qo?0:3),U=t.retryDelay??a1,z=typeof U=="function"?U(n,V):U,Q=F===!0||typeof F=="number"&&n<F||typeof F=="function"&&F(n,V);if(e||!Q){x(V);return}n++,t.onFail?.(n,V),n1(z).then(()=>m()?void 0:C()).then(()=>{e?x(V):A()})})};return{promise:a,cancel:c,continue:()=>(i?.(),a),cancelRetry:d,continueRetry:p,canStart:y,start:()=>(y()?A():C().then(A),a)}}function l1(){let t=[],e=0,n=d=>{d()},r=d=>{d()},i=d=>setTimeout(d,0);const a=d=>{e?t.push(d):i(()=>{n(d)})},c=()=>{const d=t;t=[],d.length&&i(()=>{r(()=>{d.forEach(p=>{n(p)})})})};return{batch:d=>{let p;e++;try{p=d()}finally{e--,e||c()}return p},batchCalls:d=>(...p)=>{a(()=>{d(...p)})},schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d},setScheduler:d=>{i=d}}}var zt=l1(),eT=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),og(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(qo?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},c1=class extends eT{#e;#t;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=u1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,n){const r=lg(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#s({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#n?.promise;return this.#n?.cancel(e),n?n.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Or(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!GE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,n){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const p=YE(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),this.#i=!1,this.options.persister?this.options.persister(p,m,this):p(m)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(c),this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#s({type:"fetch",meta:c.fetchOptions?.meta});const d=p=>{Am(p)&&p.silent||this.#s({type:"error",error:p}),Am(p)||(this.#r.config.onError?.(p,this),this.#r.config.onSettled?.(this.state.data,p,this)),this.scheduleGc()};return this.#n=ZE({initialPromise:n?.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{if(p===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(m){d(m);return}this.#r.config.onSuccess?.(p,this),this.#r.config.onSettled?.(p,this.state.error,this),this.scheduleGc()},onError:d,onFail:(p,m)=>{this.#s({type:"failed",failureCount:p,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...tT(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Am(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function tT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:XE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function u1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var d1=class extends Cl{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??ry(r,e);let a=this.get(i);return a||(a=new c1({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ix(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>ix(t,n)):e}notify(t){zt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){zt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){zt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},h1=class extends eT{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||nT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=ZE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#r.canStart();try{if(!n){this.#n({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const a=await this.options.onMutate?.(e);a!==this.state.context&&this.#n({type:"pending",context:a,variables:e,isPaused:r})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#t.runNext(this)}}#n(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),zt.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function nT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var f1=class extends Cl{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new h1({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Yd(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Yd(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Yd(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Yd(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){zt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ox(e,n))}findAll(t={}){return this.getAll().filter(e=>ox(t,e))}notify(t){zt.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return zt.batch(()=>Promise.all(t.map(e=>e.continue().catch(fr))))}};function Yd(t){return t.options.scope?.id??String(t.mutationId)}function cx(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},p=0;const m=async()=>{let y=!1;const _=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=YE(e.options,e.fetchOptions),C=async(A,b,R)=>{if(y)return Promise.reject();if(b==null&&A.pages.length)return Promise.resolve(A);const V={queryKey:e.queryKey,pageParam:b,direction:R?"backward":"forward",meta:e.options.meta};_(V);const F=await x(V),{maxPages:U}=e.options,z=R?s1:r1;return{pages:z(A.pages,F,U),pageParams:z(A.pageParams,b,U)}};if(i&&a.length){const A=i==="backward",b=A?p1:ux,R={pages:a,pageParams:c},V=b(r,R);d=await C(R,V,A)}else{const A=t??a.length;do{const b=p===0?c[0]??r.initialPageParam:ux(r,d);if(p>0&&b==null)break;d=await C(d,b),p++}while(p<A)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function ux(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function p1(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var m1=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new d1,this.#t=t.mutationCache||new f1,this.#r=t.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=iy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ch.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=this.#e.build(this,n);return t.revalidateIfStale&&r.isStaleByTime(il(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(r.queryHash)?.state.data,c=t1(e,a);if(c!==void 0)return this.#e.build(this,r).setData(c,{...n,manual:!0})}setQueriesData(t,e,n){return zt.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return zt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=zt.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fr).catch(fr)}invalidateQueries(t={},e={}){return zt.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:e?.cancelRefetch??!0},r=zt.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(fr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(fr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(il(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fr).catch(fr)}fetchInfiniteQuery(t){return t.behavior=cx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fr).catch(fr)}ensureInfiniteQueryData(t){return t.behavior=cx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ch.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(zo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()];let n={};return e.forEach(r=>{Zc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){this.#o.set(zo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let n={};return e.forEach(r=>{Zc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ry(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===sy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},g1=class extends Cl{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=cg(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#m;#h;#f;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),dx(this.#t,this.options)?this.#d():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ug(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ug(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Or(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#t.setOptions(this.options),n._defaulted&&!Ih(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&hx(this.#t,r,this.options,n)&&this.#d(),this.updateResult(e),i&&(this.#t!==r||Or(this.options.enabled,this.#t)!==Or(n.enabled,this.#t)||il(this.options.staleTime,this.#t)!==il(n.staleTime,this.#t))&&this.#g();const a=this.#y();i&&(this.#t!==r||Or(this.options.enabled,this.#t)!==Or(n.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return v1(this,n)&&(this.#n=n,this.#i=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#E();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(fr)),e}#g(){this.#_();const t=il(this.options.staleTime,this.#t);if(qo||this.#n.isStale||!og(t))return;const n=GE(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#l=t,!(qo||Or(this.options.enabled,this.#t)===!1||!og(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||iy.isFocused())&&this.#d()},this.#l))}#w(){this.#g(),this.#v(this.#y())}#_(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#x(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#n,a=this.#o,c=this.#i,p=t!==n?t.state:this.#r,{state:m}=t;let y={...m},_=!1,x;if(e._optimisticResults){const k=this.hasListeners(),S=!k&&dx(t,e),j=k&&hx(t,n,e,r);(S||j)&&(y={...y,...tT(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:C,errorUpdatedAt:A,status:b}=y;if(e.select&&y.data!==void 0)if(i&&y.data===a?.data&&e.select===this.#m)x=this.#h;else try{this.#m=e.select,x=e.select(y.data),x=lg(i?.data,x,e),this.#h=x,this.#a=null}catch(k){this.#a=k}else x=y.data;if(e.placeholderData!==void 0&&x===void 0&&b==="pending"){let k;if(i?.isPlaceholderData&&e.placeholderData===c?.placeholderData)k=i.data;else if(k=typeof e.placeholderData=="function"?e.placeholderData(this.#f?.state.data,this.#f):e.placeholderData,e.select&&k!==void 0)try{k=e.select(k),this.#a=null}catch(S){this.#a=S}k!==void 0&&(b="success",x=lg(i?.data,k,e),_=!0)}this.#a&&(C=this.#a,x=this.#h,A=Date.now(),b="error");const R=y.fetchStatus==="fetching",V=b==="pending",F=b==="error",U=V&&R,z=x!==void 0,Z={status:b,fetchStatus:y.fetchStatus,isPending:V,isSuccess:b==="success",isError:F,isInitialLoading:U,isLoading:U,data:x,dataUpdatedAt:y.dataUpdatedAt,error:C,errorUpdatedAt:A,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>p.dataUpdateCount||y.errorUpdateCount>p.errorUpdateCount,isFetching:R,isRefetching:R&&!V,isLoadingError:F&&!z,isPaused:y.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:F&&z,isStale:oy(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const k=P=>{Z.status==="error"?P.reject(Z.error):Z.data!==void 0&&P.resolve(Z.data)},S=()=>{const P=this.#s=Z.promise=cg();k(P)},j=this.#s;switch(j.status){case"pending":t.queryHash===n.queryHash&&k(j);break;case"fulfilled":(Z.status==="error"||Z.data!==j.value)&&S();break;case"rejected":(Z.status!=="error"||Z.error!==j.reason)&&S();break}}return Z}updateResult(t){const e=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#f=this.#t),Ih(n,e))return;this.#n=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,c=typeof a=="function"?a():a;if(c==="all"||!c&&!this.#p.size)return!0;const d=new Set(c??this.#p);return this.options.throwOnError&&d.add("error"),Object.keys(this.#n).some(p=>{const m=p;return this.#n[m]!==e[m]&&d.has(m)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#T({...r,...t})}#E(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#T(t){zt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function y1(t,e){return Or(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function dx(t,e){return y1(t,e)||t.state.data!==void 0&&ug(t,e,e.refetchOnMount)}function ug(t,e,n){if(Or(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&oy(t,e)}return!1}function hx(t,e,n,r){return(t!==e||Or(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&oy(t,n)}function oy(t,e){return Or(e.enabled,t)!==!1&&t.isStaleByTime(il(e.staleTime,t))}function v1(t,e){return!Ih(t.getCurrentResult(),e)}var w1=class extends Cl{#e;#t=void 0;#r;#n;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Ih(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&zo(n.mutationKey)!==zo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(e,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){const e=this.#r?.state??nT();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){zt.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,n,r),this.#n.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#n.onError?.(e.error,n,r),this.#n.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},rT=T.createContext(void 0),gr=t=>{const e=T.useContext(rT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_1=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(rT.Provider,{value:t,children:e})),sT=T.createContext(!1),x1=()=>T.useContext(sT);sT.Provider;function E1(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var T1=T.createContext(E1()),b1=()=>T.useContext(T1);function iT(t,e){return typeof t=="function"?t(...e):!!t}function dg(){}var S1=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},I1=t=>{T.useEffect(()=>{t.clearReset()},[t])},C1=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&iT(n,[t.error,r]),R1=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},N1=(t,e)=>t.isLoading&&t.isFetching&&!e,A1=(t,e)=>t?.suspense&&e.isPending,fx=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function P1(t,e,n){const r=gr(),i=x1(),a=b1(),c=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=i?"isRestoring":"optimistic",R1(c),S1(c,a),I1(a);const d=!r.getQueryCache().get(c.queryHash),[p]=T.useState(()=>new e(r,c)),m=p.getOptimisticResult(c);if(T.useSyncExternalStore(T.useCallback(y=>{const _=i?dg:p.subscribe(zt.batchCalls(y));return p.updateResult(),_},[p,i]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),T.useEffect(()=>{p.setOptions(c,{listeners:!1})},[c,p]),A1(c,m))throw fx(c,p,a);if(C1({result:m,errorResetBoundary:a,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw m.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(c,m),c.experimental_prefetchInRender&&!qo&&N1(m,i)&&(d?fx(c,p,a):r.getQueryCache().get(c.queryHash)?.promise)?.catch(dg).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?m:p.trackResult(m)}function Tt(t,e){return P1(t,g1)}function yn(t,e){const n=gr(),[r]=T.useState(()=>new w1(n,t));T.useEffect(()=>{r.setOptions(t)},[r,t]);const i=T.useSyncExternalStore(T.useCallback(c=>r.subscribe(zt.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=T.useCallback((c,d)=>{r.mutate(c,d).catch(dg)},[r]);if(i.error&&iT(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}async function k1(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const j1=({on401:t})=>async({queryKey:e})=>{const n=`http://localhost:8000${e.join("/")}`,r=await fetch(n,{credentials:"include"});return await k1(r),await r.json()},D1=new m1({defaultOptions:{queries:{queryFn:j1({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),O1=1,M1=1e6;let Pm=0;function L1(){return Pm=(Pm+1)%Number.MAX_SAFE_INTEGER,Pm.toString()}const km=new Map,px=t=>{if(km.has(t))return;const e=setTimeout(()=>{km.delete(t),Hc({type:"REMOVE_TOAST",toastId:t})},M1);km.set(t,e)},V1=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,O1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?px(n):t.toasts.forEach(r=>{px(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},dh=[];let hh={toasts:[]};function Hc(t){hh=V1(hh,t),dh.forEach(e=>{e(hh)})}function F1({...t}){const e=L1(),n=i=>Hc({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Hc({type:"DISMISS_TOAST",toastId:e});return Hc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function nr(){const[t,e]=T.useState(hh);return T.useEffect(()=>(dh.push(e),()=>{const n=dh.indexOf(e);n>-1&&dh.splice(n,1)}),[t]),{...t,toast:F1,dismiss:n=>Hc({type:"DISMISS_TOAST",toastId:n})}}var Rl=LE();const U1=ME(Rl);function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function mx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function oT(...t){return e=>{let n=!1;const r=t.map(i=>{const a=mx(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():mx(t[i],null)}}}}function mt(...t){return T.useCallback(oT(...t),t)}function B1(t,e){const n=T.createContext(e),r=a=>{const{children:c,...d}=a,p=T.useMemo(()=>d,Object.values(d));return u.jsx(n.Provider,{value:p,children:c})};r.displayName=t+"Provider";function i(a){const c=T.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function no(t,e=[]){let n=[];function r(a,c){const d=T.createContext(c),p=n.length;n=[...n,c];const m=_=>{const{scope:x,children:C,...A}=_,b=x?.[t]?.[p]||d,R=T.useMemo(()=>A,Object.values(A));return u.jsx(b.Provider,{value:R,children:C})};m.displayName=a+"Provider";function y(_,x){const C=x?.[t]?.[p]||d,A=T.useContext(C);if(A)return A;if(c!==void 0)return c;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[m,y]}const i=()=>{const a=n.map(c=>T.createContext(c));return function(d){const p=d?.[t]||a;return T.useMemo(()=>({[`__scope${t}`]:{...d,[t]:p}}),[d,p])}};return i.scopeName=t,[r,$1(i,...e)]}function $1(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const c=r.reduce((d,{useScope:p,scopeName:m})=>{const _=p(a)[`__scope${m}`];return{...d,..._}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function gl(t){const e=z1(t),n=T.forwardRef((r,i)=>{const{children:a,...c}=r,d=T.Children.toArray(a),p=d.find(W1);if(p){const m=p.props.children,y=d.map(_=>_===p?T.Children.count(m)>1?T.Children.only(null):T.isValidElement(m)?m.props.children:null:_);return u.jsx(e,{...c,ref:i,children:T.isValidElement(m)?T.cloneElement(m,void 0,y):null})}return u.jsx(e,{...c,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var q1=gl("Slot");function z1(t){const e=T.forwardRef((n,r)=>{const{children:i,...a}=n;if(T.isValidElement(i)){const c=G1(i),d=K1(a,i.props);return i.type!==T.Fragment&&(d.ref=r?oT(r,c):c),T.cloneElement(i,d)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aT=Symbol("radix.slottable");function H1(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=aT,e}function W1(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aT}function K1(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{a(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function G1(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function lT(t){const e=t+"CollectionProvider",[n,r]=no(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:R,children:V}=b,F=Ni.useRef(null),U=Ni.useRef(new Map).current;return u.jsx(i,{scope:R,itemMap:U,collectionRef:F,children:V})};c.displayName=e;const d=t+"CollectionSlot",p=gl(d),m=Ni.forwardRef((b,R)=>{const{scope:V,children:F}=b,U=a(d,V),z=mt(R,U.collectionRef);return u.jsx(p,{ref:z,children:F})});m.displayName=d;const y=t+"CollectionItemSlot",_="data-radix-collection-item",x=gl(y),C=Ni.forwardRef((b,R)=>{const{scope:V,children:F,...U}=b,z=Ni.useRef(null),Q=mt(R,z),Z=a(y,V);return Ni.useEffect(()=>(Z.itemMap.set(z,{ref:z,...U}),()=>void Z.itemMap.delete(z))),u.jsx(x,{[_]:"",ref:Q,children:F})});C.displayName=y;function A(b){const R=a(t+"CollectionConsumer",b);return Ni.useCallback(()=>{const F=R.collectionRef.current;if(!F)return[];const U=Array.from(F.querySelectorAll(`[${_}]`));return Array.from(R.itemMap.values()).sort((Z,k)=>U.indexOf(Z.ref.current)-U.indexOf(k.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:m,ItemSlot:C},A,r]}var Q1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=Q1.reduce((t,e)=>{const n=gl(`Primitive.${e}`),r=T.forwardRef((i,a)=>{const{asChild:c,...d}=i,p=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(p,{...d,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function cT(t,e){t&&Rl.flushSync(()=>t.dispatchEvent(e))}function Vn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function Y1(t,e=globalThis?.document){const n=Vn(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var X1="DismissableLayer",hg="dismissableLayer.update",J1="dismissableLayer.pointerDownOutside",Z1="dismissableLayer.focusOutside",gx,uT=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gu=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:d,...p}=t,m=T.useContext(uT),[y,_]=T.useState(null),x=y?.ownerDocument??globalThis?.document,[,C]=T.useState({}),A=mt(e,k=>_(k)),b=Array.from(m.layers),[R]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),V=b.indexOf(R),F=y?b.indexOf(y):-1,U=m.layersWithOutsidePointerEventsDisabled.size>0,z=F>=V,Q=tP(k=>{const S=k.target,j=[...m.branches].some(P=>P.contains(S));!z||j||(i?.(k),c?.(k),k.defaultPrevented||d?.())},x),Z=nP(k=>{const S=k.target;[...m.branches].some(P=>P.contains(S))||(a?.(k),c?.(k),k.defaultPrevented||d?.())},x);return Y1(k=>{F===m.layers.size-1&&(r?.(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},x),T.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(gx=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),yx(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=gx)}},[y,x,n,m]),T.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),yx())},[y,m]),T.useEffect(()=>{const k=()=>C({});return document.addEventListener(hg,k),()=>document.removeEventListener(hg,k)},[]),u.jsx(ze.div,{...p,ref:A,style:{pointerEvents:U?z?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,Q.onPointerDownCapture)})});gu.displayName=X1;var eP="DismissableLayerBranch",dT=T.forwardRef((t,e)=>{const n=T.useContext(uT),r=T.useRef(null),i=mt(e,r);return T.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),u.jsx(ze.div,{...t,ref:i})});dT.displayName=eP;function tP(t,e=globalThis?.document){const n=Vn(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const a=d=>{if(d.target&&!r.current){let p=function(){hT(J1,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=p,e.addEventListener("click",i.current,{once:!0})):p()}else e.removeEventListener("click",i.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function nP(t,e=globalThis?.document){const n=Vn(t),r=T.useRef(!1);return T.useEffect(()=>{const i=a=>{a.target&&!r.current&&hT(Z1,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yx(){const t=new CustomEvent(hg);document.dispatchEvent(t)}function hT(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cT(i,a):i.dispatchEvent(a)}var rP=gu,sP=dT,Wt=globalThis?.document?T.useLayoutEffect:()=>{},iP="Portal",cf=T.forwardRef((t,e)=>{const{container:n,...r}=t,[i,a]=T.useState(!1);Wt(()=>a(!0),[]);const c=n||i&&globalThis?.document?.body;return c?U1.createPortal(u.jsx(ze.div,{...r,ref:e}),c):null});cf.displayName=iP;function oP(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var ea=t=>{const{present:e,children:n}=t,r=aP(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),a=mt(r.ref,lP(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:a}):null};ea.displayName="Presence";function aP(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),a=T.useRef("none"),c=t?"mounted":"unmounted",[d,p]=oP(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const m=Xd(r.current);a.current=d==="mounted"?m:"none"},[d]),Wt(()=>{const m=r.current,y=i.current;if(y!==t){const x=a.current,C=Xd(m);t?p("MOUNT"):C==="none"||m?.display==="none"?p("UNMOUNT"):p(y&&x!==C?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,p]),Wt(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,_=C=>{const b=Xd(r.current).includes(C.animationName);if(C.target===e&&b&&(p("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},x=C=>{C.target===e&&(a.current=Xd(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:T.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function Xd(t){return t?.animationName||"none"}function lP(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=cP({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:r,d=Vn(n),p=T.useCallback(m=>{if(a){const _=typeof m=="function"?m(t):m;_!==t&&d(_)}else i(m)},[a,t,i,d]);return[c,p]}function cP({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),a=Vn(e);return T.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var uP="VisuallyHidden",yu=T.forwardRef((t,e)=>u.jsx(ze.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));yu.displayName=uP;var dP=yu,ay="ToastProvider",[ly,hP,fP]=lT("Toast"),[fT,s9]=no("Toast",[fP]),[pP,uf]=fT(ay),pT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:c}=t,[d,p]=T.useState(null),[m,y]=T.useState(0),_=T.useRef(!1),x=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ay}\`. Expected non-empty \`string\`.`),u.jsx(ly.Provider,{scope:e,children:u.jsx(pP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:m,viewport:d,onViewportChange:p,onToastAdd:T.useCallback(()=>y(C=>C+1),[]),onToastRemove:T.useCallback(()=>y(C=>C-1),[]),isFocusedToastEscapeKeyDownRef:_,isClosePausedRef:x,children:c})})};pT.displayName=ay;var mT="ToastViewport",mP=["F8"],fg="toast.viewportPause",pg="toast.viewportResume",gT=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=mP,label:i="Notifications ({hotkey})",...a}=t,c=uf(mT,n),d=hP(n),p=T.useRef(null),m=T.useRef(null),y=T.useRef(null),_=T.useRef(null),x=mt(e,_,c.onViewportChange),C=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=c.toastCount>0;T.useEffect(()=>{const R=V=>{r.length!==0&&r.every(U=>V[U]||V.code===U)&&_.current?.focus()};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),T.useEffect(()=>{const R=p.current,V=_.current;if(A&&R&&V){const F=()=>{if(!c.isClosePausedRef.current){const Z=new CustomEvent(fg);V.dispatchEvent(Z),c.isClosePausedRef.current=!0}},U=()=>{if(c.isClosePausedRef.current){const Z=new CustomEvent(pg);V.dispatchEvent(Z),c.isClosePausedRef.current=!1}},z=Z=>{!R.contains(Z.relatedTarget)&&U()},Q=()=>{R.contains(document.activeElement)||U()};return R.addEventListener("focusin",F),R.addEventListener("focusout",z),R.addEventListener("pointermove",F),R.addEventListener("pointerleave",Q),window.addEventListener("blur",F),window.addEventListener("focus",U),()=>{R.removeEventListener("focusin",F),R.removeEventListener("focusout",z),R.removeEventListener("pointermove",F),R.removeEventListener("pointerleave",Q),window.removeEventListener("blur",F),window.removeEventListener("focus",U)}}},[A,c.isClosePausedRef]);const b=T.useCallback(({tabbingDirection:R})=>{const F=d().map(U=>{const z=U.ref.current,Q=[z,...RP(z)];return R==="forwards"?Q:Q.reverse()});return(R==="forwards"?F.reverse():F).flat()},[d]);return T.useEffect(()=>{const R=_.current;if(R){const V=F=>{const U=F.altKey||F.ctrlKey||F.metaKey;if(F.key==="Tab"&&!U){const Q=document.activeElement,Z=F.shiftKey;if(F.target===R&&Z){m.current?.focus();return}const j=b({tabbingDirection:Z?"backwards":"forwards"}),P=j.findIndex(M=>M===Q);jm(j.slice(P+1))?F.preventDefault():Z?m.current?.focus():y.current?.focus()}};return R.addEventListener("keydown",V),()=>R.removeEventListener("keydown",V)}},[d,b]),u.jsxs(sP,{ref:p,role:"region","aria-label":i.replace("{hotkey}",C),tabIndex:-1,style:{pointerEvents:A?void 0:"none"},children:[A&&u.jsx(mg,{ref:m,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"forwards"});jm(R)}}),u.jsx(ly.Slot,{scope:n,children:u.jsx(ze.ol,{tabIndex:-1,...a,ref:x})}),A&&u.jsx(mg,{ref:y,onFocusFromOutsideViewport:()=>{const R=b({tabbingDirection:"backwards"});jm(R)}})]})});gT.displayName=mT;var yT="ToastFocusProxy",mg=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=uf(yT,n);return u.jsx(yu,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!a.viewport?.contains(d)&&r()}})});mg.displayName=yT;var df="Toast",gP="toast.swipeStart",yP="toast.swipeMove",vP="toast.swipeCancel",wP="toast.swipeEnd",vT=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...c}=t,[d=!0,p]=eu({prop:r,defaultProp:i,onChange:a});return u.jsx(ea,{present:n||d,children:u.jsx(EP,{open:d,...c,ref:e,onClose:()=>p(!1),onPause:Vn(t.onPause),onResume:Vn(t.onResume),onSwipeStart:Le(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(t.onSwipeMove,m=>{const{x:y,y:_}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${_}px`)}),onSwipeCancel:Le(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(t.onSwipeEnd,m=>{const{x:y,y:_}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${_}px`),p(!1)})})})});vT.displayName=df;var[_P,xP]=fT(df,{onClose(){}}),EP=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:c,onEscapeKeyDown:d,onPause:p,onResume:m,onSwipeStart:y,onSwipeMove:_,onSwipeCancel:x,onSwipeEnd:C,...A}=t,b=uf(df,n),[R,V]=T.useState(null),F=mt(e,oe=>V(oe)),U=T.useRef(null),z=T.useRef(null),Q=i||b.duration,Z=T.useRef(0),k=T.useRef(Q),S=T.useRef(0),{onToastAdd:j,onToastRemove:P}=b,M=Vn(()=>{R?.contains(document.activeElement)&&b.viewport?.focus(),c()}),L=T.useCallback(oe=>{!oe||oe===1/0||(window.clearTimeout(S.current),Z.current=new Date().getTime(),S.current=window.setTimeout(M,oe))},[M]);T.useEffect(()=>{const oe=b.viewport;if(oe){const Te=()=>{L(k.current),m?.()},ne=()=>{const de=new Date().getTime()-Z.current;k.current=k.current-de,window.clearTimeout(S.current),p?.()};return oe.addEventListener(fg,ne),oe.addEventListener(pg,Te),()=>{oe.removeEventListener(fg,ne),oe.removeEventListener(pg,Te)}}},[b.viewport,Q,p,m,L]),T.useEffect(()=>{a&&!b.isClosePausedRef.current&&L(Q)},[a,Q,b.isClosePausedRef,L]),T.useEffect(()=>(j(),()=>P()),[j,P]);const D=T.useMemo(()=>R?ST(R):null,[R]);return b.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx(TP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),u.jsx(_P,{scope:n,onClose:M,children:Rl.createPortal(u.jsx(ly.ItemSlot,{scope:n,children:u.jsx(rP,{asChild:!0,onEscapeKeyDown:Le(d,()=>{b.isFocusedToastEscapeKeyDownRef.current||M(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...A,ref:F,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Le(t.onKeyDown,oe=>{oe.key==="Escape"&&(d?.(oe.nativeEvent),oe.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:Le(t.onPointerDown,oe=>{oe.button===0&&(U.current={x:oe.clientX,y:oe.clientY})}),onPointerMove:Le(t.onPointerMove,oe=>{if(!U.current)return;const Te=oe.clientX-U.current.x,ne=oe.clientY-U.current.y,de=!!z.current,X=["left","right"].includes(b.swipeDirection),ae=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ce=X?ae(0,Te):0,q=X?0:ae(0,ne),J=oe.pointerType==="touch"?10:2,ge={x:ce,y:q},Ce={originalEvent:oe,delta:ge};de?(z.current=ge,Jd(yP,_,Ce,{discrete:!1})):vx(ge,b.swipeDirection,J)?(z.current=ge,Jd(gP,y,Ce,{discrete:!1}),oe.target.setPointerCapture(oe.pointerId)):(Math.abs(Te)>J||Math.abs(ne)>J)&&(U.current=null)}),onPointerUp:Le(t.onPointerUp,oe=>{const Te=z.current,ne=oe.target;if(ne.hasPointerCapture(oe.pointerId)&&ne.releasePointerCapture(oe.pointerId),z.current=null,U.current=null,Te){const de=oe.currentTarget,X={originalEvent:oe,delta:Te};vx(Te,b.swipeDirection,b.swipeThreshold)?Jd(wP,C,X,{discrete:!0}):Jd(vP,x,X,{discrete:!0}),de.addEventListener("click",ae=>ae.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),TP=t=>{const{__scopeToast:e,children:n,...r}=t,i=uf(df,e),[a,c]=T.useState(!1),[d,p]=T.useState(!1);return IP(()=>c(!0)),T.useEffect(()=>{const m=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:u.jsx(cf,{asChild:!0,children:u.jsx(yu,{...r,children:a&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},bP="ToastTitle",wT=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ze.div,{...r,ref:e})});wT.displayName=bP;var SP="ToastDescription",_T=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ze.div,{...r,ref:e})});_T.displayName=SP;var xT="ToastAction",ET=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(bT,{altText:n,asChild:!0,children:u.jsx(cy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${xT}\`. Expected non-empty \`string\`.`),null)});ET.displayName=xT;var TT="ToastClose",cy=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=xP(TT,n);return u.jsx(bT,{asChild:!0,children:u.jsx(ze.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,i.onClose)})})});cy.displayName=TT;var bT=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function ST(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),CP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const c=r.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...ST(r))}}),e}function Jd(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?cT(i,a):i.dispatchEvent(a)}var vx=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function IP(t=()=>{}){const e=Vn(t);Wt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function CP(t){return t.nodeType===t.ELEMENT_NODE}function RP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var NP=pT,IT=gT,CT=vT,RT=wT,NT=_T,AT=ET,PT=cy;function kT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jT(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kT(t))&&(r&&(r+=" "),r+=e);return r}const wx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,_x=jT,hf=(t,e)=>n=>{var r;if(e?.variants==null)return _x(t,n?.class,n?.className);const{variants:i,defaultVariants:a}=e,c=Object.keys(i).map(m=>{const y=n?.[m],_=a?.[m];if(y===null)return null;const x=wx(y)||wx(_);return i[m][x]}),d=n&&Object.entries(n).reduce((m,y)=>{let[_,x]=y;return x===void 0||(m[_]=x),m},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:_,className:x,...C}=y;return Object.entries(C).every(A=>{let[b,R]=A;return Array.isArray(R)?R.includes({...a,...d}[b]):{...a,...d}[b]===R})?[...m,_,x]:m},[]);return _x(t,c,p,n?.class,n?.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DT=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:c,...d},p)=>T.createElement("svg",{ref:p,...PP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DT("lucide",i),...d},[...c.map(([m,y])=>T.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=T.forwardRef(({className:r,...i},a)=>T.createElement(kP,{ref:a,iconNode:e,className:DT(`lucide-${AP(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=st("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=st("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=st("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=st("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=st("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=st("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=st("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=st("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=st("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=st("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=st("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=st("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=st("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hy="-",HP=t=>{const e=KP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:c=>{const d=c.split(hy);return d[0]===""&&d.length!==1&&d.shift(),zT(d,e)||WP(c)},getConflictingClassGroupIds:(c,d)=>{const p=n[c]||[];return d&&r[c]?[...p,...r[c]]:p}}},zT=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?zT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(hy);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Ex=/^\[(.+)\]$/,WP=t=>{if(Ex.test(t)){const e=Ex.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},KP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return QP(Object.entries(t.classGroups),n).forEach(([a,c])=>{yg(c,r,a,e)}),r},yg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Tx(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(GP(i)){yg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,c])=>{yg(c,Tx(e,a),n,r)})})},Tx=(t,e)=>{let n=t;return e.split(hy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GP=t=>t.isThemeGetter,QP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,d])=>[e+c,d])):a);return[n,i]}):t,YP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,c)=>{n.set(a,c),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let c=n.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return i(a,c),c},set(a,c){n.has(a)?n.set(a,c):i(a,c)}}},HT="!",XP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,c=d=>{const p=[];let m=0,y=0,_;for(let R=0;R<d.length;R++){let V=d[R];if(m===0){if(V===i&&(r||d.slice(R,R+a)===e)){p.push(d.slice(y,R)),y=R+a;continue}if(V==="/"){_=R;continue}}V==="["?m++:V==="]"&&m--}const x=p.length===0?d:d.substring(y),C=x.startsWith(HT),A=C?x.substring(1):x,b=_&&_>y?_-y:void 0;return{modifiers:p,hasImportantModifier:C,baseClassName:A,maybePostfixModifierPosition:b}};return n?d=>n({className:d,parseClassName:c}):c},JP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},ZP=t=>({cache:YP(t.cacheSize),parseClassName:XP(t),...HP(t)}),ek=/\s+/,tk=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],c=t.trim().split(ek);let d="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{modifiers:y,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:C}=n(m);let A=!!C,b=r(A?x.substring(0,C):x);if(!b){if(!A){d=m+(d.length>0?" "+d:d);continue}if(b=r(x),!b){d=m+(d.length>0?" "+d:d);continue}A=!1}const R=JP(y).join(":"),V=_?R+HT:R,F=V+b;if(a.includes(F))continue;a.push(F);const U=i(b,A);for(let z=0;z<U.length;++z){const Q=U[z];a.push(V+Q)}d=m+(d.length>0?" "+d:d)}return d};function nk(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=WT(e))&&(r&&(r+=" "),r+=n);return r}const WT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=WT(t[r]))&&(n&&(n+=" "),n+=e);return n};function rk(t,...e){let n,r,i,a=c;function c(p){const m=e.reduce((y,_)=>_(y),t());return n=ZP(m),r=n.cache.get,i=n.cache.set,a=d,d(p)}function d(p){const m=r(p);if(m)return m;const y=tk(p,n);return i(p,y),y}return function(){return a(nk.apply(null,arguments))}}const vt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},KT=/^\[(?:([a-z-]+):)?(.+)\]$/i,sk=/^\d+\/\d+$/,ik=new Set(["px","full","screen"]),ok=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ak=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ck=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=t=>al(t)||ik.has(t)||sk.test(t),Ii=t=>Nl(t,"length",vk),al=t=>!!t&&!Number.isNaN(Number(t)),Dm=t=>Nl(t,"number",al),Mc=t=>!!t&&Number.isInteger(Number(t)),dk=t=>t.endsWith("%")&&al(t.slice(0,-1)),Ue=t=>KT.test(t),Ci=t=>ok.test(t),hk=new Set(["length","size","percentage"]),fk=t=>Nl(t,hk,GT),pk=t=>Nl(t,"position",GT),mk=new Set(["image","url"]),gk=t=>Nl(t,mk,_k),yk=t=>Nl(t,"",wk),Lc=()=>!0,Nl=(t,e,n)=>{const r=KT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},vk=t=>ak.test(t)&&!lk.test(t),GT=()=>!1,wk=t=>ck.test(t),_k=t=>uk.test(t),xk=()=>{const t=vt("colors"),e=vt("spacing"),n=vt("blur"),r=vt("brightness"),i=vt("borderColor"),a=vt("borderRadius"),c=vt("borderSpacing"),d=vt("borderWidth"),p=vt("contrast"),m=vt("grayscale"),y=vt("hueRotate"),_=vt("invert"),x=vt("gap"),C=vt("gradientColorStops"),A=vt("gradientColorStopPositions"),b=vt("inset"),R=vt("margin"),V=vt("opacity"),F=vt("padding"),U=vt("saturate"),z=vt("scale"),Q=vt("sepia"),Z=vt("skew"),k=vt("space"),S=vt("translate"),j=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",Ue,e],L=()=>[Ue,e],D=()=>["",Fs,Ii],oe=()=>["auto",al,Ue],Te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["start","end","center","between","around","evenly","stretch"],ae=()=>["","0",Ue],ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[al,Ue];return{cacheSize:500,separator:":",theme:{colors:[Lc],spacing:[Fs,Ii],blur:["none","",Ci,Ue],brightness:q(),borderColor:[t],borderRadius:["none","","full",Ci,Ue],borderSpacing:L(),borderWidth:D(),contrast:q(),grayscale:ae(),hueRotate:q(),invert:ae(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[dk,Ii],inset:M(),margin:M(),opacity:q(),padding:L(),saturate:q(),scale:q(),sepia:ae(),skew:q(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Ci]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Te(),Ue]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mc,Ue]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:ae()}],shrink:[{shrink:ae()}],order:[{order:["first","last","none",Mc,Ue]}],"grid-cols":[{"grid-cols":[Lc]}],"col-start-end":[{col:["auto",{span:["full",Mc,Ue]},Ue]}],"col-start":[{"col-start":oe()}],"col-end":[{"col-end":oe()}],"grid-rows":[{"grid-rows":[Lc]}],"row-start-end":[{row:["auto",{span:[Mc,Ue]},Ue]}],"row-start":[{"row-start":oe()}],"row-end":[{"row-end":oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...X()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...X(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...X(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[R]}],mx:[{mx:[R]}],my:[{my:[R]}],ms:[{ms:[R]}],me:[{me:[R]}],mt:[{mt:[R]}],mr:[{mr:[R]}],mb:[{mb:[R]}],ml:[{ml:[R]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,e]}],"min-w":[{"min-w":[Ue,e,"min","max","fit"]}],"max-w":[{"max-w":[Ue,e,"none","full","min","max","fit","prose",{screen:[Ci]},Ci]}],h:[{h:[Ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ci,Ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dm]}],"font-family":[{font:[Lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",al,Dm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fs,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[V]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[V]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fs,Ii]}],"underline-offset":[{"underline-offset":["auto",Fs,Ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[V]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Te(),pk]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fk]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[A]}],"gradient-via-pos":[{via:[A]}],"gradient-to-pos":[{to:[A]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[V]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[V]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[Fs,Ue]}],"outline-w":[{outline:[Fs,Ii]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[V]}],"ring-offset-w":[{"ring-offset":[Fs,Ii]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ci,yk]}],"shadow-color":[{shadow:[Lc]}],opacity:[{opacity:[V]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Ci,Ue]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[_]}],saturate:[{saturate:[U]}],sepia:[{sepia:[Q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[V]}],"backdrop-saturate":[{"backdrop-saturate":[U]}],"backdrop-sepia":[{"backdrop-sepia":[Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Mc,Ue]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fs,Ii,Dm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ek=rk(xk);function je(...t){return Ek(jT(t))}const Tk=NP,QT=T.forwardRef(({className:t,...e},n)=>u.jsx(IT,{ref:n,className:je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QT.displayName=IT.displayName;const bk=hf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YT=T.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(CT,{ref:r,className:je(bk({variant:e}),t),...n}));YT.displayName=CT.displayName;const Sk=T.forwardRef(({className:t,...e},n)=>u.jsx(AT,{ref:n,className:je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Sk.displayName=AT.displayName;const XT=T.forwardRef(({className:t,...e},n)=>u.jsx(PT,{ref:n,className:je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(yl,{className:"h-4 w-4"})}));XT.displayName=PT.displayName;const JT=T.forwardRef(({className:t,...e},n)=>u.jsx(RT,{ref:n,className:je("text-sm font-semibold",t),...e}));JT.displayName=RT.displayName;const ZT=T.forwardRef(({className:t,...e},n)=>u.jsx(NT,{ref:n,className:je("text-sm opacity-90",t),...e}));ZT.displayName=NT.displayName;function Ik(){const{toasts:t}=nr();return u.jsxs(Tk,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return u.jsxs(YT,{...a,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(JT,{children:n}),r&&u.jsx(ZT,{children:r})]}),i,u.jsx(XT,{})]},e)}),u.jsx(QT,{})]})}var Ck=VE[" useId ".trim().toString()]||(()=>{}),Rk=0;function ll(t){const[e,n]=T.useState(Ck());return Wt(()=>{n(r=>r??String(Rk++))},[t]),e?`radix-${e}`:""}const Nk=["top","right","bottom","left"],Hi=Math.min,Yn=Math.max,Nh=Math.round,Zd=Math.floor,is=t=>({x:t,y:t}),Ak={left:"right",right:"left",bottom:"top",top:"bottom"},Pk={start:"end",end:"start"};function vg(t,e,n){return Yn(t,Hi(e,n))}function Ks(t,e){return typeof t=="function"?t(e):t}function Gs(t){return t.split("-")[0]}function Al(t){return t.split("-")[1]}function fy(t){return t==="x"?"y":"x"}function py(t){return t==="y"?"height":"width"}function Wi(t){return["top","bottom"].includes(Gs(t))?"y":"x"}function my(t){return fy(Wi(t))}function kk(t,e,n){n===void 0&&(n=!1);const r=Al(t),i=my(t),a=py(i);let c=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Ah(c)),[c,Ah(c)]}function jk(t){const e=Ah(t);return[wg(t),e,wg(e)]}function wg(t){return t.replace(/start|end/g,e=>Pk[e])}function Dk(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:c;default:return[]}}function Ok(t,e,n,r){const i=Al(t);let a=Dk(Gs(t),n==="start",r);return i&&(a=a.map(c=>c+"-"+i),e&&(a=a.concat(a.map(wg)))),a}function Ah(t){return t.replace(/left|right|bottom|top/g,e=>Ak[e])}function Mk(t){return{top:0,right:0,bottom:0,left:0,...t}}function eb(t){return typeof t!="number"?Mk(t):{top:t,right:t,bottom:t,left:t}}function Ph(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function bx(t,e,n){let{reference:r,floating:i}=t;const a=Wi(e),c=my(e),d=py(c),p=Gs(e),m=a==="y",y=r.x+r.width/2-i.width/2,_=r.y+r.height/2-i.height/2,x=r[d]/2-i[d]/2;let C;switch(p){case"top":C={x:y,y:r.y-i.height};break;case"bottom":C={x:y,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y:_};break;case"left":C={x:r.x-i.width,y:_};break;default:C={x:r.x,y:r.y}}switch(Al(e)){case"start":C[c]-=x*(n&&m?-1:1);break;case"end":C[c]+=x*(n&&m?-1:1);break}return C}const Lk=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:c}=n,d=a.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:_}=bx(m,r,p),x=r,C={},A=0;for(let b=0;b<d.length;b++){const{name:R,fn:V}=d[b],{x:F,y:U,data:z,reset:Q}=await V({x:y,y:_,initialPlacement:r,placement:x,strategy:i,middlewareData:C,rects:m,platform:c,elements:{reference:t,floating:e}});y=F??y,_=U??_,C={...C,[R]:{...C[R],...z}},Q&&A<=50&&(A++,typeof Q=="object"&&(Q.placement&&(x=Q.placement),Q.rects&&(m=Q.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):Q.rects),{x:y,y:_}=bx(m,x,p)),b=-1)}return{x:y,y:_,placement:x,strategy:i,middlewareData:C}};async function nu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:c,elements:d,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:x=!1,padding:C=0}=Ks(e,t),A=eb(C),R=d[x?_==="floating"?"reference":"floating":_],V=Ph(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(R)))==null||n?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:y,strategy:p})),F=_==="floating"?{x:r,y:i,width:c.floating.width,height:c.floating.height}:c.reference,U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),z=await(a.isElement==null?void 0:a.isElement(U))?await(a.getScale==null?void 0:a.getScale(U))||{x:1,y:1}:{x:1,y:1},Q=Ph(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:F,offsetParent:U,strategy:p}):F);return{top:(V.top-Q.top+A.top)/z.y,bottom:(Q.bottom-V.bottom+A.bottom)/z.y,left:(V.left-Q.left+A.left)/z.x,right:(Q.right-V.right+A.right)/z.x}}const Vk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:c,elements:d,middlewareData:p}=e,{element:m,padding:y=0}=Ks(t,e)||{};if(m==null)return{};const _=eb(y),x={x:n,y:r},C=my(i),A=py(C),b=await c.getDimensions(m),R=C==="y",V=R?"top":"left",F=R?"bottom":"right",U=R?"clientHeight":"clientWidth",z=a.reference[A]+a.reference[C]-x[C]-a.floating[A],Q=x[C]-a.reference[C],Z=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=Z?Z[U]:0;(!k||!await(c.isElement==null?void 0:c.isElement(Z)))&&(k=d.floating[U]||a.floating[A]);const S=z/2-Q/2,j=k/2-b[A]/2-1,P=Hi(_[V],j),M=Hi(_[F],j),L=P,D=k-b[A]-M,oe=k/2-b[A]/2+S,Te=vg(L,oe,D),ne=!p.arrow&&Al(i)!=null&&oe!==Te&&a.reference[A]/2-(oe<L?P:M)-b[A]/2<0,de=ne?oe<L?oe-L:oe-D:0;return{[C]:x[C]+de,data:{[C]:Te,centerOffset:oe-Te-de,...ne&&{alignmentOffset:de}},reset:ne}}}),Fk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:c,initialPlacement:d,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:x,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:A="none",flipAlignment:b=!0,...R}=Ks(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const V=Gs(i),F=Wi(d),U=Gs(d)===d,z=await(p.isRTL==null?void 0:p.isRTL(m.floating)),Q=x||(U||!b?[Ah(d)]:jk(d)),Z=A!=="none";!x&&Z&&Q.push(...Ok(d,b,A,z));const k=[d,...Q],S=await nu(e,R),j=[];let P=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&j.push(S[V]),_){const oe=kk(i,c,z);j.push(S[oe[0]],S[oe[1]])}if(P=[...P,{placement:i,overflows:j}],!j.every(oe=>oe<=0)){var M,L;const oe=(((M=a.flip)==null?void 0:M.index)||0)+1,Te=k[oe];if(Te)return{data:{index:oe,overflows:P},reset:{placement:Te}};let ne=(L=P.filter(de=>de.overflows[0]<=0).sort((de,X)=>de.overflows[1]-X.overflows[1])[0])==null?void 0:L.placement;if(!ne)switch(C){case"bestFit":{var D;const de=(D=P.filter(X=>{if(Z){const ae=Wi(X.placement);return ae===F||ae==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ae=>ae>0).reduce((ae,ce)=>ae+ce,0)]).sort((X,ae)=>X[1]-ae[1])[0])==null?void 0:D[0];de&&(ne=de);break}case"initialPlacement":ne=d;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function Sx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ix(t){return Nk.some(e=>t[e]>=0)}const Uk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ks(t,e);switch(r){case"referenceHidden":{const a=await nu(e,{...i,elementContext:"reference"}),c=Sx(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ix(c)}}}case"escaped":{const a=await nu(e,{...i,altBoundary:!0}),c=Sx(a,n.floating);return{data:{escapedOffsets:c,escaped:Ix(c)}}}default:return{}}}}};async function Bk(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),c=Gs(n),d=Al(n),p=Wi(n)==="y",m=["left","top"].includes(c)?-1:1,y=a&&p?-1:1,_=Ks(e,t);let{mainAxis:x,crossAxis:C,alignmentAxis:A}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof A=="number"&&(C=d==="end"?A*-1:A),p?{x:C*y,y:x*m}:{x:x*m,y:C*y}}const $k=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:c,middlewareData:d}=e,p=await Bk(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+p.x,y:a+p.y,data:{...p,placement:c}}}}},qk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:d={fn:R=>{let{x:V,y:F}=R;return{x:V,y:F}}},...p}=Ks(t,e),m={x:n,y:r},y=await nu(e,p),_=Wi(Gs(i)),x=fy(_);let C=m[x],A=m[_];if(a){const R=x==="y"?"top":"left",V=x==="y"?"bottom":"right",F=C+y[R],U=C-y[V];C=vg(F,C,U)}if(c){const R=_==="y"?"top":"left",V=_==="y"?"bottom":"right",F=A+y[R],U=A-y[V];A=vg(F,A,U)}const b=d.fn({...e,[x]:C,[_]:A});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[x]:a,[_]:c}}}}}},zk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:c}=e,{offset:d=0,mainAxis:p=!0,crossAxis:m=!0}=Ks(t,e),y={x:n,y:r},_=Wi(i),x=fy(_);let C=y[x],A=y[_];const b=Ks(d,e),R=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(p){const U=x==="y"?"height":"width",z=a.reference[x]-a.floating[U]+R.mainAxis,Q=a.reference[x]+a.reference[U]-R.mainAxis;C<z?C=z:C>Q&&(C=Q)}if(m){var V,F;const U=x==="y"?"width":"height",z=["top","left"].includes(Gs(i)),Q=a.reference[_]-a.floating[U]+(z&&((V=c.offset)==null?void 0:V[_])||0)+(z?0:R.crossAxis),Z=a.reference[_]+a.reference[U]+(z?0:((F=c.offset)==null?void 0:F[_])||0)-(z?R.crossAxis:0);A<Q?A=Q:A>Z&&(A=Z)}return{[x]:C,[_]:A}}}},Hk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:c,elements:d}=e,{apply:p=()=>{},...m}=Ks(t,e),y=await nu(e,m),_=Gs(i),x=Al(i),C=Wi(i)==="y",{width:A,height:b}=a.floating;let R,V;_==="top"||_==="bottom"?(R=_,V=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(V=_,R=x==="end"?"top":"bottom");const F=b-y.top-y.bottom,U=A-y.left-y.right,z=Hi(b-y[R],F),Q=Hi(A-y[V],U),Z=!e.middlewareData.shift;let k=z,S=Q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=F),Z&&!x){const P=Yn(y.left,0),M=Yn(y.right,0),L=Yn(y.top,0),D=Yn(y.bottom,0);C?S=A-2*(P!==0||M!==0?P+M:Yn(y.left,y.right)):k=b-2*(L!==0||D!==0?L+D:Yn(y.top,y.bottom))}await p({...e,availableWidth:S,availableHeight:k});const j=await c.getDimensions(d.floating);return A!==j.width||b!==j.height?{reset:{rects:!0}}:{}}}};function ff(){return typeof window<"u"}function Pl(t){return tb(t)?(t.nodeName||"").toLowerCase():"#document"}function Zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vs(t){var e;return(e=(tb(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tb(t){return ff()?t instanceof Node||t instanceof Zn(t).Node:!1}function Fr(t){return ff()?t instanceof Element||t instanceof Zn(t).Element:!1}function ms(t){return ff()?t instanceof HTMLElement||t instanceof Zn(t).HTMLElement:!1}function Cx(t){return!ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Zn(t).ShadowRoot}function vu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Wk(t){return["table","td","th"].includes(Pl(t))}function pf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function gy(t){const e=yy(),n=Fr(t)?Ur(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Kk(t){let e=Ki(t);for(;ms(e)&&!vl(e);){if(gy(e))return e;if(pf(e))return null;e=Ki(e)}return null}function yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function vl(t){return["html","body","#document"].includes(Pl(t))}function Ur(t){return Zn(t).getComputedStyle(t)}function mf(t){return Fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ki(t){if(Pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Cx(t)&&t.host||vs(t);return Cx(e)?e.host:e}function nb(t){const e=Ki(t);return vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&vu(e)?e:nb(e)}function ru(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=nb(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),c=Zn(i);if(a){const d=_g(c);return e.concat(c,c.visualViewport||[],vu(i)?i:[],d&&n?ru(d):[])}return e.concat(i,ru(i,[],n))}function _g(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rb(t){const e=Ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ms(t),a=i?t.offsetWidth:n,c=i?t.offsetHeight:r,d=Nh(n)!==a||Nh(r)!==c;return d&&(n=a,r=c),{width:n,height:r,$:d}}function vy(t){return Fr(t)?t:t.contextElement}function cl(t){const e=vy(t);if(!ms(e))return is(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=rb(e);let c=(a?Nh(n.width):n.width)/r,d=(a?Nh(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const Gk=is(0);function sb(t){const e=Zn(t);return!yy()||!e.visualViewport?Gk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Qk(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Zn(t)?!1:e}function Ho(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=vy(t);let c=is(1);e&&(r?Fr(r)&&(c=cl(r)):c=cl(t));const d=Qk(a,n,r)?sb(a):is(0);let p=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,y=i.width/c.x,_=i.height/c.y;if(a){const x=Zn(a),C=r&&Fr(r)?Zn(r):r;let A=x,b=_g(A);for(;b&&r&&C!==A;){const R=cl(b),V=b.getBoundingClientRect(),F=Ur(b),U=V.left+(b.clientLeft+parseFloat(F.paddingLeft))*R.x,z=V.top+(b.clientTop+parseFloat(F.paddingTop))*R.y;p*=R.x,m*=R.y,y*=R.x,_*=R.y,p+=U,m+=z,A=Zn(b),b=_g(A)}}return Ph({width:y,height:_,x:p,y:m})}function wy(t,e){const n=mf(t).scrollLeft;return e?e.left+n:Ho(vs(t)).left+n}function ib(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:wy(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function Yk(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",c=vs(r),d=e?pf(e.floating):!1;if(r===c||d&&a)return n;let p={scrollLeft:0,scrollTop:0},m=is(1);const y=is(0),_=ms(r);if((_||!_&&!a)&&((Pl(r)!=="body"||vu(c))&&(p=mf(r)),ms(r))){const C=Ho(r);m=cl(r),y.x=C.x+r.clientLeft,y.y=C.y+r.clientTop}const x=c&&!_&&!a?ib(c,p,!0):is(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+y.x+x.x,y:n.y*m.y-p.scrollTop*m.y+y.y+x.y}}function Xk(t){return Array.from(t.getClientRects())}function Jk(t){const e=vs(t),n=mf(t),r=t.ownerDocument.body,i=Yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+wy(t);const d=-n.scrollTop;return Ur(r).direction==="rtl"&&(c+=Yn(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:c,y:d}}function Zk(t,e){const n=Zn(t),r=vs(t),i=n.visualViewport;let a=r.clientWidth,c=r.clientHeight,d=0,p=0;if(i){a=i.width,c=i.height;const m=yy();(!m||m&&e==="fixed")&&(d=i.offsetLeft,p=i.offsetTop)}return{width:a,height:c,x:d,y:p}}function ej(t,e){const n=Ho(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=ms(t)?cl(t):is(1),c=t.clientWidth*a.x,d=t.clientHeight*a.y,p=i*a.x,m=r*a.y;return{width:c,height:d,x:p,y:m}}function Rx(t,e,n){let r;if(e==="viewport")r=Zk(t,n);else if(e==="document")r=Jk(vs(t));else if(Fr(e))r=ej(e,n);else{const i=sb(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ph(r)}function ob(t,e){const n=Ki(t);return n===e||!Fr(n)||vl(n)?!1:Ur(n).position==="fixed"||ob(n,e)}function tj(t,e){const n=e.get(t);if(n)return n;let r=ru(t,[],!1).filter(d=>Fr(d)&&Pl(d)!=="body"),i=null;const a=Ur(t).position==="fixed";let c=a?Ki(t):t;for(;Fr(c)&&!vl(c);){const d=Ur(c),p=gy(c);!p&&d.position==="fixed"&&(i=null),(a?!p&&!i:!p&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||vu(c)&&!p&&ob(t,c))?r=r.filter(y=>y!==c):i=d,c=Ki(c)}return e.set(t,r),r}function nj(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const c=[...n==="clippingAncestors"?pf(e)?[]:tj(e,this._c):[].concat(n),r],d=c[0],p=c.reduce((m,y)=>{const _=Rx(e,y,i);return m.top=Yn(_.top,m.top),m.right=Hi(_.right,m.right),m.bottom=Hi(_.bottom,m.bottom),m.left=Yn(_.left,m.left),m},Rx(e,d,i));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function rj(t){const{width:e,height:n}=rb(t);return{width:e,height:n}}function sj(t,e,n){const r=ms(e),i=vs(e),a=n==="fixed",c=Ho(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const p=is(0);if(r||!r&&!a)if((Pl(e)!=="body"||vu(i))&&(d=mf(e)),r){const x=Ho(e,!0,a,e);p.x=x.x+e.clientLeft,p.y=x.y+e.clientTop}else i&&(p.x=wy(i));const m=i&&!r&&!a?ib(i,d):is(0),y=c.left+d.scrollLeft-p.x-m.x,_=c.top+d.scrollTop-p.y-m.y;return{x:y,y:_,width:c.width,height:c.height}}function Om(t){return Ur(t).position==="static"}function Nx(t,e){if(!ms(t)||Ur(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vs(t)===n&&(n=n.ownerDocument.body),n}function ab(t,e){const n=Zn(t);if(pf(t))return n;if(!ms(t)){let i=Ki(t);for(;i&&!vl(i);){if(Fr(i)&&!Om(i))return i;i=Ki(i)}return n}let r=Nx(t,e);for(;r&&Wk(r)&&Om(r);)r=Nx(r,e);return r&&vl(r)&&Om(r)&&!gy(r)?n:r||Kk(t)||n}const ij=async function(t){const e=this.getOffsetParent||ab,n=this.getDimensions,r=await n(t.floating);return{reference:sj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oj(t){return Ur(t).direction==="rtl"}const aj={convertOffsetParentRelativeRectToViewportRelativeRect:Yk,getDocumentElement:vs,getClippingRect:nj,getOffsetParent:ab,getElementRects:ij,getClientRects:Xk,getDimensions:rj,getScale:cl,isElement:Fr,isRTL:oj};function lb(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function lj(t,e){let n=null,r;const i=vs(t);function a(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function c(d,p){d===void 0&&(d=!1),p===void 0&&(p=1),a();const m=t.getBoundingClientRect(),{left:y,top:_,width:x,height:C}=m;if(d||e(),!x||!C)return;const A=Zd(_),b=Zd(i.clientWidth-(y+x)),R=Zd(i.clientHeight-(_+C)),V=Zd(y),U={rootMargin:-A+"px "+-b+"px "+-R+"px "+-V+"px",threshold:Yn(0,Hi(1,p))||1};let z=!0;function Q(Z){const k=Z[0].intersectionRatio;if(k!==p){if(!z)return c();k?c(!1,k):r=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!lb(m,t.getBoundingClientRect())&&c(),z=!1}try{n=new IntersectionObserver(Q,{...U,root:i.ownerDocument})}catch{n=new IntersectionObserver(Q,U)}n.observe(t)}return c(!0),a}function cj(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=vy(t),y=i||a?[...m?ru(m):[],...ru(e)]:[];y.forEach(V=>{i&&V.addEventListener("scroll",n,{passive:!0}),a&&V.addEventListener("resize",n)});const _=m&&d?lj(m,n):null;let x=-1,C=null;c&&(C=new ResizeObserver(V=>{let[F]=V;F&&F.target===m&&C&&(C.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var U;(U=C)==null||U.observe(e)})),n()}),m&&!p&&C.observe(m),C.observe(e));let A,b=p?Ho(t):null;p&&R();function R(){const V=Ho(t);b&&!lb(b,V)&&n(),b=V,A=requestAnimationFrame(R)}return n(),()=>{var V;y.forEach(F=>{i&&F.removeEventListener("scroll",n),a&&F.removeEventListener("resize",n)}),_?.(),(V=C)==null||V.disconnect(),C=null,p&&cancelAnimationFrame(A)}}const uj=$k,dj=qk,hj=Fk,fj=Hk,pj=Uk,Ax=Vk,mj=zk,gj=(t,e,n)=>{const r=new Map,i={platform:aj,...n},a={...i.platform,_c:r};return Lk(t,e,{...i,platform:a})};var fh=typeof document<"u"?T.useLayoutEffect:T.useEffect;function kh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!kh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!kh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function cb(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Px(t,e){const n=cb(t);return Math.round(e*n)/n}function Mm(t){const e=T.useRef(t);return fh(()=>{e.current=t}),e}function yj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:c}={},transform:d=!0,whileElementsMounted:p,open:m}=t,[y,_]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,C]=T.useState(r);kh(x,r)||C(r);const[A,b]=T.useState(null),[R,V]=T.useState(null),F=T.useCallback(X=>{X!==Z.current&&(Z.current=X,b(X))},[]),U=T.useCallback(X=>{X!==k.current&&(k.current=X,V(X))},[]),z=a||A,Q=c||R,Z=T.useRef(null),k=T.useRef(null),S=T.useRef(y),j=p!=null,P=Mm(p),M=Mm(i),L=Mm(m),D=T.useCallback(()=>{if(!Z.current||!k.current)return;const X={placement:e,strategy:n,middleware:x};M.current&&(X.platform=M.current),gj(Z.current,k.current,X).then(ae=>{const ce={...ae,isPositioned:L.current!==!1};oe.current&&!kh(S.current,ce)&&(S.current=ce,Rl.flushSync(()=>{_(ce)}))})},[x,e,n,M,L]);fh(()=>{m===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,_(X=>({...X,isPositioned:!1})))},[m]);const oe=T.useRef(!1);fh(()=>(oe.current=!0,()=>{oe.current=!1}),[]),fh(()=>{if(z&&(Z.current=z),Q&&(k.current=Q),z&&Q){if(P.current)return P.current(z,Q,D);D()}},[z,Q,D,P,j]);const Te=T.useMemo(()=>({reference:Z,floating:k,setReference:F,setFloating:U}),[F,U]),ne=T.useMemo(()=>({reference:z,floating:Q}),[z,Q]),de=T.useMemo(()=>{const X={position:n,left:0,top:0};if(!ne.floating)return X;const ae=Px(ne.floating,y.x),ce=Px(ne.floating,y.y);return d?{...X,transform:"translate("+ae+"px, "+ce+"px)",...cb(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:ce}},[n,d,ne.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:D,refs:Te,elements:ne,floatingStyles:de}),[y,D,Te,ne,de])}const vj=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Ax({element:r.current,padding:i}).fn(n):{}:r?Ax({element:r,padding:i}).fn(n):{}}}},wj=(t,e)=>({...uj(t),options:[t,e]}),_j=(t,e)=>({...dj(t),options:[t,e]}),xj=(t,e)=>({...mj(t),options:[t,e]}),Ej=(t,e)=>({...hj(t),options:[t,e]}),Tj=(t,e)=>({...fj(t),options:[t,e]}),bj=(t,e)=>({...pj(t),options:[t,e]}),Sj=(t,e)=>({...vj(t),options:[t,e]});var Ij="Arrow",ub=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return u.jsx(ze.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});ub.displayName=Ij;var Cj=ub;function db(t){const[e,n]=T.useState(void 0);return Wt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let c,d;if("borderBoxSize"in a){const p=a.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _y="Popper",[hb,gf]=no(_y),[Rj,fb]=hb(_y),pb=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return u.jsx(Rj,{scope:e,anchor:r,onAnchorChange:i,children:n})};pb.displayName=_y;var mb="PopperAnchor",gb=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=fb(mb,n),c=T.useRef(null),d=mt(e,c);return T.useEffect(()=>{a.onAnchorChange(r?.current||c.current)}),r?null:u.jsx(ze.div,{...i,ref:d})});gb.displayName=mb;var xy="PopperContent",[Nj,Aj]=hb(xy),yb=T.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:x=!1,updatePositionStrategy:C="optimized",onPlaced:A,...b}=t,R=fb(xy,n),[V,F]=T.useState(null),U=mt(e,he=>F(he)),[z,Q]=T.useState(null),Z=db(z),k=Z?.width??0,S=Z?.height??0,j=r+(a!=="center"?"-"+a:""),P=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},M=Array.isArray(m)?m:[m],L=M.length>0,D={padding:P,boundary:M.filter(kj),altBoundary:L},{refs:oe,floatingStyles:Te,placement:ne,isPositioned:de,middlewareData:X}=yj({strategy:"fixed",placement:j,whileElementsMounted:(...he)=>cj(...he,{animationFrame:C==="always"}),elements:{reference:R.anchor},middleware:[wj({mainAxis:i+S,alignmentAxis:c}),p&&_j({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?xj():void 0,...D}),p&&Ej({...D}),Tj({...D,apply:({elements:he,rects:be,availableWidth:Fe,availableHeight:De})=>{const{width:Qe,height:ct}=be.reference,Ct=he.floating.style;Ct.setProperty("--radix-popper-available-width",`${Fe}px`),Ct.setProperty("--radix-popper-available-height",`${De}px`),Ct.setProperty("--radix-popper-anchor-width",`${Qe}px`),Ct.setProperty("--radix-popper-anchor-height",`${ct}px`)}}),z&&Sj({element:z,padding:d}),jj({arrowWidth:k,arrowHeight:S}),x&&bj({strategy:"referenceHidden",...D})]}),[ae,ce]=_b(ne),q=Vn(A);Wt(()=>{de&&q?.()},[de,q]);const J=X.arrow?.x,ge=X.arrow?.y,Ce=X.arrow?.centerOffset!==0,[Pe,Ve]=T.useState();return Wt(()=>{V&&Ve(window.getComputedStyle(V).zIndex)},[V]),u.jsx("div",{ref:oe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:de?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(Nj,{scope:n,placedSide:ae,onArrowChange:Q,arrowX:J,arrowY:ge,shouldHideArrow:Ce,children:u.jsx(ze.div,{"data-side":ae,"data-align":ce,...b,ref:U,style:{...b.style,animation:de?void 0:"none"}})})})});yb.displayName=xy;var vb="PopperArrow",Pj={top:"bottom",right:"left",bottom:"top",left:"right"},wb=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=Aj(vb,r),c=Pj[a.placedSide];return u.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:u.jsx(Cj,{...i,ref:n,style:{...i.style,display:"block"}})})});wb.displayName=vb;function kj(t){return t!==null}var jj=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,c=i.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,p=c?0:t.arrowHeight,[m,y]=_b(n),_={start:"0%",center:"50%",end:"100%"}[y],x=(i.arrow?.x??0)+d/2,C=(i.arrow?.y??0)+p/2;let A="",b="";return m==="bottom"?(A=c?_:`${x}px`,b=`${-p}px`):m==="top"?(A=c?_:`${x}px`,b=`${r.floating.height+p}px`):m==="right"?(A=`${-p}px`,b=c?_:`${C}px`):m==="left"&&(A=`${r.floating.width+p}px`,b=c?_:`${C}px`),{data:{x:A,y:b}}}});function _b(t){const[e,n="center"]=t.split("-");return[e,n]}var Dj=pb,xb=gb,Eb=yb,Tb=wb,[yf,i9]=no("Tooltip",[gf]),Ey=gf(),bb="TooltipProvider",Oj=700,kx="tooltip.open",[Mj,Sb]=yf(bb),Ib=t=>{const{__scopeTooltip:e,delayDuration:n=Oj,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,c=T.useRef(!0),d=T.useRef(!1),p=T.useRef(0);return T.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),u.jsx(Mj,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(p.current),c.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:T.useCallback(m=>{d.current=m},[]),disableHoverableContent:i,children:a})};Ib.displayName=bb;var Cb="Tooltip",[o9,vf]=yf(Cb),xg="TooltipTrigger",Lj=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=vf(xg,n),a=Sb(xg,n),c=Ey(n),d=T.useRef(null),p=mt(e,d,i.onTriggerChange),m=T.useRef(!1),y=T.useRef(!1),_=T.useCallback(()=>m.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",_),[_]),u.jsx(xb,{asChild:!0,...c,children:u.jsx(ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:p,onPointerMove:Le(t.onPointerMove,x=>{x.pointerType!=="touch"&&!y.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),y.current=!0)}),onPointerLeave:Le(t.onPointerLeave,()=>{i.onTriggerLeave(),y.current=!1}),onPointerDown:Le(t.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",_,{once:!0})}),onFocus:Le(t.onFocus,()=>{m.current||i.onOpen()}),onBlur:Le(t.onBlur,i.onClose),onClick:Le(t.onClick,i.onClose)})})});Lj.displayName=xg;var Vj="TooltipPortal",[a9,Fj]=yf(Vj,{forceMount:void 0}),wl="TooltipContent",Rb=T.forwardRef((t,e)=>{const n=Fj(wl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,c=vf(wl,t.__scopeTooltip);return u.jsx(ea,{present:r||c.open,children:c.disableHoverableContent?u.jsx(Nb,{side:i,...a,ref:e}):u.jsx(Uj,{side:i,...a,ref:e})})}),Uj=T.forwardRef((t,e)=>{const n=vf(wl,t.__scopeTooltip),r=Sb(wl,t.__scopeTooltip),i=T.useRef(null),a=mt(e,i),[c,d]=T.useState(null),{trigger:p,onClose:m}=n,y=i.current,{onPointerInTransitChange:_}=r,x=T.useCallback(()=>{d(null),_(!1)},[_]),C=T.useCallback((A,b)=>{const R=A.currentTarget,V={x:A.clientX,y:A.clientY},F=Hj(V,R.getBoundingClientRect()),U=Wj(V,F),z=Kj(b.getBoundingClientRect()),Q=Qj([...U,...z]);d(Q),_(!0)},[_]);return T.useEffect(()=>()=>x(),[x]),T.useEffect(()=>{if(p&&y){const A=R=>C(R,y),b=R=>C(R,p);return p.addEventListener("pointerleave",A),y.addEventListener("pointerleave",b),()=>{p.removeEventListener("pointerleave",A),y.removeEventListener("pointerleave",b)}}},[p,y,C,x]),T.useEffect(()=>{if(c){const A=b=>{const R=b.target,V={x:b.clientX,y:b.clientY},F=p?.contains(R)||y?.contains(R),U=!Gj(V,c);F?x():U&&(x(),m())};return document.addEventListener("pointermove",A),()=>document.removeEventListener("pointermove",A)}},[p,y,c,m,x]),u.jsx(Nb,{...t,ref:a})}),[Bj,$j]=yf(Cb,{isInside:!1}),qj=H1("TooltipContent"),Nb=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:c,...d}=t,p=vf(wl,n),m=Ey(n),{onClose:y}=p;return T.useEffect(()=>(document.addEventListener(kx,y),()=>document.removeEventListener(kx,y)),[y]),T.useEffect(()=>{if(p.trigger){const _=x=>{x.target?.contains(p.trigger)&&y()};return window.addEventListener("scroll",_,{capture:!0}),()=>window.removeEventListener("scroll",_,{capture:!0})}},[p.trigger,y]),u.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:_=>_.preventDefault(),onDismiss:y,children:u.jsxs(Eb,{"data-state":p.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(qj,{children:r}),u.jsx(Bj,{scope:n,isInside:!0,children:u.jsx(dP,{id:p.contentId,role:"tooltip",children:i||r})})]})})});Rb.displayName=wl;var Ab="TooltipArrow",zj=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Ey(n);return $j(Ab,n).isInside?null:u.jsx(Tb,{...i,...r,ref:e})});zj.displayName=Ab;function Hj(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Wj(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Kj(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Gj(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,c=e.length-1;a<e.length;c=a++){const d=e[a].x,p=e[a].y,m=e[c].x,y=e[c].y;p>r!=y>r&&n<(m-d)*(r-p)/(y-p)+d&&(i=!i)}return i}function Qj(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Yj(e)}function Yj(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],c=e[e.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],c=n[n.length-2];if((a.x-c.x)*(i.y-c.y)>=(a.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Xj=Ib,Pb=Rb;const Jj=Xj,Zj=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Pb,{ref:r,sideOffset:e,className:je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Zj.displayName=Pb.displayName;const eD=()=>{};var jx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],c=t[n++],d=t[n++],p=((i&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],c=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|c&63)}}return e.join("")},jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],c=i+1<t.length,d=c?t[i+1]:0,p=i+2<t.length,m=p?t[i+2]:0,y=a>>2,_=(a&3)<<4|d>>4;let x=(d&15)<<2|m>>6,C=m&63;p||(C=64,c||(x=64)),r.push(n[y],n[_],n[x],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||m==null||_==null)throw new nD;const x=a<<2|d>>4;if(r.push(x),m!==64){const C=d<<4&240|m>>2;if(r.push(C),_!==64){const A=m<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rD=function(t){const e=kb(t);return jb.encodeByteArray(e,!0)},jh=function(t){return rD(t).replace(/\./g,"")},Db=function(t){try{return jb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=()=>sD().__FIREBASE_DEFAULTS__,oD=()=>{if(typeof process>"u"||typeof jx>"u")return;const t=jx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Db(t[1]);return e&&JSON.parse(e)},wf=()=>{try{return eD()||iD()||oD()||aD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ob=t=>wf()?.emulatorHosts?.[t],Mb=t=>{const e=Ob(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lb=()=>wf()?.config,Vb=t=>wf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ty(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(c)),""].join(".")}const Wc={};function cD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Wc))Wc[e]?t.emulator.push(e):t.prod.push(e);return t}function uD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Dx=!1;function by(t,e){if(typeof window>"u"||typeof document>"u"||!ta(window.location.host)||Wc[t]===e||Wc[t]||Dx)return;Wc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=cD().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,C){x.setAttribute("width","24"),x.setAttribute("id",C),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Dx=!0,c()},x}function y(x,C){x.setAttribute("id",C),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=uD(r),C=n("text"),A=document.getElementById(C)||document.createElement("span"),b=n("learnmore"),R=document.getElementById(b)||document.createElement("a"),V=n("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const U=x.element;d(U),y(R,b);const z=m();p(F,V),U.append(F,A,R,z),document.body.appendChild(U)}a?(A.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function hD(){const t=wf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ub(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mD(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gD(){return!hD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function yD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vD,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,na.prototype.create)}}class na{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],c=a?wD(a,r):"Error",d=`${this.serviceName}: ${c} (${i}).`;return new yr(i,d,r)}}function wD(t,e){return t.replace(_D,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _D=/\{\$([^}]+)}/g;function xD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],c=e[i];if(Ox(a)&&Ox(c)){if(!Gi(a,c))return!1}else if(a!==c)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ox(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ED(t,e){const n=new TD(t,e);return n.subscribe.bind(n)}class TD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lm),i.error===void 0&&(i.error=Lm),i.complete===void 0&&(i.complete=Lm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=1e3,ID=2,CD=14400*1e3,RD=.5;function Mx(t,e=SD,n=ID){const r=e*Math.pow(n,t),i=Math.round(RD*r*(Math.random()-.5)*2);return Math.min(CD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PD(e))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fo){return this.instances.has(e)}getOptions(e=Fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&c.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fo){return this.component?this.component.multipleInstances?e:Fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AD(t){return t===Fo?void 0:t}function PD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ND(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const jD={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},DD=He.INFO,OD={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},MD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _f{constructor(e){this.name=e,this._logLevel=DD,this._logHandler=MD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const LD=(t,e)=>e.some(n=>t instanceof n);let Lx,Vx;function VD(){return Lx||(Lx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FD(){return Vx||(Vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qb=new WeakMap,Eg=new WeakMap,zb=new WeakMap,Vm=new WeakMap,Sy=new WeakMap;function UD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Li(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&qb.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function BD(t){if(Eg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Eg.set(t,e)}let Tg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Eg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $D(t){Tg=t(Tg)}function qD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fm(this),e,...n);return zb.set(r,e.sort?e.sort():[e]),Li(r)}:FD().includes(t)?function(...e){return t.apply(Fm(this),e),Li(qb.get(this))}:function(...e){return Li(t.apply(Fm(this),e))}}function zD(t){return typeof t=="function"?qD(t):(t instanceof IDBTransaction&&BD(t),LD(t,VD())?new Proxy(t,Tg):t)}function Li(t){if(t instanceof IDBRequest)return UD(t);if(Vm.has(t))return Vm.get(t);const e=zD(t);return e!==t&&(Vm.set(t,e),Sy.set(e,t)),e}const Fm=t=>Sy.get(t);function Hb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),d=Li(c);return r&&c.addEventListener("upgradeneeded",p=>{r(Li(c.result),p.oldVersion,p.newVersion,Li(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const HD=["get","getKey","getAll","getAllKeys","count"],WD=["put","add","delete","clear"],Um=new Map;function Fx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HD.includes(n)))return;const a=async function(c,...d){const p=this.transaction(c,i?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&p.done]))[0]};return Um.set(e,a),a}$D(t=>({...t,get:(e,n,r)=>Fx(e,n)||t.get(e,n,r),has:(e,n)=>!!Fx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function GD(t){return t.getComponent()?.type==="VERSION"}const bg="@firebase/app",Ux="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new _f("@firebase/app"),QD="@firebase/app-compat",YD="@firebase/analytics-compat",XD="@firebase/analytics",JD="@firebase/app-check-compat",ZD="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",r2="@firebase/data-connect",s2="@firebase/database-compat",i2="@firebase/functions",o2="@firebase/functions-compat",a2="@firebase/installations",l2="@firebase/installations-compat",c2="@firebase/messaging",u2="@firebase/messaging-compat",d2="@firebase/performance",h2="@firebase/performance-compat",f2="@firebase/remote-config",p2="@firebase/remote-config-compat",m2="@firebase/storage",g2="@firebase/storage-compat",y2="@firebase/firestore",v2="@firebase/ai",w2="@firebase/firestore-compat",_2="firebase",x2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",E2={[bg]:"fire-core",[QD]:"fire-core-compat",[XD]:"fire-analytics",[YD]:"fire-analytics-compat",[ZD]:"fire-app-check",[JD]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[r2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[i2]:"fire-fn",[o2]:"fire-fn-compat",[a2]:"fire-iid",[l2]:"fire-iid-compat",[c2]:"fire-fcm",[u2]:"fire-fcm-compat",[d2]:"fire-perf",[h2]:"fire-perf-compat",[f2]:"fire-rc",[p2]:"fire-rc-compat",[m2]:"fire-gcs",[g2]:"fire-gcs-compat",[y2]:"fire-fst",[w2]:"fire-fst-compat",[v2]:"fire-vertex","fire-js":"fire-js",[_2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,T2=new Map,Ig=new Map;function Bx(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){const e=t.name;if(Ig.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,t);for(const n of su.values())Bx(n,t);for(const n of T2.values())Bx(n,t);return!0}function ro(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new na("app","Firebase",b2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=x2;function Wb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(n||(n=Lb()),!n)throw Vi.create("no-options");const a=su.get(i);if(a){if(Gi(n,a.options)&&Gi(r,a.config))return a;throw Vi.create("duplicate-app",{appName:i})}const c=new kD(i);for(const p of Ig.values())c.addComponent(p);const d=new S2(n,r,c);return su.set(i,d),d}function xf(t=Sg){const e=su.get(t);if(!e&&t===Sg&&Lb())return Wb();if(!e)throw Vi.create("no-app",{appName:t});return e}function $x(){return Array.from(su.values())}function Mn(t,e,n){let r=E2[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(c.join(" "));return}Br(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firebase-heartbeat-database",C2=1,iu="firebase-heartbeat-store";let Bm=null;function Kb(){return Bm||(Bm=Hb(I2,C2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vi.create("idb-open",{originalErrorMessage:t.message})})),Bm}async function R2(t){try{const n=(await Kb()).transaction(iu),r=await n.objectStore(iu).get(Gb(t));return await n.done,r}catch(e){if(e instanceof yr)Qs.warn(e.message);else{const n=Vi.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}}async function qx(t,e){try{const r=(await Kb()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,Gb(t)),await r.done}catch(n){if(n instanceof yr)Qs.warn(n.message);else{const r=Vi.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(r.message)}}}function Gb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1024,A2=30;class P2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>A2){const i=D2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zx(),{heartbeatsToSend:n,unsentEntries:r}=k2(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Qs.warn(e),""}}}function zx(){return new Date().toISOString().substring(0,10)}function k2(t,e=N2){const n=[];let r=t.slice();for(const i of t){const a=n.find(c=>c.agent===i.agent);if(a){if(a.dates.push(i.date),Hx(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class j2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await R2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hx(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function D2(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){Br(new mr("platform-logger",e=>new KD(e),"PRIVATE")),Br(new mr("heartbeat",e=>new P2(e),"PRIVATE")),Mn(bg,Ux,t),Mn(bg,Ux,"esm2020"),Mn("fire-js","")}O2("");function Qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M2=Qb,Yb=new na("auth","Firebase",Qb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new _f("@firebase/auth");function L2(t,...e){Dh.logLevel<=He.WARN&&Dh.warn(`Auth (${ra}): ${t}`,...e)}function ph(t,...e){Dh.logLevel<=He.ERROR&&Dh.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw Iy(t,...e)}function os(t,...e){return Iy(t,...e)}function Xb(t,e,n){const r={...M2(),[e]:n};return new na("auth","Firebase",r).create(e,{appName:t.name})}function $s(t){return Xb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Yb.create(t,...e)}function Re(t,e,...n){if(!t)throw Iy(e,...n)}function Us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ph(e),new Error(e)}function Ys(t,e){t||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){return typeof self<"u"&&self.location?.href||""}function V2(){return Wx()==="http:"||Wx()==="https:"}function Wx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V2()||Ub()||"connection"in navigator)?navigator.onLine:!0}function U2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ys(n>e,"Short delay should be less than long delay!"),this.isMobile=dD()||pD()}get(){return F2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t,e){Ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q2=new _u(3e4,6e4);function so(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function io(t,e,n,r,i={}){return Zb(t,i,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const d=wu({key:t.config.apiKey,...c}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const m={method:e,headers:p,...a};return fD()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&ta(t.emulatorConfig.host)&&(m.credentials="include"),Jb.fetch()(await eS(t,t.config.apiHost,n,d),m)})}async function Zb(t,e,n){t._canInitEmulator=!1;const r={...B2,...e};try{const i=new H2(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw eh(t,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(t,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw eh(t,"email-already-in-use",c);if(p==="USER_DISABLED")throw eh(t,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Xb(t,y,m);$r(t,y)}}catch(i){if(i instanceof yr)throw i;$r(t,"network-request-failed",{message:String(i)})}}async function xu(t,e,n,r,i={}){const a=await io(t,e,n,r,i);return"mfaPendingCredential"in a&&$r(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function eS(t,e,n,r){const i=`${e}${n}?${r}`,a=t,c=a.config.emulator?Cy(t.config,i):`${t.config.apiScheme}://${i}`;return $2.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function z2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),q2.get())})}}function eh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=os(t,e,r);return i.customData._tokenResponse=n,i}function Kx(t){return t!==void 0&&t.enterprise!==void 0}class W2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return z2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K2(t,e){return io(t,"GET","/v2/recaptchaConfig",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function Oh(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q2(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),i=Ry(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,c=a?.sign_in_provider;return{claims:i,token:r,authTime:Kc($m(i.auth_time)),issuedAtTime:Kc($m(i.iat)),expirationTime:Kc($m(i.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function $m(t){return Number(t)*1e3}function Ry(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const i=Db(n);return i?JSON.parse(i):(ph("Failed to decode base64 JWT payload"),null)}catch(i){return ph("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Gx(t){const e=Ry(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yr&&Y2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(t){const e=t.auth,n=await t.getIdToken(),r=await ou(t,Oh(e,{idToken:n}));Re(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?tS(i.providerUserInfo):[],c=Z2(t.providerData,a),d=t.isAnonymous,p=!(t.email&&i.passwordHash)&&!c?.length,m=d?p:!1,y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Rg(i.createdAt,i.lastLoginAt),isAnonymous:m};Object.assign(t,y)}async function J2(t){const e=Pt(t);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e){const n=await Zb(t,{},async()=>{const r=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,c=await eS(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:r};return t.emulatorConfig&&ta(t.emulatorConfig.host)&&(p.credentials="include"),Jb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tO(t,e){return io(t,"POST","/v2/accounts:revokeToken",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Gx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await eO(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,c=new ul;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mr{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new X2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await ou(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,m=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:x,isAnonymous:C,providerData:A,stsTokenManager:b}=n;Re(_&&b,e,"internal-error");const R=ul.fromJSON(this.name,b);Re(typeof _=="string",e,"internal-error"),Ri(r,e.name),Ri(i,e.name),Re(typeof x=="boolean",e,"internal-error"),Re(typeof C=="boolean",e,"internal-error"),Ri(a,e.name),Ri(c,e.name),Ri(d,e.name),Ri(p,e.name),Ri(m,e.name),Ri(y,e.name);const V=new Mr({uid:_,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:C,photoURL:c,phoneNumber:a,tenantId:d,stsTokenManager:R,createdAt:m,lastLoginAt:y});return A&&Array.isArray(A)&&(V.providerData=A.map(F=>({...F}))),p&&(V._redirectEventId=p),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new ul;i.updateFromServerResponse(n);const a=new Mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?tS(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!a?.length,d=new ul;d.updateFromIdToken(r);const p=new Mr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Rg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=new Map;function Bs(t){Ys(t instanceof Function,"Expected a class definition");let e=Qx.get(t);return e?(Ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nS.type="NONE";const Yx=nS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=mh(this.userKey,i.apiKey,a),this.fullPersistenceKey=mh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?Mr._fromGetAccountInfoResponse(this.auth,n,e):null}return Mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(Bs(Yx),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=i[0]||Bs(Yx);const c=mh(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const x=await Oh(e,{idToken:y}).catch(()=>{});if(!x)break;_=await Mr._fromGetAccountInfoResponse(e,x,y)}else _=Mr._fromJSON(e,y);m!==a&&(d=_),a=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new dl(a,e,r):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new dl(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lS(e))return"Blackberry";if(cS(e))return"Webos";if(sS(e))return"Safari";if((e.includes("chrome/")||iS(e))&&!e.includes("edge/"))return"Chrome";if(aS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function rS(t=wn()){return/firefox\//i.test(t)}function sS(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iS(t=wn()){return/crios\//i.test(t)}function oS(t=wn()){return/iemobile/i.test(t)}function aS(t=wn()){return/android/i.test(t)}function lS(t=wn()){return/blackberry/i.test(t)}function cS(t=wn()){return/webos/i.test(t)}function Ny(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nO(t=wn()){return Ny(t)&&!!window.navigator?.standalone}function rO(){return mD()&&document.documentMode===10}function uS(t=wn()){return Ny(t)||aS(t)||cS(t)||lS(t)||/windows phone/i.test(t)||oS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e=[]){let n;switch(t){case"Browser":n=Xx(wn());break;case"Worker":n=`${Xx(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iO(t,e={}){return io(t,"GET","/v2/passwordPolicy",so(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=6;class aO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jx(this),this.idTokenSubscription=new Jx(this),this.beforeStateQueue=new sO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),r=await Mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===c)&&d?.user&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=U2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject($s(this));const n=e?Pt(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iO(this),n=new aO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new na("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tO(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bs(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,i);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&L2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function sa(t){return Pt(t)}class Jx{constructor(e){this.auth=e,this.observer=null,this.addObserver=ED(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cO(t){Ef=t}function hS(t){return Ef.loadJS(t)}function uO(){return Ef.recaptchaEnterpriseScript}function dO(){return Ef.gapiScript}function hO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fO{constructor(){this.enterprise=new pO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mO="recaptcha-enterprise",fS="NO_RECAPTCHA";class gO{constructor(e){this.type=mO,this.auth=sa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,d)=>{K2(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new W2(p);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(p=>{d(p)})})}function i(a,c,d){const p=window.grecaptcha;Kx(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(fS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fO().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(d=>{if(!n&&Kx(window.grecaptcha))i(d,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uO();p.length!==0&&(p+=d),hS(p).then(()=>{i(d,a,c)}).catch(m=>{c(m)})}}).catch(d=>{c(d)})})}}async function Zx(t,e,n,r=!1,i=!1){const a=new gO(t);let c;if(i)c=fS;else try{c=await a.verify(n)}catch{c=await a.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ng(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Zx(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Zx(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t,e){const n=ro(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Gi(a,e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}function vO(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Bs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function wO(t,e,n){const r=sa(t);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=pS(e),{host:c,port:d}=_O(e),p=d===null?"":`:${d}`,m={url:`${a}//${c}${p}/`},y=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Gi(m,r.config.emulator)&&Gi(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ta(c)?(Ty(`${a}//${c}${p}`),by("Auth",!0)):xO()}function pS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _O(t){const e=pS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:e0(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:e0(c)}}}function e0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,n){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}async function EO(t,e){return io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e){return xu(t,"POST","/v1/accounts:signInWithPassword",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}async function SO(t,e){return xu(t,"POST","/v1/accounts:signInWithEmailLink",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Ay{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new au(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,n,"signInWithPassword",TO);case"emailLink":return bO(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,r,"signUpPassword",EO);case"emailLink":return SO(e,{idToken:n,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(t,e){return xu(t,"POST","/v1/accounts:signInWithIdp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="http://localhost";class Wo extends Ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const c=new Wo(r,i);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:IO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RO(t){const e=Vc(Fc(t)).link,n=e?Vc(Fc(e)).deep_link_id:null,r=Vc(Fc(t)).deep_link_id;return(r?Vc(Fc(r)).link:null)||r||n||e||t}class Py{constructor(e){const n=Vc(Fc(e)),r=n.apiKey??null,i=n.oobCode??null,a=CO(n.mode??null);Re(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=RO(e);try{return new Py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Py.parseLink(n);return Re(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends mS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Eu{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wo._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Eu{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Eu{constructor(){super("twitter.com")}static credential(e,n){return Wo._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Di.credential(n,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(t,e){return xu(t,"POST","/v1/accounts:signUp",so(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Mr._fromIdTokenResponse(e,r,i),c=t0(r);return new Ko({user:a,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=t0(r);return new Ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function t0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends yr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Lh(e,n,r,i)}}function gS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(t,a,e,r):a})}async function AO(t,e,n=!1){const r=await ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e,n=!1){const{auth:r}=t;if(Xn(r.app))return Promise.reject($s(r));const i="reauthenticate";try{const a=await ou(t,gS(r,i,e,t),n);Re(a.idToken,r,"internal-error");const c=Ry(a.idToken);Re(c,r,"internal-error");const{sub:d}=c;return Re(t.uid===d,r,"user-mismatch"),Ko._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&$r(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(t,e,n=!1){if(Xn(t.app))return Promise.reject($s(t));const r="signIn",i=await gS(t,r,e),a=await Ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function kO(t,e){return yS(sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(t){const e=sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function jO(t,e,n){if(Xn(t.app))return Promise.reject($s(t));const r=sa(t),c=await Ng(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NO).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vS(t),p}),d=await Ko._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function DO(t,e,n){return Xn(t.app)?Promise.reject($s(t)):kO(Pt(t),kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vS(t),r})}function OO(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function MO(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function LO(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function VO(t){return Pt(t).signOut()}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=1e3,UO=10;class _S extends wS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);rO()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const BO=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends wS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xS.type="SESSION";const ES=xS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,c=this.handlersMap[i];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(c).map(async m=>m(n.origin,a)),p=await $O(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const m=ky("",20);i.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(_){const x=_;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(y),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function zO(t){as().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function HO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WO(){return navigator?.serviceWorker?.controller||null}function KO(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebaseLocalStorageDb",GO=1,Fh="firebaseLocalStorage",SS="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function QO(){const t=indexedDB.deleteDatabase(bS);return new Tu(t).toPromise()}function Ag(){const t=indexedDB.open(bS,GO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fh,{keyPath:SS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await QO(),e(await Ag()))})})}async function n0(t,e,n){const r=bf(t,!0).put({[SS]:e,value:n});return new Tu(r).toPromise()}async function YO(t,e){const n=bf(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function r0(t,e){const n=bf(t,!0).delete(e);return new Tu(n).toPromise()}const XO=800,JO=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ag(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(KO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ag();return await n0(e,Vh,"1"),await r0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>n0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=bf(i,!1).getAll();return new Tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const ZO=IS;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e){return e?Bs(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends Ay{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tM(t){return yS(t.auth,new jy(t),t.bypassAuthState)}function nM(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),PO(n,new jy(t),t.bypassAuthState)}async function rM(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),AO(n,new jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tM;case"linkViaPopup":case"linkViaRedirect":return rM;case"reauthViaPopup":case"reauthViaRedirect":return nM;default:$r(this.auth,"internal-error")}}resolve(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new _u(2e3,1e4);class sl extends CS{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ys(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sM.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="pendingRedirect",gh=new Map;class oM extends CS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const r=await aM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aM(t,e){const n=uM(e),r=cM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lM(t,e){gh.set(t._key(),e)}function cM(t){return Bs(t._redirectPersistence)}function uM(t){return mh(iM,t.config.apiKey,t.name)}async function dM(t,e,n=!1){if(Xn(t.app))return Promise.reject($s(t));const r=sa(t),i=eM(r,e),c=await new oM(r,i,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=600*1e3;class fM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!RS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(os(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hM&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(e))}saveEventToCache(e){this.cachedEventUids.add(s0(e)),this.lastProcessedEventTime=Date.now()}}function s0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yM=/^https?/;async function vM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mM(t);for(const n of e)try{if(wM(n))return}catch{}$r(t,"unauthorized-domain")}function wM(t){const e=Cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!yM.test(n))return!1;if(gM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new _u(3e4,6e4);function i0(){const t=as().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xM(t){return new Promise((e,n)=>{function r(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),n(os(t,"network-request-failed"))},timeout:_M.get()})}if(as().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(as().gapi?.load)r();else{const i=hO("iframefcb");return as()[i]=()=>{gapi.load?r():n(os(t,"network-request-failed"))},hS(`${dO()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw yh=null,e})}let yh=null;function EM(t){return yh=yh||xM(t),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new _u(5e3,15e3),bM="__/auth/iframe",SM="emulator/auth/iframe",IM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RM(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cy(e,SM):`https://${t.config.authDomain}/${bM}`,r={apiKey:e.apiKey,appName:t.name,v:ra},i=CM.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${wu(r).slice(1)}`}async function NM(t){const e=await EM(t),n=as().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:RM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IM,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const c=os(t,"network-request-failed"),d=as().setTimeout(()=>{a(c)},TM.get());function p(){as().clearTimeout(d),i(r)}r.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PM=500,kM=600,jM="_blank",DM="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OM(t,e,n,r=PM,i=kM){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p={...AM,width:r.toString(),height:i.toString(),top:a,left:c},m=wn().toLowerCase();n&&(d=iS(m)?jM:n),rS(m)&&(e=e||DM,p.scrollbars="yes");const y=Object.entries(p).reduce((x,[C,A])=>`${x}${C}=${A},`,"");if(nO(m)&&d!=="_self")return MM(e||"",d),new o0(null);const _=window.open(e||"",d,y);Re(_,t,"popup-blocked");try{_.focus()}catch{}return new o0(_)}function MM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="__/auth/handler",VM="emulator/auth/handler",FM=encodeURIComponent("fac");async function a0(t,e,n,r,i,a){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ra,eventId:i};if(e instanceof mS){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",xD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Eu){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await t._getAppCheckToken(),m=p?`#${FM}=${encodeURIComponent(p)}`:"";return`${UM(t)}?${wu(d).slice(1)}${m}`}function UM({config:t}){return t.emulator?Cy(t,VM):`https://${t.authDomain}/${LM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class BM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=dM,this._overrideRedirectResult=lM}async _openPopup(e,n,r,i){Ys(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await a0(e,n,r,Cg(),i);return OM(e,a,ky())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await a0(e,n,r,Cg(),i);return zO(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ys(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NM(e),r=new fM(e);return n.register("authEvent",i=>(Re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},i=>{const a=i?.[0]?.[qm];a!==void 0&&n(!!a),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uS()||sS()||Ny()}}const $M=BM;var l0="@firebase/auth",c0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HM(t){Br(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dS(t)},m=new lO(r,i,a,p);return vO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Br(new mr("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(r=>new qM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(l0,c0,zM(t)),Mn(l0,c0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=300,KM=Vb("authIdTokenMaxAge")||WM;let u0=null;const GM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KM)return;const i=n?.token;u0!==i&&(u0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QM(t=xf()){const e=ro(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yO(t,{popupRedirectResolver:$M,persistence:[ZO,BO,ES]}),r=Vb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=GM(a.toString());MO(n,c,()=>c(n.currentUser)),OO(n,d=>c(d))}}const i=Ob("auth");return i&&wO(n,`http://${i}`),n}function YM(){return document.getElementsByTagName("head")?.[0]??document}cO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=os("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",YM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HM("Browser");var XM="firebase",JM="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(XM,JM,"app");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,NS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,S){function j(){}j.prototype=S.prototype,k.D=S.prototype,k.prototype=new j,k.prototype.constructor=k,k.C=function(P,M,L){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return S.prototype[M].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,S,j){j||(j=0);var P=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)P[M]=S.charCodeAt(j++)|S.charCodeAt(j++)<<8|S.charCodeAt(j++)<<16|S.charCodeAt(j++)<<24;else for(M=0;16>M;++M)P[M]=S[j++]|S[j++]<<8|S[j++]<<16|S[j++]<<24;S=k.g[0],j=k.g[1],M=k.g[2];var L=k.g[3],D=S+(L^j&(M^L))+P[0]+3614090360&4294967295;S=j+(D<<7&4294967295|D>>>25),D=L+(M^S&(j^M))+P[1]+3905402710&4294967295,L=S+(D<<12&4294967295|D>>>20),D=M+(j^L&(S^j))+P[2]+606105819&4294967295,M=L+(D<<17&4294967295|D>>>15),D=j+(S^M&(L^S))+P[3]+3250441966&4294967295,j=M+(D<<22&4294967295|D>>>10),D=S+(L^j&(M^L))+P[4]+4118548399&4294967295,S=j+(D<<7&4294967295|D>>>25),D=L+(M^S&(j^M))+P[5]+1200080426&4294967295,L=S+(D<<12&4294967295|D>>>20),D=M+(j^L&(S^j))+P[6]+2821735955&4294967295,M=L+(D<<17&4294967295|D>>>15),D=j+(S^M&(L^S))+P[7]+4249261313&4294967295,j=M+(D<<22&4294967295|D>>>10),D=S+(L^j&(M^L))+P[8]+1770035416&4294967295,S=j+(D<<7&4294967295|D>>>25),D=L+(M^S&(j^M))+P[9]+2336552879&4294967295,L=S+(D<<12&4294967295|D>>>20),D=M+(j^L&(S^j))+P[10]+4294925233&4294967295,M=L+(D<<17&4294967295|D>>>15),D=j+(S^M&(L^S))+P[11]+2304563134&4294967295,j=M+(D<<22&4294967295|D>>>10),D=S+(L^j&(M^L))+P[12]+1804603682&4294967295,S=j+(D<<7&4294967295|D>>>25),D=L+(M^S&(j^M))+P[13]+4254626195&4294967295,L=S+(D<<12&4294967295|D>>>20),D=M+(j^L&(S^j))+P[14]+2792965006&4294967295,M=L+(D<<17&4294967295|D>>>15),D=j+(S^M&(L^S))+P[15]+1236535329&4294967295,j=M+(D<<22&4294967295|D>>>10),D=S+(M^L&(j^M))+P[1]+4129170786&4294967295,S=j+(D<<5&4294967295|D>>>27),D=L+(j^M&(S^j))+P[6]+3225465664&4294967295,L=S+(D<<9&4294967295|D>>>23),D=M+(S^j&(L^S))+P[11]+643717713&4294967295,M=L+(D<<14&4294967295|D>>>18),D=j+(L^S&(M^L))+P[0]+3921069994&4294967295,j=M+(D<<20&4294967295|D>>>12),D=S+(M^L&(j^M))+P[5]+3593408605&4294967295,S=j+(D<<5&4294967295|D>>>27),D=L+(j^M&(S^j))+P[10]+38016083&4294967295,L=S+(D<<9&4294967295|D>>>23),D=M+(S^j&(L^S))+P[15]+3634488961&4294967295,M=L+(D<<14&4294967295|D>>>18),D=j+(L^S&(M^L))+P[4]+3889429448&4294967295,j=M+(D<<20&4294967295|D>>>12),D=S+(M^L&(j^M))+P[9]+568446438&4294967295,S=j+(D<<5&4294967295|D>>>27),D=L+(j^M&(S^j))+P[14]+3275163606&4294967295,L=S+(D<<9&4294967295|D>>>23),D=M+(S^j&(L^S))+P[3]+4107603335&4294967295,M=L+(D<<14&4294967295|D>>>18),D=j+(L^S&(M^L))+P[8]+1163531501&4294967295,j=M+(D<<20&4294967295|D>>>12),D=S+(M^L&(j^M))+P[13]+2850285829&4294967295,S=j+(D<<5&4294967295|D>>>27),D=L+(j^M&(S^j))+P[2]+4243563512&4294967295,L=S+(D<<9&4294967295|D>>>23),D=M+(S^j&(L^S))+P[7]+1735328473&4294967295,M=L+(D<<14&4294967295|D>>>18),D=j+(L^S&(M^L))+P[12]+2368359562&4294967295,j=M+(D<<20&4294967295|D>>>12),D=S+(j^M^L)+P[5]+4294588738&4294967295,S=j+(D<<4&4294967295|D>>>28),D=L+(S^j^M)+P[8]+2272392833&4294967295,L=S+(D<<11&4294967295|D>>>21),D=M+(L^S^j)+P[11]+1839030562&4294967295,M=L+(D<<16&4294967295|D>>>16),D=j+(M^L^S)+P[14]+4259657740&4294967295,j=M+(D<<23&4294967295|D>>>9),D=S+(j^M^L)+P[1]+2763975236&4294967295,S=j+(D<<4&4294967295|D>>>28),D=L+(S^j^M)+P[4]+1272893353&4294967295,L=S+(D<<11&4294967295|D>>>21),D=M+(L^S^j)+P[7]+4139469664&4294967295,M=L+(D<<16&4294967295|D>>>16),D=j+(M^L^S)+P[10]+3200236656&4294967295,j=M+(D<<23&4294967295|D>>>9),D=S+(j^M^L)+P[13]+681279174&4294967295,S=j+(D<<4&4294967295|D>>>28),D=L+(S^j^M)+P[0]+3936430074&4294967295,L=S+(D<<11&4294967295|D>>>21),D=M+(L^S^j)+P[3]+3572445317&4294967295,M=L+(D<<16&4294967295|D>>>16),D=j+(M^L^S)+P[6]+76029189&4294967295,j=M+(D<<23&4294967295|D>>>9),D=S+(j^M^L)+P[9]+3654602809&4294967295,S=j+(D<<4&4294967295|D>>>28),D=L+(S^j^M)+P[12]+3873151461&4294967295,L=S+(D<<11&4294967295|D>>>21),D=M+(L^S^j)+P[15]+530742520&4294967295,M=L+(D<<16&4294967295|D>>>16),D=j+(M^L^S)+P[2]+3299628645&4294967295,j=M+(D<<23&4294967295|D>>>9),D=S+(M^(j|~L))+P[0]+4096336452&4294967295,S=j+(D<<6&4294967295|D>>>26),D=L+(j^(S|~M))+P[7]+1126891415&4294967295,L=S+(D<<10&4294967295|D>>>22),D=M+(S^(L|~j))+P[14]+2878612391&4294967295,M=L+(D<<15&4294967295|D>>>17),D=j+(L^(M|~S))+P[5]+4237533241&4294967295,j=M+(D<<21&4294967295|D>>>11),D=S+(M^(j|~L))+P[12]+1700485571&4294967295,S=j+(D<<6&4294967295|D>>>26),D=L+(j^(S|~M))+P[3]+2399980690&4294967295,L=S+(D<<10&4294967295|D>>>22),D=M+(S^(L|~j))+P[10]+4293915773&4294967295,M=L+(D<<15&4294967295|D>>>17),D=j+(L^(M|~S))+P[1]+2240044497&4294967295,j=M+(D<<21&4294967295|D>>>11),D=S+(M^(j|~L))+P[8]+1873313359&4294967295,S=j+(D<<6&4294967295|D>>>26),D=L+(j^(S|~M))+P[15]+4264355552&4294967295,L=S+(D<<10&4294967295|D>>>22),D=M+(S^(L|~j))+P[6]+2734768916&4294967295,M=L+(D<<15&4294967295|D>>>17),D=j+(L^(M|~S))+P[13]+1309151649&4294967295,j=M+(D<<21&4294967295|D>>>11),D=S+(M^(j|~L))+P[4]+4149444226&4294967295,S=j+(D<<6&4294967295|D>>>26),D=L+(j^(S|~M))+P[11]+3174756917&4294967295,L=S+(D<<10&4294967295|D>>>22),D=M+(S^(L|~j))+P[2]+718787259&4294967295,M=L+(D<<15&4294967295|D>>>17),D=j+(L^(M|~S))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var j=S-this.blockSize,P=this.B,M=this.h,L=0;L<S;){if(M==0)for(;L<=j;)i(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<S;)if(P[M++]=k.charCodeAt(L++),M==this.blockSize){i(this,P),M=0;break}}else for(;L<S;)if(P[M++]=k[L++],M==this.blockSize){i(this,P),M=0;break}}this.h=M,this.o+=S},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var j=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=j&255,j/=256;for(this.u(k),k=Array(16),S=j=0;4>S;++S)for(var P=0;32>P;P+=8)k[j++]=this.g[S]>>>P&255;return k};function a(k,S){var j=d;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=S(k)}function c(k,S){this.h=S;for(var j=[],P=!0,M=k.length-1;0<=M;M--){var L=k[M]|0;P&&L==S||(j[M]=L,P=!1)}this.g=j}var d={};function p(k){return-128<=k&&128>k?a(k,function(S){return new c([S|0],0>S?-1:0)}):new c([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return R(m(-k));for(var S=[],j=1,P=0;k>=j;P++)S[P]=k/j|0,j*=4294967296;return new c(S,0)}function y(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return R(y(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=m(Math.pow(S,8)),P=_,M=0;M<k.length;M+=8){var L=Math.min(8,k.length-M),D=parseInt(k.substring(M,M+L),S);8>L?(L=m(Math.pow(S,L)),P=P.j(L).add(m(D))):(P=P.j(j),P=P.add(m(D)))}return P}var _=p(0),x=p(1),C=p(16777216);t=c.prototype,t.m=function(){if(b(this))return-R(this).m();for(var k=0,S=1,j=0;j<this.g.length;j++){var P=this.i(j);k+=(0<=P?P:4294967296+P)*S,S*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(b(this))return"-"+R(this).toString(k);for(var S=m(Math.pow(k,6)),j=this,P="";;){var M=z(j,S).g;j=V(j,M.j(S));var L=((0<j.g.length?j.g[0]:j.h)>>>0).toString(k);if(j=M,A(j))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=V(this,k),b(k)?-1:A(k)?0:1};function R(k){for(var S=k.g.length,j=[],P=0;P<S;P++)j[P]=~k.g[P];return new c(j,~k.h).add(x)}t.abs=function(){return b(this)?R(this):this},t.add=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],P=0,M=0;M<=S;M++){var L=P+(this.i(M)&65535)+(k.i(M)&65535),D=(L>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);P=D>>>16,L&=65535,D&=65535,j[M]=D<<16|L}return new c(j,j[j.length-1]&-2147483648?-1:0)};function V(k,S){return k.add(R(S))}t.j=function(k){if(A(this)||A(k))return _;if(b(this))return b(k)?R(this).j(R(k)):R(R(this).j(k));if(b(k))return R(this.j(R(k)));if(0>this.l(C)&&0>k.l(C))return m(this.m()*k.m());for(var S=this.g.length+k.g.length,j=[],P=0;P<2*S;P++)j[P]=0;for(P=0;P<this.g.length;P++)for(var M=0;M<k.g.length;M++){var L=this.i(P)>>>16,D=this.i(P)&65535,oe=k.i(M)>>>16,Te=k.i(M)&65535;j[2*P+2*M]+=D*Te,F(j,2*P+2*M),j[2*P+2*M+1]+=L*Te,F(j,2*P+2*M+1),j[2*P+2*M+1]+=D*oe,F(j,2*P+2*M+1),j[2*P+2*M+2]+=L*oe,F(j,2*P+2*M+2)}for(P=0;P<S;P++)j[P]=j[2*P+1]<<16|j[2*P];for(P=S;P<2*S;P++)j[P]=0;return new c(j,0)};function F(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function U(k,S){this.g=k,this.h=S}function z(k,S){if(A(S))throw Error("division by zero");if(A(k))return new U(_,_);if(b(k))return S=z(R(k),S),new U(R(S.g),R(S.h));if(b(S))return S=z(k,R(S)),new U(R(S.g),S.h);if(30<k.g.length){if(b(k)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var j=x,P=S;0>=P.l(k);)j=Q(j),P=Q(P);var M=Z(j,1),L=Z(P,1);for(P=Z(P,2),j=Z(j,2);!A(P);){var D=L.add(P);0>=D.l(k)&&(M=M.add(j),L=D),P=Z(P,1),j=Z(j,1)}return S=V(k,M.j(S)),new U(M,S)}for(M=_;0<=k.l(S);){for(j=Math.max(1,Math.floor(k.m()/S.m())),P=Math.ceil(Math.log(j)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=m(j),D=L.j(S);b(D)||0<D.l(k);)j-=P,L=m(j),D=L.j(S);A(L)&&(L=x),M=M.add(L),k=V(k,D)}return new U(M,k)}t.A=function(k){return z(this,k).h},t.and=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],P=0;P<S;P++)j[P]=this.i(P)&k.i(P);return new c(j,this.h&k.h)},t.or=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],P=0;P<S;P++)j[P]=this.i(P)|k.i(P);return new c(j,this.h|k.h)},t.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),j=[],P=0;P<S;P++)j[P]=this.i(P)^k.i(P);return new c(j,this.h^k.h)};function Q(k){for(var S=k.g.length+1,j=[],P=0;P<S;P++)j[P]=k.i(P)<<1|k.i(P-1)>>>31;return new c(j,k.h)}function Z(k,S){var j=S>>5;S%=32;for(var P=k.g.length-j,M=[],L=0;L<P;L++)M[L]=0<S?k.i(L+j)>>>S|k.i(L+j+1)<<32-S:k.i(L+j);return new c(M,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Fi=c}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AS,Uc,PS,vh,Pg,kS,jS,DS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(h,v){if(v)e:{var E=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var H=h[N];if(!(H in E))break e;E=E[H]}h=h[h.length-1],N=E[h],v=v(N),v!=N&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function a(h,v){h instanceof String&&(h+="");var E=0,N=!1,H={next:function(){if(!N&&E<h.length){var Y=E++;return{value:v(Y,h[Y]),done:!1}}return N=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(h){return h||function(){return a(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function _(h,v,E){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,N),h.apply(v,H)}}return function(){return h.apply(v,arguments)}}function x(h,v,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,x.apply(null,arguments)}function C(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function A(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(N,H,Y){for(var ue=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)ue[ot-2]=arguments[ot];return v.prototype[H].apply(N,ue)}}function b(h){const v=h.length;if(0<v){const E=Array(v);for(let N=0;N<v;N++)E[N]=h[N];return E}return[]}function R(h,v){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(p(N)){const H=h.length||0,Y=N.length||0;h.length=H+Y;for(let ue=0;ue<Y;ue++)h[H+ue]=N[ue]}else h.push(N)}}class V{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function z(h){return z[" "](h),h}z[" "]=function(){};var Q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function Z(h,v,E){for(const N in h)v.call(E,h[N],N,h)}function k(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function S(h){const v={};for(const E in h)v[E]=h[E];return v}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let E,N;for(let H=1;H<arguments.length;H++){N=arguments[H];for(E in N)h[E]=N[E];for(let Y=0;Y<j.length;Y++)E=j[Y],Object.prototype.hasOwnProperty.call(N,E)&&(h[E]=N[E])}}function M(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function L(h){d.setTimeout(()=>{throw h},0)}function D(){var h=ae;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class oe{constructor(){this.h=this.g=null}add(v,E){const N=Te.get();N.set(v,E),this.h?this.h.next=N:this.g=N,this.h=N}}var Te=new V(()=>new ne,h=>h.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let de,X=!1,ae=new oe,ce=()=>{const h=d.Promise.resolve(void 0);de=()=>{h.then(q)}};var q=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(E){L(E)}var v=Te;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}X=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function Pe(h,v){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Q){e:{try{z(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ve[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Pe.aa.h.call(this)}}A(Pe,ge);var Ve={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),be=0;function Fe(h,v,E,N,H){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!N,this.ha=H,this.key=++be,this.da=this.fa=!1}function De(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Qe(h){this.src=h,this.g={},this.h=0}Qe.prototype.add=function(h,v,E,N,H){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var ue=Ct(h,v,N,H);return-1<ue?(v=h[ue],E||(v.fa=!1)):(v=new Fe(v,this.src,Y,!!N,H),v.fa=E,h.push(v)),v};function ct(h,v){var E=v.type;if(E in h.g){var N=h.g[E],H=Array.prototype.indexOf.call(N,v,void 0),Y;(Y=0<=H)&&Array.prototype.splice.call(N,H,1),Y&&(De(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ct(h,v,E,N){for(var H=0;H<h.length;++H){var Y=h[H];if(!Y.da&&Y.listener==v&&Y.capture==!!E&&Y.ha==N)return H}return-1}var _n="closure_lm_"+(1e6*Math.random()|0),Hr={};function _s(h,v,E,N,H){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)_s(h,v[Y],E,N,H);return null}return E=zl(E),h&&h[he]?h.K(v,E,m(N)?!!N.capture:!1,H):xs(h,v,E,!1,N,H)}function xs(h,v,E,N,H,Y){if(!v)throw Error("Invalid event type");var ue=m(H)?!!H.capture:!!H,ot=la(h);if(ot||(h[_n]=ot=new Qe(h)),E=ot.add(v,E,N,ue,Y),E.proxy)return E;if(N=Du(),E.proxy=N,N.src=h,N.listener=E,h.addEventListener)Ce||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),N,H);else if(h.attachEvent)h.attachEvent(Ts(v.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Du(){function h(E){return v.call(h.src,h.listener,E)}const v=ql;return h}function aa(h,v,E,N,H){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)aa(h,v[Y],E,N,H);else N=m(N)?!!N.capture:!!N,E=zl(E),h&&h[he]?(h=h.i,v=String(v).toString(),v in h.g&&(Y=h.g[v],E=Ct(Y,E,N,H),-1<E&&(De(Y[E]),Array.prototype.splice.call(Y,E,1),Y.length==0&&(delete h.g[v],h.h--)))):h&&(h=la(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ct(v,E,N,H)),(E=-1<h?v[h]:null)&&Es(E))}function Es(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[he])ct(v.i,h);else{var E=h.type,N=h.proxy;v.removeEventListener?v.removeEventListener(E,N,h.capture):v.detachEvent?v.detachEvent(Ts(E),N):v.addListener&&v.removeListener&&v.removeListener(N),(E=la(v))?(ct(E,h),E.h==0&&(E.src=null,v[_n]=null)):De(h)}}}function Ts(h){return h in Hr?Hr[h]:Hr[h]="on"+h}function ql(h,v){if(h.da)h=!0;else{v=new Pe(v,this);var E=h.listener,N=h.ha||h.src;h.fa&&Es(h),h=E.call(N,v)}return h}function la(h){return h=h[_n],h instanceof Qe?h:null}var ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function zl(h){return typeof h=="function"?h:(h[ca]||(h[ca]=function(v){return h.handleEvent(v)}),h[ca])}function Vt(){J.call(this),this.i=new Qe(this),this.M=this,this.F=null}A(Vt,J),Vt.prototype[he]=!0,Vt.prototype.removeEventListener=function(h,v,E,N){aa(this,h,v,E,N)};function Ft(h,v){var E,N=h.F;if(N)for(E=[];N;N=N.F)E.push(N);if(h=h.M,N=v.type||v,typeof v=="string")v=new ge(v,h);else if(v instanceof ge)v.target=v.target||h;else{var H=v;v=new ge(N,h),P(v,H)}if(H=!0,E)for(var Y=E.length-1;0<=Y;Y--){var ue=v.g=E[Y];H=bs(ue,N,!0,v)&&H}if(ue=v.g=h,H=bs(ue,N,!0,v)&&H,H=bs(ue,N,!1,v)&&H,E)for(Y=0;Y<E.length;Y++)ue=v.g=E[Y],H=bs(ue,N,!1,v)&&H}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],N=0;N<E.length;N++)De(E[N]);delete h.g[v],h.h--}}this.F=null},Vt.prototype.K=function(h,v,E,N){return this.i.add(String(h),v,!1,E,N)},Vt.prototype.L=function(h,v,E,N){return this.i.add(String(h),v,!0,E,N)};function bs(h,v,E,N){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Y=0;Y<v.length;++Y){var ue=v[Y];if(ue&&!ue.da&&ue.capture==E){var ot=ue.listener,Ut=ue.ha||ue.src;ue.fa&&ct(h.i,ue),H=ot.call(Ut,N)!==!1&&H}}return H&&!N.defaultPrevented}function Hl(h,v,E){if(typeof h=="function")E&&(h=x(h,E));else if(h&&typeof h.handleEvent=="function")h=x(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function ni(h){h.g=Hl(()=>{h.g=null,h.i&&(h.i=!1,ni(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class ho extends J{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ni(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(h){J.call(this),this.h=h,this.g={}}A(fo,J);var Wl=[];function Kl(h){Z(h.g,function(v,E){this.g.hasOwnProperty(E)&&Es(v)},h),h.g={}}fo.prototype.N=function(){fo.aa.N.call(this),Kl(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gl=d.JSON.stringify,Ql=d.JSON.parse,Yl=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function po(){}po.prototype.h=null;function ua(h){return h.h||(h.h=h.i())}function da(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wr(){ge.call(this,"d")}A(Wr,ge);function ha(){ge.call(this,"c")}A(ha,ge);var Kr={},Xl=null;function mo(){return Xl=Xl||new Vt}Kr.La="serverreachability";function Jl(h){ge.call(this,Kr.La,h)}A(Jl,ge);function Ss(h){const v=mo();Ft(v,new Jl(v))}Kr.STAT_EVENT="statevent";function Zl(h,v){ge.call(this,Kr.STAT_EVENT,h),this.stat=v}A(Zl,ge);function Rt(h){const v=mo();Ft(v,new Zl(v,h))}Kr.Ma="timingevent";function fa(h,v){ge.call(this,Kr.Ma,h),this.size=v}A(fa,ge);function wr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function yo(h,v,E,N,H,Y){h.info(function(){if(h.g)if(Y)for(var ue="",ot=Y.split("&"),Ut=0;Ut<ot.length;Ut++){var Ye=ot[Ut].split("=");if(1<Ye.length){var Kt=Ye[0];Ye=Ye[1];var kt=Kt.split("_");ue=2<=kt.length&&kt[1]=="type"?ue+(Kt+"="+Ye+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+N+") [attempt "+H+"]: "+v+`
`+E+`
`+ue})}function pa(h,v,E,N,H,Y,ue){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+H+"]: "+v+`
`+E+`
`+Y+" "+ue})}function _r(h,v,E,N){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Xf(h,E)+(N?" "+N:"")})}function ec(h,v){h.info(function(){return"TIMEOUT: "+v})}go.prototype.info=function(){};function Xf(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var N=E[h];if(!(2>N.length)){var H=N[1];if(Array.isArray(H)&&!(1>H.length)){var Y=H[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<H.length;ue++)H[ue]=""}}}}return Gl(E)}catch{return v}}var ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xr;function vo(){}A(vo,po),vo.prototype.g=function(){return new XMLHttpRequest},vo.prototype.i=function(){return{}},xr=new vo;function Er(h,v,E,N){this.j=h,this.i=v,this.l=E,this.R=N||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mu}function Mu(){this.i=null,this.g="",this.h=!1}var tc={},ga={};function ya(h,v,E){h.L=1,h.v=ai(Bn(v)),h.m=E,h.P=!0,nc(h,null)}function nc(h,v){h.F=Date.now(),dt(h),h.A=Bn(h.v);var E=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),ci(E.i,"t",N),h.C=0,E=h.j.J,h.h=new Mu,h.g=ed(h.j,E?v:null,!h.m),0<h.O&&(h.M=new ho(x(h.Y,h,h.g),h.O)),v=h.U,E=h.g,N=h.ca;var H="readystatechange";Array.isArray(H)||(H&&(Wl[0]=H.toString()),H=Wl);for(var Y=0;Y<H.length;Y++){var ue=_s(E,H[Y],N||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Ss(),yo(h.i,h.u,h.A,h.l,h.R,h.m)}Er.prototype.ca=function(h){h=h.target;const v=this.M;v&&Cn(h)==3?v.j():this.Y(h)},Er.prototype.Y=function(h){try{if(h==this.g)e:{const kt=Cn(this.g);var v=this.g.Ba();const or=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||lc(this.g)))){this.J||kt!=4||v==7||(v==8||0>=or?Ss(3):Ss(2)),wo(this);var E=this.g.Z();this.X=E;t:if(Lu(this)){var N=lc(this.g);h="";var H=N.length,Y=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),ri(this);var ue="";break t}this.h.i=new d.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,h+=this.h.i.decode(N[v],{stream:!(Y&&v==H-1)});N.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,pa(this.i,this.u,this.A,this.l,this.R,kt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,Ut=this.g;if((ot=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ot)){var Ye=ot;break t}}Ye=null}if(E=Ye)_r(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rc(this,E);else{this.o=!1,this.s=3,Rt(12),sr(this),ri(this);break e}}if(this.P){E=!0;let qn;for(;!this.J&&this.C<ue.length;)if(qn=Jf(this,ue),qn==ga){kt==4&&(this.s=4,Rt(14),E=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==tc){this.s=4,Rt(15),_r(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else _r(this.i,this.l,qn,null),rc(this,qn);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ue.length!=0||this.h.h||(this.s=1,Rt(16),E=!1),this.o=this.o&&E,!E)_r(this.i,this.l,ue,"[Invalid Chunked Response]"),sr(this),ri(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),uc(Kt),Kt.M=!0,Rt(11))}}else _r(this.i,this.l,ue,null),rc(this,ue);kt==4&&sr(this),this.o&&!this.J&&(kt==4?Ra(this.j,this):(this.o=!1,dt(this)))}else Ta(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),sr(this),ri(this)}}}catch{}finally{}};function Lu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Jf(h,v){var E=h.C,N=v.indexOf(`
`,E);return N==-1?ga:(E=Number(v.substring(E,N)),isNaN(E)?tc:(N+=1,N+E>v.length?ga:(v=v.slice(N,N+E),h.C=N+E,v)))}Er.prototype.cancel=function(){this.J=!0,sr(this)};function dt(h){h.S=Date.now()+h.I,Vu(h,h.I)}function Vu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=wr(x(h.ba,h),v)}function wo(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Er.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ec(this.i,this.A),this.L!=2&&(Ss(),Rt(17)),sr(this),this.s=2,ri(this)):Vu(this,this.S-h)};function ri(h){h.j.G==0||h.J||Ra(h.j,h)}function sr(h){wo(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Kl(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function rc(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||xn(E.h,h))){if(!h.K&&xn(E.h,h)&&E.G==3){try{var N=E.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var H=N;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Ca(E),Cr(E);else break e;Ia(E),Rt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=wr(x(E.Za,E),6e3));if(1>=Uu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else As(E,11)}else if((h.K||E.g==h)&&Ca(E),!F(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let Ye=H[v];if(E.T=Ye[0],Ye=Ye[1],E.G==2)if(Ye[0]=="c"){E.K=Ye[1],E.ia=Ye[2];const Kt=Ye[3];Kt!=null&&(E.la=Kt,E.j.info("VER="+E.la));const kt=Ye[4];kt!=null&&(E.Aa=kt,E.j.info("SVER="+E.Aa));const or=Ye[5];or!=null&&typeof or=="number"&&0<or&&(N=1.5*or,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const qn=h.g;if(qn){const Io=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Io){var Y=N.h;Y.g||Io.indexOf("spdy")==-1&&Io.indexOf("quic")==-1&&Io.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(sc(Y,Y.h),Y.h=null))}if(N.D){const Aa=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(N.ya=Aa,ut(N.I,N.D,Aa))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var ue=h;if(N.qa=Zu(N,N.J?N.ia:null,N.W),ue.K){Bu(N.h,ue);var ot=ue,Ut=N.L;Ut&&(ot.I=Ut),ot.B&&(wo(ot),dt(ot)),N.g=ue}else So(N);0<E.i.length&&Xr(E)}else Ye[0]!="stop"&&Ye[0]!="close"||As(E,7);else E.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?As(E,7):nn(E):Ye[0]!="noop"&&E.l&&E.l.ta(Ye),E.v=0)}}Ss(4)}catch{}}var Fu=class{constructor(h,v){this.g=h,this.map=v}};function _o(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Un(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Uu(h){return h.h?1:h.g?h.g.size:0}function xn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function sc(h,v){h.g?h.g.add(v):h.h=v}function Bu(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}_o.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function $u(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return b(h.i)}function va(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,N=0;N<E;N++)v.push(h[N]);return v}v=[],E=0;for(N in h)v[E++]=h[N];return v}function wa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const N in h)v[E++]=N;return v}}}function si(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=wa(h),N=va(h),H=N.length,Y=0;Y<H;Y++)v.call(void 0,N[Y],E&&E[Y],h)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zf(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var N=h[E].indexOf("="),H=null;if(0<=N){var Y=h[E].substring(0,N);H=h[E].substring(N+1)}else Y=h[E];v(Y,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Is(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Is){this.h=h.h,Eo(this,h.j),this.o=h.o,this.g=h.g,ii(this,h.s),this.l=h.l;var v=h.i,E=new Gr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),oi(this,E),this.m=h.m}else h&&(v=String(h).match(xo))?(this.h=!1,Eo(this,v[1]||"",!0),this.o=Ge(v[2]||""),this.g=Ge(v[3]||"",!0),ii(this,v[4]),this.l=Ge(v[5]||"",!0),oi(this,v[6]||"",!0),this.m=Ge(v[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Is.prototype.toString=function(){var h=[],v=this.j;v&&h.push(li(v,_a,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(li(v,_a,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(li(E,E.charAt(0)=="/"?Hu:zu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",li(E,ic)),h.join("")};function Bn(h){return new Is(h)}function Eo(h,v,E){h.j=E?Ge(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ii(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function oi(h,v,E){v instanceof Gr?(h.i=v,Qr(h.i,h.h)):(E||(v=li(v,Wu)),h.i=new Gr(v,h.h))}function ut(h,v,E){h.i.set(v,E)}function ai(h){return ut(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ge(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function li(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,qu),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _a=/[#\/\?@]/g,zu=/[#\?:]/g,Hu=/[#\?]/g,Wu=/[#\?@]/g,ic=/#/g;function Gr(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function tn(h){h.g||(h.g=new Map,h.h=0,h.i&&Zf(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Gr.prototype,t.add=function(h,v){tn(this),this.i=null,h=ir(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Tr(h,v){tn(h),v=ir(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function br(h,v){return tn(h),v=ir(h,v),h.g.has(v)}t.forEach=function(h,v){tn(this),this.g.forEach(function(E,N){E.forEach(function(H){h.call(v,H,N,this)},this)},this)},t.na=function(){tn(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let N=0;N<v.length;N++){const H=h[N];for(let Y=0;Y<H.length;Y++)E.push(v[N])}return E},t.V=function(h){tn(this);let v=[];if(typeof h=="string")br(this,h)&&(v=v.concat(this.g.get(ir(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return tn(this),this.i=null,h=ir(this,h),br(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function ci(h,v,E){Tr(h,v),0<E.length&&(h.i=null,h.g.set(ir(h,v),b(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var N=v[E];const Y=encodeURIComponent(String(N)),ue=this.V(N);for(N=0;N<ue.length;N++){var H=Y;ue[N]!==""&&(H+="="+encodeURIComponent(String(ue[N]))),h.push(H)}}return this.i=h.join("&")};function ir(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Qr(h,v){v&&!h.j&&(tn(h),h.i=null,h.g.forEach(function(E,N){var H=N.toLowerCase();N!=H&&(Tr(this,N),ci(this,H,E))},h)),h.j=v}function ep(h,v){const E=new go;if(d.Image){const N=new Image;N.onload=C(In,E,"TestLoadImage: loaded",!0,v,N),N.onerror=C(In,E,"TestLoadImage: error",!1,v,N),N.onabort=C(In,E,"TestLoadImage: abort",!1,v,N),N.ontimeout=C(In,E,"TestLoadImage: timeout",!1,v,N),d.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else v(!1)}function Ku(h,v){const E=new go,N=new AbortController,H=setTimeout(()=>{N.abort(),In(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:N.signal}).then(Y=>{clearTimeout(H),Y.ok?In(E,"TestPingServer: ok",!0,v):In(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),In(E,"TestPingServer: error",!1,v)})}function In(h,v,E,N,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),N(E)}catch{}}function tp(){this.g=new Yl}function Gu(h,v,E){const N=E||"";try{si(h,function(H,Y){let ue=H;m(H)&&(ue=Gl(H)),v.push(N+Y+"="+encodeURIComponent(ue))})}catch(H){throw v.push(N+"type="+encodeURIComponent("_badmap")),H}}function Cs(h){this.l=h.Ub||null,this.j=h.eb||!1}A(Cs,po),Cs.prototype.g=function(){return new To(this.l,this.j)},Cs.prototype.i=(function(h){return function(){return h}})({});function To(h,v){Vt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(To,Vt),t=To.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ir(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Sr(this):Ir(this),this.readyState==3&&Qu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Sr(this))},t.Qa=function(h){this.g&&(this.response=h,Sr(this))},t.ga=function(){this.g&&Sr(this)};function Sr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ir(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ir(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(To.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Rs(h){let v="";return Z(h,function(E,N){v+=N,v+=":",v+=E,v+=`\r
`}),v}function ui(h,v,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Rs(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):ut(h,v,E))}function wt(h){Vt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(wt,Vt);var np=/^https?$/i,oc=["POST","PUT"];t=wt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xr.g(),this.v=this.o?ua(this.o):ua(xr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){bo(this,Y);return}if(h=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var H in N)E.set(H,N[H]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const Y of N.keys())E.set(Y,N.get(Y));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(oc,v,void 0))||N||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of E)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){bo(this,Y)}};function bo(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,xa(h),$n(h)}function xa(h){h.A||(h.A=!0,Ft(h,"complete"),Ft(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ft(this,"complete"),Ft(this,"abort"),$n(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ac(this):this.bb())},t.bb=function(){ac(this)};function ac(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Cn(h)!=4||h.Z()!=2)){if(h.u&&Cn(h)==4)Hl(h.Ea,0,h);else if(Ft(h,"readystatechange"),Cn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var N;if(N=ue===0){var H=String(h.D).match(xo)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),N=!np.test(H?H.toLowerCase():"")}E=N}if(E)Ft(h,"complete"),Ft(h,"success");else{h.m=6;try{var Y=2<Cn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",xa(h)}}finally{$n(h)}}}}function $n(h,v){if(h.g){Ea(h);const E=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ft(h,"ready");try{E.onreadystatechange=N}catch{}}}function Ea(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Cn(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ql(v)}};function lc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(h){const v={};h=(h.g&&2<=Cn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(F(h[N]))continue;var E=M(h[N]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=v[H]||[];v[H]=Y,Y.push(E)}k(v,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function cc(h){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yr("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yr("baseRetryDelayMs",5e3,h),this.cb=Yr("retryDelaySeedMs",1e4,h),this.Wa=Yr("forwardChannelMaxRetries",2,h),this.wa=Yr("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new _o(h&&h.concurrentRequestLimit),this.Da=new tp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cc.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,N){Rt(0),this.W=h,this.H=v||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=Zu(this,null,this.W),Xr(this)};function nn(h){if(ba(h),h.G==3){var v=h.U++,E=Bn(h.I);if(ut(E,"SID",h.K),ut(E,"RID",v),ut(E,"TYPE","terminate"),Ns(h,E),v=new Er(h,h.j,v),v.L=2,v.v=ai(Bn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=ed(v.j,null),v.g.ea(v.v)),v.F=Date.now(),dt(v)}Ju(h)}function Cr(h){h.g&&(uc(h),h.g.cancel(),h.g=null)}function ba(h){Cr(h),h.u&&(d.clearTimeout(h.u),h.u=null),Ca(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Xr(h){if(!Un(h.h)&&!h.s){h.s=!0;var v=h.Ga;de||ce(),X||(de(),X=!0),ae.add(v,h),h.B=0}}function rp(h,v){return Uu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=wr(x(h.Ga,h,v),Xu(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const H=new Er(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=S(Y),P(Y,this.S)):Y=this.S),this.m!==null||this.O||(H.H=Y,Y=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=di(this,H,v),E=Bn(this.I),ut(E,"RID",h),ut(E,"CVER",22),this.D&&ut(E,"X-HTTP-Session-Id",this.D),Ns(this,E),Y&&(this.O?v="headers="+encodeURIComponent(String(Rs(Y)))+"&"+v:this.m&&ui(E,this.m,Y)),sc(this.h,H),this.Ua&&ut(E,"TYPE","init"),this.P?(ut(E,"$req",v),ut(E,"SID","null"),H.T=!0,ya(H,E,null)):ya(H,E,v),this.G=2}}else this.G==3&&(h?Sa(this,h):this.i.length==0||Un(this.h)||Sa(this))};function Sa(h,v){var E;v?E=v.l:E=h.U++;const N=Bn(h.I);ut(N,"SID",h.K),ut(N,"RID",E),ut(N,"AID",h.T),Ns(h,N),h.m&&h.o&&ui(N,h.m,h.o),E=new Er(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=di(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),sc(h.h,E),ya(E,N,v)}function Ns(h,v){h.H&&Z(h.H,function(E,N){ut(v,N,E)}),h.l&&si({},function(E,N){ut(v,N,E)})}function di(h,v,E){E=Math.min(h.i.length,E);var N=h.l?x(h.l.Na,h.l,h):null;e:{var H=h.i;let Y=-1;for(;;){const ue=["count="+E];Y==-1?0<E?(Y=H[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let ot=!0;for(let Ut=0;Ut<E;Ut++){let Ye=H[Ut].g;const Kt=H[Ut].map;if(Ye-=Y,0>Ye)Y=Math.max(0,H[Ut].g-100),ot=!1;else try{Gu(Kt,ue,"req"+Ye+"_")}catch{N&&N(Kt)}}if(ot){N=ue.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,N}function So(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;de||ce(),X||(de(),X=!0),ae.add(v,h),h.v=0}}function Ia(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=wr(x(h.Fa,h),Xu(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=wr(x(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),Cr(this),Yu(this))};function uc(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Yu(h){h.g=new Er(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Bn(h.qa);ut(v,"RID","rpc"),ut(v,"SID",h.K),ut(v,"AID",h.T),ut(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&ut(v,"TO",h.ja),ut(v,"TYPE","xmlhttp"),Ns(h,v),h.m&&h.o&&ui(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=ai(Bn(v)),E.m=null,E.P=!0,nc(E,h)}t.Za=function(){this.C!=null&&(this.C=null,Cr(this),Ia(this),Rt(19))};function Ca(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ra(h,v){var E=null;if(h.g==v){Ca(h),uc(h),h.g=null;var N=2}else if(xn(h.h,v))E=v.D,Bu(h.h,v),N=1;else return;if(h.G!=0){if(v.o)if(N==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=h.B;N=mo(),Ft(N,new fa(N,E)),Xr(h)}else So(h);else if(H=v.s,H==3||H==0&&0<v.X||!(N==1&&rp(h,v)||N==2&&Ia(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),H){case 1:As(h,5);break;case 4:As(h,10);break;case 3:As(h,6);break;default:As(h,2)}}}function Xu(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function As(h,v){if(h.j.info("Error code "+v),v==2){var E=x(h.fb,h),N=h.Xa;const H=!N;N=new Is(N||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Eo(N,"https"),ai(N),H?ep(N.toString(),E):Ku(N.toString(),E)}else Rt(2);h.G=0,h.l&&h.l.sa(v),Ju(h),ba(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Ju(h){if(h.G=0,h.ka=[],h.l){const v=$u(h.h);(v.length!=0||h.i.length!=0)&&(R(h.ka,v),R(h.ka,h.i),h.h.i.length=0,b(h.i),h.i.length=0),h.l.ra()}}function Zu(h,v,E){var N=E instanceof Is?Bn(E):new Is(E);if(N.g!="")v&&(N.g=v+"."+N.g),ii(N,N.s);else{var H=d.location;N=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Y=new Is(null);N&&Eo(Y,N),v&&(Y.g=v),H&&ii(Y,H),E&&(Y.l=E),N=Y}return E=h.D,v=h.ya,E&&v&&ut(N,E,v),ut(N,"VER",h.la),Ns(h,N),N}function ed(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new wt(new Cs({eb:E})):new wt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}t=dc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Na(){}Na.prototype.g=function(h,v){return new En(h,v)};function En(h,v){Vt.call(this),this.g=new cc(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!F(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Jr(this)}A(En,Vt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){nn(this.g)},En.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=Gl(h),h=E);v.i.push(new Fu(v.Ya++,h)),v.G==3&&Xr(v)},En.prototype.N=function(){this.g.l=null,delete this.j,nn(this.g),delete this.g,En.aa.N.call(this)};function td(h){Wr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}A(td,Wr);function nd(){ha.call(this),this.status=1}A(nd,ha);function Jr(h){this.g=h}A(Jr,dc),Jr.prototype.ua=function(){Ft(this.g,"a")},Jr.prototype.ta=function(h){Ft(this.g,new td(h))},Jr.prototype.sa=function(h){Ft(this.g,new nd)},Jr.prototype.ra=function(){Ft(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,DS=function(){return new Na},jS=function(){return mo()},kS=Kr,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,vh=ma,Ou.COMPLETE="complete",PS=Ou,da.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Uc=da,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,AS=wt}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});const h0="@firebase/firestore",f0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new _f("@firebase/firestore");function el(){return Go.logLevel}function me(t,...e){if(Go.logLevel<=He.DEBUG){const n=e.map(Dy);Go.debug(`Firestore (${jl}): ${t}`,...n)}}function Xs(t,...e){if(Go.logLevel<=He.ERROR){const n=e.map(Dy);Go.error(`Firestore (${jl}): ${t}`,...n)}}function _l(t,...e){if(Go.logLevel<=He.WARN){const n=e.map(Dy);Go.warn(`Firestore (${jl}): ${t}`,...n)}}function Dy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OS(t,r,n)}function OS(t,e,n){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xs(r),new Error(r)}function it(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||OS(e,i,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class eL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class tL{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qs,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const p=a;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it(typeof r.accessToken=="string",31837,{l:r}),new MS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class nL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new nL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new p0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new p0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=iL(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function kg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return zm(i)===zm(a)?We(i,a):zm(i)?1:-1}return We(t.length,e.length)}const oL=55296,aL=57343;function zm(t){const e=t.charCodeAt(0);return e>=oL&&e<=aL}function xl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="__name__";class rs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=rs.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return We(e.length,n.length)}static compareSegments(e,n){const r=rs.isNumericId(e),i=rs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rs.extractNumericId(e).compare(rs.extractNumericId(n)):kg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class ft extends rs{construct(e,n,r){return new ft(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const lL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends rs{construct(e,n,r){return new ln(e,n,r)}static isValidIdentifier(e){return lL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===m0}static keyField(){return new ln([m0])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else d==="`"?(c=!c,i++):d!=="."||c?(r+=d,i++):(a(),i++)}if(a(),c)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ft.fromString(e))}static fromName(e){return new Ee(ft.fromString(e).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){if(!n)throw new fe(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cL(t,e,n,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function g0(t){if(!Ee.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y0(t){if(Ee.isDocumentKey(t))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Js(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(t);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!VS(t))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(i&&typeof c!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&c!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-62135596800,w0=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*w0);return new pt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-v0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Mt("string",pt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new pt(0,0))}static max(){return new ke(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function uL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new Qi(i,Ee.empty(),e)}function dL(t){return new Qi(t.readTime,t.key,lu)}class Qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qi(ke.min(),Ee.empty(),lu)}static max(){return new Qi(ke.max(),Ee.empty(),lu)}}function hL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==fL)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let i=0,a=0,c=!1;e.forEach((d=>{++i,d.next((()=>{++a,c&&a===i&&n()}),(p=>r(p)))})),c=!0,a===i&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((i=>i?te.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,i)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const m=p;n(e[m]).next((y=>{c[m]=y,++d,d===a&&r(c)}),(y=>i(y)))}}))}static doWhile(e,n){return new te(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function mL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ol(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}If.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=-1;function Cf(t){return t==null}function Uh(t){return t===0&&1/t==-1/0}function gL(t){return typeof t=="number"&&Number.isInteger(t)&&!Uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="";function yL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_0(e)),e=vL(t.get(n),e);return _0(e)}function vL(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case FS:n+="";break;default:n+=a}}return n}function _0(t){return t+FS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function US(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){this.comparator=e,this.root=n||an.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??an.RED,this.left=i??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new an(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return an.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new an(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E0(this.data.getIterator())}getIteratorFrom(e){return new E0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class E0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Ht(ln.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new BS("Invalid base64 string: "+a):a}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let c=0;c<i.length;++c)a+=String.fromCharCode(i[c]);return a})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const wL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(t){if(it(!!t,39018),typeof t=="string"){let e=0;const n=wL.exec(t);if(it(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="server_timestamp",qS="__type__",zS="__previous_value__",HS="__local_write_time__";function Ly(t){return(t?.mapValue?.fields||{})[qS]?.stringValue===$S}function Rf(t){const e=t.mapValue.fields[zS];return Ly(e)?Rf(e):e}function cu(t){const e=Yi(t.mapValue.fields[HS].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i,a,c,d,p,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const Bh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="__type__",xL="__max__",rh={mapValue:{}},KS="__vector__",$h="value";function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ly(t)?4:TL(t)?9007199254740991:EL(t)?10:11:Ne(28295,{value:t})}function gs(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cu(t).isEqual(cu(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const c=Yi(i.timestampValue),d=Yi(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Xi(i.bytesValue).isEqual(Xi(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return At(i.geoPointValue.latitude)===At(a.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return At(i.integerValue)===At(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const c=At(i.doubleValue),d=At(a.doubleValue);return c===d?Uh(c)===Uh(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return(function(i,a){const c=i.mapValue.fields||{},d=a.mapValue.fields||{};if(x0(c)!==x0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!gs(c[p],d[p])))return!1;return!0})(t,e);default:return Ne(52216,{left:t})}}function du(t,e){return(t.values||[]).find((n=>gs(n,e)))!==void 0}function El(t,e){if(t===e)return 0;const n=Ji(t),r=Ji(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(a,c){const d=At(a.integerValue||a.doubleValue),p=At(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(t,e);case 3:return T0(t.timestampValue,e.timestampValue);case 4:return T0(cu(t),cu(e));case 5:return kg(t.stringValue,e.stringValue);case 6:return(function(a,c){const d=Xi(a),p=Xi(c);return d.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(a,c){const d=a.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const y=We(d[m],p[m]);if(y!==0)return y}return We(d.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,c){const d=We(At(a.latitude),At(c.latitude));return d!==0?d:We(At(a.longitude),At(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return b0(t.arrayValue,e.arrayValue);case 10:return(function(a,c){const d=a.fields||{},p=c.fields||{},m=d[$h]?.arrayValue,y=p[$h]?.arrayValue,_=We(m?.values?.length||0,y?.values?.length||0);return _!==0?_:b0(m,y)})(t.mapValue,e.mapValue);case 11:return(function(a,c){if(a===rh.mapValue&&c===rh.mapValue)return 0;if(a===rh.mapValue)return 1;if(c===rh.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const x=kg(p[_],y[_]);if(x!==0)return x;const C=El(d[p[_]],m[y[_]]);if(C!==0)return C}return We(p.length,y.length)})(t.mapValue,e.mapValue);default:throw Ne(23264,{he:n})}}function T0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Yi(t),r=Yi(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function b0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=El(n[i],r[i]);if(a)return a}return We(n.length,r.length)}function Tl(t){return jg(t)}function jg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Yi(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ee.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=jg(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const c of r)a?a=!1:i+=",",i+=`${c}:${jg(n.fields[c])}`;return i+"}"})(t.mapValue):Ne(61005,{value:t})}function wh(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(t);return e?16+wh(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+wh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return oo(r.fields,((a,c)=>{i+=a.length+wh(c)})),i})(t.mapValue);default:throw Ne(13486,{value:t})}}function S0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dg(t){return!!t&&"integerValue"in t}function Vy(t){return!!t&&"arrayValue"in t}function I0(t){return!!t&&"nullValue"in t}function C0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _h(t){return!!t&&"mapValue"in t}function EL(t){return(t?.mapValue?.fields||{})[WS]?.stringValue===KS}function Gc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Gc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return{...t}}function TL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=ln.emptyPath(),r={},i=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=d.popLast()}c?r[d.lastSegment()]=Gc(c):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_h(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oo(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new On(Gc(this.value))}}function GS(t){const e=[];return oo(t.fields,((n,r)=>{const i=new ln([n]);if(_h(r)){const a=GS(r.mapValue).fields;if(a.length===0)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,r,i,a,c,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new gn(e,0,ke.min(),ke.min(),ke.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new gn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new gn(e,2,n,ke.min(),ke.min(),On.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,ke.min(),ke.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function R0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(a.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),n.key):r=El(c,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function N0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function bL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{}class Ot extends QS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IL(e,n,r):n==="array-contains"?new NL(e,r):n==="in"?new AL(e,r):n==="not-in"?new PL(e,r):n==="array-contains-any"?new kL(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CL(e,r):new RL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(El(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends QS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qr(e,n)}matches(e){return YS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YS(t){return t.op==="and"}function XS(t){return SL(t)&&YS(t)}function SL(t){for(const e of t.filters)if(e instanceof qr)return!1;return!0}function Og(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Tl(t.value);if(XS(t))return t.filters.map((e=>Og(e))).join(",");{const e=t.filters.map((n=>Og(n))).join(",");return`${t.op}(${e})`}}function JS(t,e){return t instanceof Ot?(function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&gs(r.value,i.value)})(t,e):t instanceof qr?(function(r,i){return i instanceof qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,c,d)=>a&&JS(c,i.filters[d])),!0):!1})(t,e):void Ne(19439)}function ZS(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`})(t):t instanceof qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZS).join(" ,")+"}"})(t):"Filter"}class IL extends Ot{constructor(e,n,r){super(e,n,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class CL extends Ot{constructor(e,n){super(e,"in",n),this.keys=eI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class RL extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=eI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eI(t,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class NL extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vy(n)&&du(n.arrayValue,this.value)}}class AL extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class PL extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class kL extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>du(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n=null,r=[],i=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=d,this.Te=null}}function A0(t,e=null,n=[],r=[],i=null,a=null,c=null){return new jL(t,e,n,r,i,a,c)}function Fy(t){const e=Me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Og(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Tl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Tl(r))).join(",")),e.Te=n}return e.Te}function Uy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N0(t.startAt,e.startAt)&&N0(t.endAt,e.endAt)}function Mg(t){return Ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],i=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DL(t,e,n,r,i,a,c,d){return new Ml(t,e,n,r,i,a,c,d)}function By(t){return new Ml(t)}function P0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tI(t){return t.collectionGroup!==null}function Qc(t){const e=Me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ht(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(d=d.add(m.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new hu(a,r))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new hu(ln.keyField(),r))}return e.Ie}function ls(t){const e=Me(t);return e.Ee||(e.Ee=OL(e,Qc(t))),e.Ee}function OL(t,e){if(t.limitType==="F")return A0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new hu(i.field,a)}));const n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return A0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lg(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zh(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nf(t,e){return Uy(ls(t),ls(e))&&t.limitType===e.limitType}function nI(t){return`${Fy(ls(t))}|lt:${t.limitType}`}function tl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>ZS(i))).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Tl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Tl(i))).join(",")),`Target(${r})`})(ls(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ee.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Qc(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(c,d,p){const m=R0(c,d,p);return c.inclusive?m<=0:m<0})(r.startAt,Qc(r),i)||r.endAt&&!(function(c,d,p){const m=R0(c,d,p);return c.inclusive?m>=0:m>0})(r.endAt,Qc(r),i))})(t,e)}function ML(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rI(t){return(e,n)=>{let r=!1;for(const i of Qc(t)){const a=LL(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function LL(t,e,n){const r=t.field.isKeyField()?Ee.comparator(e.key,n.key):(function(a,c,d){const p=c.data.field(a),m=d.data.field(a);return p!==null&&m!==null?El(p,m):Ne(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oo(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return US(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=new bt(Ee.comparator);function Zs(){return VL}const sI=new bt(Ee.comparator);function Bc(...t){let e=sI;for(const n of t)e=e.insert(n.key,n);return e}function iI(t){let e=sI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Uo(){return Yc()}function oI(){return Yc()}function Yc(){return new ia((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FL=new bt(Ee.comparator),UL=new Ht(Ee.comparator);function Ke(...t){let e=UL;for(const n of t)e=e.add(n);return e}const BL=new Ht(We);function $L(){return BL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function aI(t){return{integerValue:""+t}}function qL(t,e){return gL(e)?aI(e):$y(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function zL(t,e,n){return t instanceof Hh?(function(i,a){const c={fields:{[qS]:{stringValue:$S},[HS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ly(a)&&(a=Rf(a)),a&&(c.fields[zS]=a),{mapValue:c}})(n,e):t instanceof fu?cI(t,e):t instanceof pu?uI(t,e):(function(i,a){const c=lI(i,a),d=k0(c)+k0(i.Ae);return Dg(c)&&Dg(i.Ae)?aI(d):$y(i.serializer,d)})(t,e)}function HL(t,e,n){return t instanceof fu?cI(t,e):t instanceof pu?uI(t,e):n}function lI(t,e){return t instanceof Wh?(function(r){return Dg(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Hh extends Pf{}class fu extends Pf{constructor(e){super(),this.elements=e}}function cI(t,e){const n=dI(e);for(const r of t.elements)n.some((i=>gs(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pu extends Pf{constructor(e){super(),this.elements=e}}function uI(t,e){let n=dI(e);for(const r of t.elements)n=n.filter((i=>!gs(i,r)));return{arrayValue:{values:n}}}class Wh extends Pf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function k0(t){return At(t.integerValue||t.doubleValue)}function dI(t){return Vy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WL(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof fu&&i instanceof fu||r instanceof pu&&i instanceof pu?xl(r.elements,i.elements,gs):r instanceof Wh&&i instanceof Wh?gs(r.Ae,i.Ae):r instanceof Hh&&i instanceof Hh})(t.transform,e.transform)}class KL{constructor(e,n){this.version=e,this.transformResults=n}}class Vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kf{}function hI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qy(t.key,Vr.none()):new Su(t.key,t.data,Vr.none());{const n=t.data,r=On.empty();let i=new Ht(ln.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);c===null&&a.length>1&&(a=a.popLast(),c=n.field(a)),c===null?r.delete(a):r.set(a,c),i=i.add(a)}return new ao(t.key,r,new Jn(i.toArray()),Vr.none())}}function GL(t,e,n){t instanceof Su?(function(i,a,c){const d=i.value.clone(),p=D0(i.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ao?(function(i,a,c){if(!xh(i.precondition,a))return void a.convertToUnknownDocument(c.version);const d=D0(i.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(fI(i)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(t,e,n):(function(i,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Xc(t,e,n,r){return t instanceof Su?(function(a,c,d,p){if(!xh(a.precondition,c))return d;const m=a.value.clone(),y=O0(a.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(t,e,n,r):t instanceof ao?(function(a,c,d,p){if(!xh(a.precondition,c))return d;const m=O0(a.fieldTransforms,p,c),y=c.data;return y.setAll(fI(a)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(t,e,n,r):(function(a,c,d){return xh(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function QL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=lI(r.transform,i||null);a!=null&&(n===null&&(n=On.empty()),n.set(r.field,a))}return n||null}function j0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xl(r,i,((a,c)=>WL(a,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends kf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends kf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function fI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function D0(t,e,n){const r=new Map;it(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,d=e.data.field(a.field);r.set(a.field,HL(c,d,n[i]))}return r}function O0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,zL(a,c,e))}return r}class qy extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YL extends kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&GL(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oI();return this.mutations.forEach((i=>{const a=e.get(i.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=n.has(i.key)?null:d;const p=hI(c,d);p!==null&&r.set(i.key,p),c.isValidDocument()||c.convertToNoDocument(ke.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,r)=>j0(n,r)))&&xl(this.baseMutations,e.baseMutations,((n,r)=>j0(n,r)))}}class zy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){it(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return FL})();const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new zy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JL=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Xe;function eV(t){switch(t){case ee.OK:return Ne(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function pI(t){if(t===void 0)return Xs("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return Ne(39323,{code:t})}}(Xe=Dt||(Dt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Fi([4294967295,4294967295],0);function M0(t){const e=tV().encode(t),n=new NS;return n.update(e),new Uint8Array(n.digest())}function L0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,a],0)]}class Hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $c(`Invalid padding: ${n}`);if(r<0)throw new $c(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $c(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $c(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(nV)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=M0(e),[r,i]=L0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);if(!this.we(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Hy(a,i,n);return r.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=M0(e),[r,i]=L0(n);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,i,a);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jf(ke.min(),i,new bt(We),Zs(),Ke())}}class Iu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class mI{constructor(e,n){this.targetId=e,this.Ce=n}}class gI{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class V0{constructor(){this.ve=0,this.Fe=F0(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),r=Ke();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ne(38017,{changeType:a})}})),new Iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=F0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=sh(),this.He=sh(),this.Ye=new bt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(Mg(a))if(r===0){const c=new Ee(a.path);this.et(n,c,gn.newNoDocument(c,ke.min()))}else it(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(n);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let c,d;try{c=Xi(r).toUint8Array()}catch(p){if(p instanceof BS)return _l("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Hy(c,i,a)}catch(p){return _l(p instanceof $c?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,c)=>{const d=this.ot(c);if(d){if(a.current&&Mg(d.target)){const p=new Ee(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,gn.newNoDocument(p,e))}a.Be&&(n.set(c,a.ke()),a.qe())}}));let r=Ke();this.He.forEach(((a,c)=>{let d=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const i=new jf(e,n,this.Ye,this.je,r);return this.je=Zs(),this.Je=sh(),this.He=sh(),this.Ye=new bt(We),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new V0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new bt(Ee.comparator)}function F0(){return new bt(Ee.comparator)}const sV={asc:"ASCENDING",desc:"DESCENDING"},iV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oV={and:"AND",or:"OR"};class aV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vg(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lV(t,e){return Kh(t,e.toTimestamp())}function cs(t){return it(!!t,49232),ke.fromTimestamp((function(n){const r=Yi(n);return new pt(r.seconds,r.nanos)})(t))}function Wy(t,e){return Fg(t,e).canonicalString()}function Fg(t,e){const n=(function(i){return new ft(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vI(t){const e=ft.fromString(t);return it(TI(e),10190,{key:e.toString()}),e}function Ug(t,e){return Wy(t.databaseId,e.path)}function Hm(t,e){const n=vI(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ee(_I(n))}function wI(t,e){return Wy(t.databaseId,e)}function cV(t){const e=vI(t);return e.length===4?ft.emptyPath():_I(e)}function Bg(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _I(t){return it(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function U0(t,e,n){return{name:Ug(t,e),fields:n.value.mapValue.fields}}function uV(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(it(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(m){const y=m.code===void 0?ee.UNKNOWN:pI(m.code);return new fe(y,m.message||"")})(c);n=new gI(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hm(t,r.document.name),a=cs(r.document.updateTime),c=r.document.createTime?cs(r.document.createTime):ke.min(),d=new On({mapValue:{fields:r.document.fields}}),p=gn.newFoundDocument(i,a,c,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new Eh(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hm(t,r.document),a=r.readTime?cs(r.readTime):ke.min(),c=gn.newNoDocument(i,a),d=r.removedTargetIds||[];n=new Eh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hm(t,r.document),a=r.removedTargetIds||[];n=new Eh([],a,i,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,c=new ZL(i,a),d=r.targetId;n=new mI(d,c)}}return n}function dV(t,e){let n;if(e instanceof Su)n={update:U0(t,e.key,e.value)};else if(e instanceof qy)n={delete:Ug(t,e.key)};else if(e instanceof ao)n={update:U0(t,e.key,e.data),updateMask:_V(e.fieldMask)};else{if(!(e instanceof YL))return Ne(16599,{Vt:e.type});n={verify:Ug(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const d=c.transform;if(d instanceof Hh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof fu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ne(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:lV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ne(27497)})(t,e.precondition)),n}function hV(t,e){return t&&t.length>0?(it(e!==void 0,14353),t.map((n=>(function(i,a){let c=i.updateTime?cs(i.updateTime):cs(a);return c.isEqual(ke.min())&&(c=cs(a)),new KL(c,i.transformResults||[])})(n,e)))):[]}function fV(t,e){return{documents:[wI(t,e.path)]}}function pV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wI(t,i);const a=(function(m){if(m.length!==0)return EI(qr.create(m,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((y=>(function(x){return{field:nl(x.field),direction:yV(x.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Vg(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:n,parent:i}}function mV(t){let e=cV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){it(r===1,65062);const y=n.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=(function(_){const x=xI(_);return x instanceof qr&&XS(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((x=>(function(A){return new hu(rl(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(x)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let x;return x=typeof _=="object"?_.value:_,Cf(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(_){const x=!!_.before,C=_.values||[];return new qh(C,x)})(n.startAt));let m=null;return n.endAt&&(m=(function(_){const x=!_.before,C=_.values||[];return new qh(C,x)})(n.endAt)),DL(e,i,c,a,d,"F",p,m)}function gV(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rl(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=rl(n.unaryFilter.field);return Ot.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=rl(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(rl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qr.create(n.compositeFilter.filters.map((r=>xI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(n.compositeFilter.op))})(t):Ne(30097,{filter:t})}function yV(t){return sV[t]}function vV(t){return iV[t]}function wV(t){return oV[t]}function nl(t){return{fieldPath:t.canonicalString()}}function rl(t){return ln.fromServerFormat(t.fieldPath)}function EI(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(C0(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C0(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(n.field),op:vV(n.op),value:n.value}}})(t):t instanceof qr?(function(n){const r=n.getFilters().map((i=>EI(i)));return r.length===1?r[0]:{compositeFilter:{op:wV(n.op),filters:r}}})(t):Ne(54877,{filter:t})}function _V(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r,i,a=ke.min(),c=ke.min(),d=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e){this.yt=e}}function EV(t){const e=mV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.Cn=new bV}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Qi.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class bV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ht(ft.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bI=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(bI,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bl(0)}static cr(){return new bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",SV=1048576;function q0([t,e],[n,r]){const i=We(t,n);return i===0?We(e,r):i}class IV{constructor(e){this.Ir=e,this.buffer=new Ht(q0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();q0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ol(n)?me($0,"Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.Vr(3e5)}))}}class RV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(If.ce);const r=new IV(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(B0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,c,d,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,c=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,n)))).next((_=>(a=_,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),el()<=He.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${i} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function NV(t,e){return new RV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Xc(r.mutation,i,Jn.empty(),pt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ke()){const i=Uo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let c=Bc();return a.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Uo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ke())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,r,i){let a=Zs();const c=Yc(),d=(function(){return Yc()})();return n.forEach(((p,m)=>{const y=r.get(m.key);i.has(m.key)&&(y===void 0||y.mutation instanceof ao)?a=a.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Xc(y.mutation,m,y.mutation.getFieldMask(),pt.now())):c.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,a).next((p=>(p.forEach(((m,y)=>c.set(m,y))),n.forEach(((m,y)=>d.set(m,new PV(y,c.get(m)??null)))),d)))}recalculateAndSaveOverlays(e,n){const r=Yc();let i=new bt(((c,d)=>c-d)),a=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const m=n.get(p);if(m===null)return;let y=r.get(p)||Jn.empty();y=d.applyToLocalView(m,y),r.set(p,y);const _=(i.get(d.batchId)||Ke()).add(p);i=i.insert(d.batchId,_)}))})).next((()=>{const c=[],d=i.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,y=p.value,_=oI();y.forEach((x=>{if(!a.has(x)){const C=hI(n.get(x),r.get(x));C!==null&&_.set(x,C),a=a.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return te.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):te.resolve(Uo());let d=lu,p=a;return c.next((m=>te.forEach(m,((y,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(y)?te.resolve():this.remoteDocumentCache.getEntry(e,y).next((x=>{p=p.insert(y,x)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,p,m,Ke()))).next((y=>({batchId:d,changes:iI(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((r=>{let i=Bc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let c=Bc();return this.indexManager.getCollectionParents(e,a).next((d=>te.forEach(d,(p=>{const m=(function(_,x){return new Ml(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next((y=>{y.forEach(((_,x)=>{c=c.insert(_,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((c=>{a.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,gn.newInvalidDocument(y)))}));let d=Bc();return c.forEach(((p,m)=>{const y=a.get(p);y!==void 0&&Xc(y.mutation,m,Jn.empty(),pt.now()),Af(n,m)&&(d=d.insert(p,m))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:cs(i.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:EV(i.bundledQuery),readTime:cs(i.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.overlays=new bt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Uo();return te.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=Uo(),a=n.length+1,c=new Ee(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new bt(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=Uo(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Uo(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>d.set(m,y))),!(d.size()>=i)););return te.resolve(d)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new JL(n,r));let a=this.qr.get(n);a===void 0&&(a=Ke(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Qr=new Ht(Xt.$r),this.Ur=new Ht(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ee(new ft([])),r=new Xt(n,e),i=new Xt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new ft([])),r=new Xt(n,e),i=new Xt(n,e+1);let a=Ke();return this.Ur.forEachInRange([r,i],(c=>{a=a.add(c.key)})),a}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Xt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XL(a,n,r,i);this.mutationQueue.push(c);for(const d of i)this.Zr=this.Zr.add(new Xt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?My:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),i=new Xt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(c=>{const d=this.Xr(c.Yr);a.push(d)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(We);return n.forEach((i=>{const a=new Xt(i,0),c=new Xt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(d=>{r=r.add(d.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ee.isDocumentKey(a)||(a=a.child(""));const c=new Xt(new Ee(a),0);let d=new Ht(We);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(p.Yr)),!0)}),c),te.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(i=>{const a=new Xt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),i=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.ri=e,this.docs=(function(){return new bt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let r=Zs();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gn.newInvalidDocument(i))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Zs();const c=n.path,d=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||hL(dL(y),r)<=0||(i.has(y.key)||Af(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ne(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new VV(this)}getSize(e){return te.resolve(this.size)}}class VV extends AV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.persistence=e,this.si=new ia((n=>Fy(n)),Uy),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Ky,this.targetCount=0,this.ai=bl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),te.waitFor(a).next((()=>i))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((c=>{a.push(i.markPotentiallyOrphaned(e,c))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.ui={},this.overlays={},this.ci=new If(0),this.li=!1,this.li=!0,this.hi=new OV,this.referenceDelegate=e(this),this.Pi=new FV(this),this.indexManager=new TV,this.remoteDocumentCache=(function(i){return new LV(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xV(n),this.Ii=new jV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new MV(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new UV(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class UV extends pL{constructor(e){super(),this.currentSequenceNumber=e}}class Gy{constructor(e){this.persistence=e,this.Ri=new Ky,this.Vi=null}static mi(e){return new Gy(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const i=Ee.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,ke.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Gh{constructor(e,n){this.persistence=e,this.pi=new ia((r=>yL(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=NV(this,n)}static mi(e,n){return new Gh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?te.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,n).next((d=>{d||(r++,a.removeEntry(c,ke.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ke(),i=Ke();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Qy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gD()?8:mL(wn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new BV;return this.Ss(e,n,c).next((d=>{if(a.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(el()<=He.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(el()<=He.DEBUG&&me("QueryEngine","Query:",tl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(el()<=He.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(n))):te.resolve())}ys(e,n){if(P0(n))return te.resolve(null);let r=ls(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=zh(n,null,"F"),r=ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Ke(...a);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,r).next((p=>{const m=this.Ds(n,d);return this.Cs(n,m,c,p.readTime)?this.ys(e,zh(n,null,"F")):this.vs(e,m,n,p)}))))})))))}ws(e,n,r,i){return P0(n)||i.isEqual(ke.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(n,a);return this.Cs(n,c,r,i)?te.resolve(null):(el()<=He.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tl(n)),this.vs(e,c,n,uL(i,lu)).next((d=>d)))}))}Ds(e,n){let r=new Ht(rI(e));return n.forEach(((i,a)=>{Af(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return el()<=He.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",tl(n)),this.ps.getDocumentsMatchingQuery(e,n,Qi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LocalStore",qV=3e8;class zV{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new bt(We),this.xs=new ia((a=>Fy(a)),Uy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function HV(t,e,n,r){return new zV(t,e,n,r)}async function II(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],d=[];let p=Ke();for(const m of i){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of a){d.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(r,p).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:d})))}))}))}function WV(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,m,y){const _=m.batch,x=_.keys();let C=te.resolve();return x.forEach((A=>{C=C.next((()=>y.getEntry(p,A))).next((b=>{const R=m.docVersions.get(A);it(R!==null,48541),b.version.compareTo(R)<0&&(_.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),y.addEntry(b)))}))})),C.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let p=Ke();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function CI(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function KV(t,e){const n=Me(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const d=[];e.targetChanges.forEach(((y,_)=>{const x=i.get(_);if(!x)return;d.push(n.Pi.removeMatchingKeys(a,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(a,y.addedDocuments,_))));let C=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?C=C.withResumeToken(cn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):y.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(y.resumeToken,r)),i=i.insert(_,C),(function(b,R,V){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=qV?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(x,C,y)&&d.push(n.Pi.updateTargetData(a,C))}));let p=Zs(),m=Ke();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))})),d.push(GV(a,c,e.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!r.isEqual(ke.min())){const y=n.Pi.getLastRemoteSnapshotVersion(a).next((_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(y)}return te.waitFor(d).next((()=>c.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,p,m))).next((()=>p))})).then((a=>(n.Ms=i,a)))}function GV(t,e,n){let r=Ke(),i=Ke();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let c=Zs();return n.forEach(((d,p)=>{const m=a.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),p.isNoDocument()&&p.version.isEqual(ke.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):me(Yy,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)})),{ks:c,qs:i}}))}function QV(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=My),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function YV(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,te.resolve(i)):n.Pi.allocateTargetId(r).next((c=>(i=new Oi(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function $g(t,e,n){const r=Me(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ol(c))throw c;me(Yy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function z0(t,e,n){const r=Me(t);let i=ke.min(),a=Ke();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const _=Me(p),x=_.xs.get(y);return x!==void 0?te.resolve(_.Ms.get(x)):_.Pi.getTargetData(m,y)})(r,c,ls(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{a=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?i:ke.min(),n?a:Ke()))).next((d=>(XV(r,ML(e),d),{documents:d,Qs:a})))))}function XV(t,e,n){let r=t.Os.get(e)||ke.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class H0{constructor(){this.activeTargetIds=$L()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JV{constructor(){this.Mo=new H0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new H0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="ConnectivityMonitor";class K0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(W0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(W0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function qg(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="RestConnection",e4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const c=qg(),d=this.zo(e,n.toUriEncodedString());me(Wm,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,a);const{host:m}=new URL(d),y=ta(m);return this.Jo(e,d,p,r,y).then((_=>(me(Wm,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw _l(Wm,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(e,n,r,i,a,c){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=e4[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class r4 extends t4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const c=qg();return new Promise(((d,p)=>{const m=new AS;m.setWithCredentials(!0),m.listenOnce(PS.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case vh.NO_ERROR:const _=m.getResponseJson();me(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case vh.TIMEOUT:me(pn,`RPC '${e}' ${c} timed out`),p(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const x=m.getStatus();if(me(pn,`RPC '${e}' ${c} failed with status:`,x,"response text:",m.getResponseText()),x>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const A=C?.error;if(A&&A.status&&A.message){const b=(function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(F)>=0?F:ee.UNKNOWN})(A.status);p(new fe(b,A.message))}else p(new fe(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(pn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(i);me(pn,`RPC '${e}' ${c} sending request:`,i),m.send(n,"POST",y,r,15)}))}T_(e,n,r){const i=qg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DS(),d=jS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const y=a.join("");me(pn,`Creating RPC '${e}' stream ${i}: ${y}`,p);const _=c.createWebChannel(y,p);this.I_(_);let x=!1,C=!1;const A=new n4({Yo:R=>{C?me(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(x||(me(pn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),x=!0),me(pn,`RPC '${e}' stream ${i} sending:`,R),_.send(R))},Zo:()=>_.close()}),b=(R,V,F)=>{R.listen(V,(U=>{try{F(U)}catch(z){setTimeout((()=>{throw z}),0)}}))};return b(_,Uc.EventType.OPEN,(()=>{C||(me(pn,`RPC '${e}' stream ${i} transport opened.`),A.o_())})),b(_,Uc.EventType.CLOSE,(()=>{C||(C=!0,me(pn,`RPC '${e}' stream ${i} transport closed`),A.a_(),this.E_(_))})),b(_,Uc.EventType.ERROR,(R=>{C||(C=!0,_l(pn,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))})),b(_,Uc.EventType.MESSAGE,(R=>{if(!C){const V=R.data[0];it(!!V,16349);const F=V,U=F?.error||F[0]?.error;if(U){me(pn,`RPC '${e}' stream ${i} received error:`,U);const z=U.status;let Q=(function(S){const j=Dt[S];if(j!==void 0)return pI(j)})(z),Z=U.message;Q===void 0&&(Q=ee.INTERNAL,Z="Unknown error status: "+z+" with message "+U.message),C=!0,A.a_(new fe(Q,Z)),_.close()}else me(pn,`RPC '${e}' stream ${i} received:`,V),A.u_(V)}})),b(d,kS.STAT_EVENT,(R=>{R.stat===Pg.PROXY?me(pn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Pg.NOPROXY&&me(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return new aV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="PersistentStream";class NI{constructor(e,n,r,i,a,c,d,p){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Xs(n.toString()),Xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(G0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(G0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s4 extends NI{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=uV(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ke.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ke.min():c.readTime?cs(c.readTime):ke.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Bg(this.serializer),n.addTarget=(function(a,c){let d;const p=c.target;if(d=Mg(p)?{documents:fV(a,p)}:{query:pV(a,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=yI(a,c.resumeToken);const m=Vg(a,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(ke.min())>0){d.readTime=Kh(a,c.snapshotVersion.toTimestamp());const m=Vg(a,c.expectedCount);m!==null&&(d.expectedCount=m)}return d})(this.serializer,e);const r=gV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Bg(this.serializer),n.removeTarget=e,this.q_(n)}}class i4 extends NI{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hV(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>dV(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{}class a4 extends o4{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Fg(n,r),i,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Fg(n,r),i,c,d,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class l4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class c4{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{oa(this)&&(me(Qo,"Restarting streams for network reachability change."),await(async function(p){const m=Me(p);m.Ea.add(4),await Cu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Of(m)})(this))}))})),this.Ra=new l4(r,i)}}async function Of(t){if(oa(t))for(const e of t.da)await e(!0)}async function Cu(t){for(const e of t.da)await e(!1)}function AI(t,e){const n=Me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ev(n)?Zy(n):Ll(n).O_()&&Jy(n,e))}function Xy(t,e){const n=Me(t),r=Ll(n);n.Ia.delete(e),r.O_()&&PI(n,e),n.Ia.size===0&&(r.O_()?r.L_():oa(n)&&n.Ra.set("Unknown"))}function Jy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Y_(e)}function PI(t,e){t.Va.Ue(e),Ll(t).Z_(e)}function Zy(t){t.Va=new rV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Ra.ua()}function ev(t){return oa(t)&&!Ll(t).x_()&&t.Ia.size>0}function oa(t){return Me(t).Ea.size===0}function kI(t){t.Va=void 0}async function u4(t){t.Ra.set("Online")}async function d4(t){t.Ia.forEach(((e,n)=>{Jy(t,e)}))}async function h4(t,e){kI(t),ev(t)?(t.Ra.ha(e),Zy(t)):t.Ra.set("Unknown")}async function f4(t,e,n){if(t.Ra.set("Online"),e instanceof gI&&e.state===2&&e.cause)try{await(async function(i,a){const c=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,c),i.Ia.delete(d),i.Va.removeTarget(d))})(t,e)}catch(r){me(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(t,r)}else if(e instanceof Eh?t.Va.Ze(e):e instanceof mI?t.Va.st(e):t.Va.tt(e),!n.isEqual(ke.min()))try{const r=await CI(t.localStore);n.compareTo(r)>=0&&await(function(a,c){const d=a.Va.Tt(c);return d.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,m)=>{const y=a.Ia.get(p);if(!y)return;a.Ia.set(p,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),PI(a,p);const _=new Oi(y.target,p,m,y.sequenceNumber);Jy(a,_)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){me(Qo,"Failed to raise snapshot:",r),await Qh(t,r)}}async function Qh(t,e,n){if(!Ol(e))throw e;t.Ea.add(1),await Cu(t),t.Ra.set("Offline"),n||(n=()=>CI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Qo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Of(t)}))}function jI(t,e){return e().catch((n=>Qh(t,n,e)))}async function Mf(t){const e=Me(t),n=Zi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:My;for(;p4(e);)try{const i=await QV(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,m4(e,i)}catch(i){await Qh(e,i)}DI(e)&&OI(e)}function p4(t){return oa(t)&&t.Ta.length<10}function m4(t,e){t.Ta.push(e);const n=Zi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function DI(t){return oa(t)&&!Zi(t).x_()&&t.Ta.length>0}function OI(t){Zi(t).start()}async function g4(t){Zi(t).ra()}async function y4(t){const e=Zi(t);for(const n of t.Ta)e.ea(n.mutations)}async function v4(t,e,n){const r=t.Ta.shift(),i=zy.from(r,e,n);await jI(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Mf(t)}async function w4(t,e){e&&Zi(t).X_&&await(async function(r,i){if((function(c){return eV(c)&&c!==ee.ABORTED})(i.code)){const a=r.Ta.shift();Zi(r).B_(),await jI(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Mf(r)}})(t,e),DI(t)&&OI(t)}async function Q0(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),me(Qo,"RemoteStore received new credentials");const r=oa(n);n.Ea.add(3),await Cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Of(n)}async function _4(t,e){const n=Me(t);e?(n.Ea.delete(2),await Of(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function Ll(t){return t.ma||(t.ma=(function(n,r,i){const a=Me(n);return a.sa(),new s4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:u4.bind(null,t),t_:d4.bind(null,t),r_:h4.bind(null,t),H_:f4.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ev(t)?Zy(t):t.Ra.set("Unknown")):(await t.ma.stop(),kI(t))}))),t.ma}function Zi(t){return t.fa||(t.fa=(function(n,r,i){const a=Me(n);return a.sa(),new i4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:g4.bind(null,t),r_:w4.bind(null,t),ta:y4.bind(null,t),na:v4.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Mf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Qo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,d=new tv(e,n,c,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(Xs("AsyncQueue",`${e}: ${t}`),Ol(t))return new fe(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ee.comparator(n.key,r.key):(n,r)=>Ee.comparator(n.key,r.key),this.keyedMap=Bc(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.ga=new bt(Ee.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Sl{constructor(e,n,r,i,a,c,d,p,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Sl(e,n,fl.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E4{constructor(){this.queries=X0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Me(n),a=i.queries;i.queries=X0(),a.forEach(((c,d)=>{for(const p of d.Sa)p.onError(r)}))})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function X0(){return new ia((t=>nI(t)),Nf)}async function MI(t,e){const n=Me(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new x4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(c){const d=nv(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&rv(n)}async function LI(t,e){const n=Me(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function T4(t,e){const n=Me(t);let r=!1;for(const i of e){const a=i.query,c=n.queries.get(a);if(c){for(const d of c.Sa)d.Fa(i)&&(r=!0);c.wa=i}}r&&rv(n)}function b4(t,e,n){const r=Me(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function rv(t){t.Ca.forEach((e=>{e.next()}))}var zg,J0;(J0=zg||(zg={})).Ma="default",J0.Cache="cache";class VI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Sl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class S4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=rI(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Y0,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,d=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((y,_)=>{const x=i.get(y),C=Af(this.query,_)?_:null,A=!!x&&this.mutatedKeys.has(x.key),b=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let R=!1;x&&C?x.data.isEqual(C.data)?A!==b&&(r.track({type:3,doc:C}),R=!0):this.su(x,C)||(r.track({type:2,doc:C}),R=!0,(p&&this.eu(C,p)>0||m&&this.eu(C,m)<0)&&(d=!0)):!x&&C?(r.track({type:0,doc:C}),R=!0):x&&!C&&(r.track({type:1,doc:x}),R=!0,(p||m)&&(d=!0)),R&&(C?(c=c.add(C),a=b?a.add(y):a.delete(y)):(c=c.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:c,iu:r,Cs:d,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,_)=>(function(C,A){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:R})}};return b(C)-b(A)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),i=i??!1;const d=n&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new Sl(this.query,e.tu,a,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Y0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new UI(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new FI(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sv="SyncEngine";class I4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class C4{constructor(e){this.key=e,this.hu=!1}}class R4{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ia((d=>nI(d)),Nf),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Ee.comparator),this.Au=new Map,this.Ru=new Ky,this.Vu={},this.mu=new Map,this.fu=bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N4(t,e,n=!0){const r=WI(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await BI(r,e,n,!0),i}async function A4(t,e){const n=WI(t);await BI(n,e,!0,!1)}async function BI(t,e,n,r){const i=await YV(t.localStore,ls(e)),a=i.targetId,c=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await P4(t,e,a,c==="current",i.resumeToken)),t.isPrimaryClient&&n&&AI(t.remoteStore,i),d}async function P4(t,e,n,r,i){t.pu=(_,x,C)=>(async function(b,R,V,F){let U=R.view.ru(V);U.Cs&&(U=await z0(b.localStore,R.query,!1).then((({documents:k})=>R.view.ru(k,U))));const z=F&&F.targetChanges.get(R.targetId),Q=F&&F.targetMismatches.get(R.targetId)!=null,Z=R.view.applyChanges(U,b.isPrimaryClient,z,Q);return eE(b,R.targetId,Z.au),Z.snapshot})(t,_,x,C);const a=await z0(t.localStore,e,!0),c=new S4(e,a.Qs),d=c.ru(a.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=c.applyChanges(d,t.isPrimaryClient,p);eE(t,n,m.au);const y=new I4(e,n,c);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function k4(t,e,n){const r=Me(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((c=>!Nf(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $g(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xy(r.remoteStore,i.targetId),Hg(r,i.targetId)})).catch(Dl)):(Hg(r,i.targetId),await $g(r.localStore,i.targetId,!0))}async function j4(t,e){const n=Me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xy(n.remoteStore,r.targetId))}async function D4(t,e,n){const r=B4(t);try{const i=await(function(c,d){const p=Me(c),m=pt.now(),y=d.reduce(((C,A)=>C.add(A.key)),Ke());let _,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let A=Zs(),b=Ke();return p.Ns.getEntries(C,y).next((R=>{A=R,A.forEach(((V,F)=>{F.isValidDocument()||(b=b.add(V))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,A))).next((R=>{_=R;const V=[];for(const F of d){const U=QL(F,_.get(F.key).overlayedDocument);U!=null&&V.push(new ao(F.key,U,GS(U.value.mapValue),Vr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,m,V,d)})).next((R=>{x=R;const V=R.applyToLocalDocumentSet(_,b);return p.documentOverlayCache.saveOverlays(C,R.batchId,V)}))})).then((()=>({batchId:x.batchId,changes:iI(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,d,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new bt(We)),m=m.insert(d,p),c.Vu[c.currentUser.toKey()]=m})(r,i.batchId,n),await Ru(r,i.changes),await Mf(r.remoteStore)}catch(i){const a=nv(i,"Failed to persist write");n.reject(a)}}async function $I(t,e){const n=Me(t);try{const r=await KV(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const c=n.Au.get(a);c&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?it(c.hu,14607):i.removedDocuments.size>0&&(it(c.hu,42227),c.hu=!1))})),await Ru(n,r,e)}catch(r){await Dl(r)}}function Z0(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,c)=>{const d=c.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(c,d){const p=Me(c);p.onlineState=d;let m=!1;p.queries.forEach(((y,_)=>{for(const x of _.Sa)x.va(d)&&(m=!0)})),m&&rv(p)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O4(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let c=new bt(Ee.comparator);c=c.insert(a,gn.newNoDocument(a,ke.min()));const d=Ke().add(a),p=new jf(ke.min(),new Map,new bt(We),c,d);await $I(r,p),r.du=r.du.remove(a),r.Au.delete(e),iv(r)}else await $g(r.localStore,e,!1).then((()=>Hg(r,e,n))).catch(Dl)}async function M4(t,e){const n=Me(t),r=e.batch.batchId;try{const i=await WV(n.localStore,e);zI(n,r,null),qI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ru(n,i)}catch(i){await Dl(i)}}async function L4(t,e,n){const r=Me(t);try{const i=await(function(c,d){const p=Me(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,d).next((_=>(it(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);zI(r,e,n),qI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ru(r,i)}catch(i){await Dl(i)}}function qI(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function zI(t,e,n){const r=Me(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Hg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||HI(t,r)}))}function HI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Xy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),iv(t))}function eE(t,e,n){for(const r of n)r instanceof FI?(t.Ru.addReference(r.key,e),V4(t,r)):r instanceof UI?(me(sv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||HI(t,r.key)):Ne(19791,{wu:r})}function V4(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(me(sv,"New document in limbo: "+n),t.Eu.add(r),iv(t))}function iv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ee(ft.fromString(e)),r=t.fu.next();t.Au.set(r,new C4(n)),t.du=t.du.insert(n,r),AI(t.remoteStore,new Oi(ls(By(n.path)),r,"TargetPurposeLimboResolution",If.ce))}}async function Ru(t,e,n){const r=Me(t),i=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,p)=>{c.push(r.pu(p,e,n).then((m=>{if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){i.push(m);const y=Qy.As(p.targetId,m);a.push(y)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(p,m){const y=Me(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>te.forEach(m,(x=>te.forEach(x.Es,(C=>y.persistence.referenceDelegate.addReference(_,x.targetId,C))).next((()=>te.forEach(x.ds,(C=>y.persistence.referenceDelegate.removeReference(_,x.targetId,C)))))))))}catch(_){if(!Ol(_))throw _;me(Yy,"Failed to update sequence numbers: "+_)}for(const _ of m){const x=_.targetId;if(!_.fromCache){const C=y.Ms.get(x),A=C.snapshotVersion,b=C.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(x,b)}}})(r.localStore,a))}async function F4(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){me(sv,"User change. New user:",e.toKey());const r=await II(n.localStore,e);n.currentUser=e,(function(a,c){a.mu.forEach((d=>{d.forEach((p=>{p.reject(new fe(ee.CANCELLED,c))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ru(n,r.Ls)}}function U4(t,e){const n=Me(t),r=n.Au.get(e);if(r&&r.hu)return Ke().add(r.key);{let i=Ke();const a=n.Iu.get(e);if(!a)return i;for(const c of a){const d=n.Tu.get(c);i=i.unionWith(d.view.nu)}return i}}function WI(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$I.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O4.bind(null,e),e.Pu.H_=T4.bind(null,e.eventManager),e.Pu.yu=b4.bind(null,e.eventManager),e}function B4(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L4.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return HV(this.persistence,new $V,e.initialUser,this.serializer)}Cu(e){return new SI(Gy.mi,this.serializer)}Du(e){return new JV}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class $4 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof Gh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new SI((r=>Gh.mi(r,n)),this.serializer)}}class Wg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Z0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E4})()}createDatastore(e){const n=Df(e.databaseInfo.databaseId),r=(function(a){return new r4(a)})(e.databaseInfo);return(function(a,c,d,p){return new a4(a,c,d,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,c,d){return new c4(r,i,a,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>Z0(this.syncEngine,n,0)),(function(){return K0.v()?new K0:new ZV})())}createSyncEngine(e,n){return(function(i,a,c,d,p,m,y){const _=new R4(i,a,c,d,p,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Me(n);me(Qo,"RemoteStore shutting down."),r.Ea.add(5),await Cu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wg.provider={build:()=>new Wg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="FirestoreClient";class q4{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mn.UNAUTHENTICATED,this.clientId=Oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{me(eo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(me(eo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress(),me(eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await II(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function tE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await z4(t);me(eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Q0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>Q0(e.remoteStore,i))),t._onlineComponents=e}async function z4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(eo,"Using user provided OfflineComponentProvider");try{await Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ee.FAILED_PRECONDITION||i.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await Gm(t,new Yh)}}else me(eo,"Using default OfflineComponentProvider"),await Gm(t,new $4(void 0));return t._offlineComponents}async function GI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(eo,"Using user provided OnlineComponentProvider"),await tE(t,t._uninitializedComponentsProvider._online)):(me(eo,"Using default OnlineComponentProvider"),await tE(t,new Wg))),t._onlineComponents}function H4(t){return GI(t).then((e=>e.syncEngine))}async function QI(t){const e=await GI(t),n=e.eventManager;return n.onListen=N4.bind(null,e.syncEngine),n.onUnlisten=k4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=j4.bind(null,e.syncEngine),n}function W4(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,p,m){const y=new KI({next:x=>{y.Nu(),c.enqueueAndForget((()=>LI(a,_)));const C=x.docs.has(d);!C&&x.fromCache?m.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&x.fromCache&&p&&p.source==="server"?m.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),_=new VI(By(d.path),y,{includeMetadataChanges:!0,qa:!0});return MI(a,_)})(await QI(t),t.asyncQueue,e,n,r))),r.promise}function K4(t,e,n={}){const r=new qs;return t.asyncQueue.enqueueAndForget((async()=>(function(a,c,d,p,m){const y=new KI({next:x=>{y.Nu(),c.enqueueAndForget((()=>LI(a,_))),x.fromCache&&p.source==="server"?m.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),_=new VI(d,y,{includeMetadataChanges:!0,qa:!0});return MI(a,_)})(await QI(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firestore.googleapis.com",rE=!0;class sE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XI,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SV)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YI(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZM;switch(r.type){case"firstParty":return new rL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=nE.get(n);r&&(me("ComponentProvider","Removing Datastore"),nE.delete(n),r.terminate())})(this),Promise.resolve()}}function G4(t,e,n,r={}){t=Js(t,Lf);const i=ta(e),a=t._getSettings(),c={...a,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;i&&(Ty(`https://${d}`),by("Firestore",!0)),a.host!==XI&&a.host!==d&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...a,host:d,ssl:i,emulatorOptions:r};if(!Gi(p,c)&&(t._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=mn.MOCK_USER;else{m=Fb(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(_)}t._authCredentials=new eL(new MS(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Lt._jsonSchema))return new Lt(e,r||null,new Ee(ft.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Mt("string",Lt._jsonSchemaVersion),referencePath:Mt("string")};class Ui extends lo{constructor(e,n,r){super(e,n,By(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ee(e))}withConverter(e){return new Ui(this.firestore,e,this._path)}}function Zt(t,e,...n){if(t=Pt(t),LS("collection","path",e),t instanceof Lf){const r=ft.fromString(e,...n);return y0(r),new Ui(t,null,r)}{if(!(t instanceof Lt||t instanceof Ui))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return y0(r),new Ui(t.firestore,null,r)}}function Sn(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=Oy.newId()),LS("doc","path",e),t instanceof Lf){const r=ft.fromString(e,...n);return g0(r),new Lt(t,null,new Ee(r))}{if(!(t instanceof Lt||t instanceof Ui))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ft.fromString(e,...n));return g0(r),new Lt(t.firestore,t instanceof Ui?t.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RI(this,"async_queue_retry"),this._c=()=>{const r=Km();r&&me(iE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ol(e))throw e;me(iE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xs("INTERNAL UNHANDLED ERROR: ",aE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=tv.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ne(47125,{Pc:aE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vl extends Lf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new oE,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function Q4(t,e){const n=typeof t=="object"?t:xf(),r=typeof t=="string"?t:Bh,i=ro(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Mb("firestore");a&&G4(i,...a)}return i}function ov(t){if(t._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Y4(t),t._firestoreClient}function Y4(t){const e=t._freezeSettings(),n=(function(i,a,c,d){return new _L(i,a,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,YI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new q4(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pr(cn.fromBase64String(e))}catch(n){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,pr._jsonSchema))return pr.fromBase64String(e.bytes)}}pr._jsonSchemaVersion="firestore/bytes/1.0",pr._jsonSchema={type:Mt("string",pr._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:us._jsonSchemaVersion}}static fromJSON(e){if(bu(e,us._jsonSchema))return new us(e.latitude,e.longitude)}}us._jsonSchemaVersion="firestore/geoPoint/1.0",us._jsonSchema={type:Mt("string",us._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ds._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,ds._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ds(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ds._jsonSchemaVersion="firestore/vectorValue/1.0",ds._jsonSchema={type:Mt("string",ds._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=/^__.*__$/;class J4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class JI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:t})}}class lv{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new lv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ZI(this.Ac)&&X4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Z4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Df(e)}Cc(e,n,r,i=!1){return new lv({Ac:e,methodName:n,Dc:r,path:ln.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cv(t){const e=t._freezeSettings(),n=Df(t._databaseId);return new Z4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eF(t,e,n,r,i,a={}){const c=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);uv("Data must be an object, but it was:",c,r);const d=eC(r,c);let p,m;if(a.merge)p=new Jn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const x=Kg(e,_,n);if(!c.contains(x))throw new fe(ee.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);nC(y,x)||y.push(x)}p=new Jn(y),m=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,m=c.fieldTransforms;return new J4(new On(d),p,m)}class Ff extends av{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ff}}function tF(t,e,n,r){const i=t.Cc(1,e,n);uv("Data must be an object, but it was:",i,r);const a=[],c=On.empty();oo(r,((p,m)=>{const y=dv(e,p,n);m=Pt(m);const _=i.yc(y);if(m instanceof Ff)a.push(y);else{const x=Nu(m,_);x!=null&&(a.push(y),c.set(y,x))}}));const d=new Jn(a);return new JI(c,d,i.fieldTransforms)}function nF(t,e,n,r,i,a){const c=t.Cc(1,e,n),d=[Kg(e,r,n)],p=[i];if(a.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)d.push(Kg(e,a[x])),p.push(a[x+1]);const m=[],y=On.empty();for(let x=d.length-1;x>=0;--x)if(!nC(m,d[x])){const C=d[x];let A=p[x];A=Pt(A);const b=c.yc(C);if(A instanceof Ff)m.push(C);else{const R=Nu(A,b);R!=null&&(m.push(C),y.set(C,R))}}const _=new Jn(m);return new JI(y,_,c.fieldTransforms)}function rF(t,e,n,r=!1){return Nu(n,t.Cc(r?4:3,e))}function Nu(t,e){if(tC(t=Pt(t)))return uv("Unsupported field value:",e,t),eC(t,e);if(t instanceof av)return(function(r,i){if(!ZI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let c=0;for(const d of r){let p=Nu(d,i.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pt.fromDate(r);return{timestampValue:Kh(i.serializer,a)}}if(r instanceof pt){const a=new pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kh(i.serializer,a)}}if(r instanceof us)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pr)return{bytesValue:yI(i.serializer,r._byteString)};if(r instanceof Lt){const a=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ds)return(function(c,d){return{mapValue:{fields:{[WS]:{stringValue:KS},[$h]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return $y(d.serializer,m)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Sf(r)}`)})(t,e)}function eC(t,e){const n={};return US(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oo(t,((r,i)=>{const a=Nu(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function tC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof us||t instanceof pr||t instanceof Lt||t instanceof av||t instanceof ds)}function uv(t,e,n){if(!tC(n)||!VS(n)){const r=Sf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Kg(t,e,n){if((e=Pt(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return dv(t,e);throw Xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const sF=new RegExp("[~\\*/\\[\\]]");function dv(t,e,n){if(e.search(sF)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vf(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xh(t,e,n,r,i){const a=r&&!r.isEmpty(),c=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${r}`),c&&(p+=` in document ${i}`),p+=")"),new fe(ee.INVALID_ARGUMENT,d+t+p)}function nC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iF extends rC{data(){return super.data()}}function Uf(t,e){return typeof e=="string"?dv(t,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hv{}class fv extends hv{}function ti(t,e,...n){let r=[];e instanceof hv&&r.push(e),r=r.concat(n),(function(a){const c=a.filter((p=>p instanceof pv)).length,d=a.filter((p=>p instanceof Bf)).length;if(c>1||c>0&&d>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Bf extends fv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bf(e,n,r)}_apply(e){const n=this._parse(e);return sC(e._query,n),new lo(e.firestore,e.converter,Lg(e._query,n))}_parse(e){const n=cv(e.firestore);return(function(a,c,d,p,m,y,_){let x;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){cE(_,y);const A=[];for(const b of _)A.push(lE(p,a,b));x={arrayValue:{values:A}}}else x=lE(p,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||cE(_,y),x=rF(d,c,_,y==="in"||y==="not-in");return Ot.create(m,y,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fl(t,e,n){const r=e,i=Uf("where",t);return Bf._create(i,r,n)}class pv extends hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pv(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let c=i;const d=a.getFlattenedFilters();for(const p of d)sC(c,p),c=Lg(c,p)})(e._query,n),new lo(e.firestore,e.converter,Lg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class mv extends fv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new mv(e,n)}_apply(e){const n=(function(i,a,c){if(i.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hu(a,c)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,(function(i,a){const c=i.explicitOrderBy.concat([a]);return new Ml(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Ul(t,e="asc"){const n=e,r=Uf("orderBy",t);return mv._create(r,n)}class gv extends fv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gv(e,n,r)}_apply(e){return new lo(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function aF(t){return gv._create("limit",t,"F")}function lE(t,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tI(e)&&n.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ft.fromString(n));if(!Ee.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return S0(t,new Ee(r))}if(n instanceof Lt)return S0(t,n._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(n)}.`)}function cE(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sC(t,e){const n=(function(i,a){for(const c of i)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class lF{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oo(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[$h].arrayValue?.values?.map((r=>At(r.doubleValue)));return new ds(n)}convertGeoPoint(e){return new us(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ft.fromString(e);it(TI(r),9688,{name:e});const i=new uu(r.get(1),r.get(3)),a=new Ee(r.popFirst(5));return i.isEqual(n)||Xs(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class qc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $o extends rC{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Uf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:Mt("string",$o._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Th extends $o{data(e={}){return super.data(e)}}class pl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Th(this._firestore,this._userDataWriter,r.key,r,new qc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((d=>{const p=new Th(i._firestore,i._userDataWriter,d.doc.key,d.doc,new qc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const p=new Th(i._firestore,i._userDataWriter,d.doc.key,d.doc,new qc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:uF(d.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t){t=Js(t,Lt);const e=Js(t.firestore,Vl);return W4(ov(e),t._key).then((n=>hF(e,t,n)))}pl._jsonSchemaVersion="firestore/querySnapshot/1.0",pl._jsonSchema={type:Mt("string",pl._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class iC extends lF{constructor(e){super(),this.firestore=e}convertBytes(e){return new pr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function vr(t){t=Js(t,lo);const e=Js(t.firestore,Vl),n=ov(e),r=new iC(e);return oF(t._query),K4(n,t._query).then((i=>new pl(e,r,t,i)))}function to(t,e,n,...r){t=Js(t,Lt);const i=Js(t.firestore,Vl),a=cv(i);let c;return c=typeof(e=Pt(e))=="string"||e instanceof Vf?nF(a,"updateDoc",t._key,e,n,r):tF(a,"updateDoc",t._key,e),yv(i,[c.toMutation(t._key,Vr.exists(!0))])}function dF(t){return yv(Js(t.firestore,Vl),[new qy(t._key,Vr.none())])}function Bl(t,e){const n=Js(t.firestore,Vl),r=Sn(t),i=cF(t.converter,e);return yv(n,[eF(cv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Vr.exists(!1))]).then((()=>r))}function yv(t,e){return(function(r,i){const a=new qs;return r.asyncQueue.enqueueAndForget((async()=>D4(await H4(r),i,a))),a.promise})(ov(t),e)}function hF(t,e,n){const r=n.docs.get(e._key),i=new iC(t);return new $o(t,i,e._key,r,new qc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jl=i})(ra),Br(new mr("firestore",((r,{instanceIdentifier:i,options:a})=>{const c=r.getProvider("app").getImmediate(),d=new Vl(new tL(r.getProvider("auth-internal")),new sL(c,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(m.options.projectId,y)})(c,i),c);return a={useFetchStreams:n,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Mn(h0,f0,e),Mn(h0,f0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebasestorage.googleapis.com",fF="storageBucket",pF=120*1e3,mF=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends yr{constructor(e,n,r=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ws.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ys;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ys||(ys={}));function Qm(t){return"storage/"+t}function gF(){const t="An unknown error occurred, please check the error payload for server response.";return new ws(ys.UNKNOWN,t)}function yF(){return new ws(ys.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vF(){return new ws(ys.CANCELED,"User canceled the upload/download.")}function wF(t){return new ws(ys.INVALID_URL,"Invalid URL '"+t+"'.")}function _F(t){return new ws(ys.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uE(t){return new ws(ys.INVALID_ARGUMENT,t)}function aC(){return new ws(ys.APP_DELETED,"The Firebase app was deleted.")}function xF(t){return new ws(ys.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Lr.makeFromUrl(e,n)}catch{return new Lr(e,"")}if(r.path==="")return r;throw _F(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+i+c,"i"),p={bucket:1,path:3};function m(z){z.path_=decodeURIComponent(z.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",C=new RegExp(`^https?://${_}/${y}/b/${i}/o${x}`,"i"),A={bucket:1,path:3},b=n===oC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",V=new RegExp(`^https?://${b}/${i}/${R}`,"i"),U=[{regex:d,indices:p,postModify:a},{regex:C,indices:A,postModify:m},{regex:V,indices:{bucket:1,path:2},postModify:m}];for(let z=0;z<U.length;z++){const Q=U[z],Z=Q.regex.exec(e);if(Z){const k=Z[Q.indices.bucket];let S=Z[Q.indices.path];S||(S=""),r=new Lr(k,S),Q.postModify(r);break}}if(r==null)throw wF(e);return r}}class EF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e,n){let r=1,i=null,a=null,c=!1,d=0;function p(){return d===2}let m=!1;function y(...R){m||(m=!0,e.apply(null,R))}function _(R){i=setTimeout(()=>{i=null,t(C,p())},R)}function x(){a&&clearTimeout(a)}function C(R,...V){if(m){x();return}if(R){x(),y.call(null,R,...V);return}if(p()||c){x(),y.call(null,R,...V);return}r<64&&(r*=2);let U;d===1?(d=2,U=0):U=(r+Math.random())*1e3,_(U)}let A=!1;function b(R){A||(A=!0,x(),!m&&(i!==null?(R||(d=2),clearTimeout(i),_(0)):R||(d=1)))}return _(0),a=setTimeout(()=>{c=!0,b(!0)},n),b}function bF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SF(t){return t!==void 0}function dE(t,e,n,r){if(r<e)throw uE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uE(`Invalid value for '${t}'. Expected ${n} or less.`)}function IF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Jh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jh||(Jh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n,r,i,a,c,d,p,m,y,_,x=!0,C=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=x,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,b)=>{this.resolve_=A,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new oh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const c=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const d=a.getErrorCode()===Jh.NO_ERROR,p=a.getStatus();if(!d||CF(p,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===Jh.ABORT;r(!1,new oh(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new oh(m,a))})},n=(r,i)=>{const a=this.resolve_,c=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());SF(p)?a(p):a()}catch(p){c(p)}else if(d!==null){const p=gF();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(i.canceled){const p=this.appDelete_?aC():vF();c(p)}else{const p=yF();c(p)}};this.canceled_?n(!1,new oh(!1,null,!0)):this.backoffId_=TF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function NF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function AF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function kF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jF(t,e,n,r,i,a,c=!0,d=!1){const p=IF(t.urlParams),m=t.url+p,y=Object.assign({},t.headers);return PF(y,e),NF(y,n),AF(y,a),kF(y,r),new RF(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n){this._service=e,n instanceof Lr?this._location=n:this._location=Lr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zh(e,n)}get root(){const e=new Lr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OF(this._location.path)}get storage(){return this._service}get parent(){const e=DF(this._location.path);if(e===null)return null;const n=new Lr(this._location.bucket,e);return new Zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xF(e)}}function hE(t,e){const n=e?.[fF];return n==null?null:Lr.makeFromBucketSpec(n,t)}function MF(t,e,n,r={}){t.host=`${e}:${n}`;const i=ta(e);i&&(Ty(`https://${t.host}/b`),by("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Fb(a,t.app.options.projectId))}class LF{constructor(e,n,r,i,a,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=c,this._bucket=null,this._host=oC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pF,this._maxUploadRetryTime=mF,this._requests=new Set,i!=null?this._bucket=Lr.makeFromBucketSpec(i,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Lr.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zh(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new EF(aC());{const c=jF(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fE="@firebase/storage",pE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="storage";function VF(t=xf(),e){t=Pt(t);const r=ro(t,lC).getImmediate({identifier:e}),i=Mb("storage");return i&&FF(r,...i),r}function FF(t,e,n,r={}){MF(t,e,n,r)}function UF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new LF(n,r,i,e,ra)}function BF(){Br(new mr(lC,UF,"PUBLIC").setMultipleInstances(!0)),Mn(fE,pE,""),Mn(fE,pE,"esm2020")}BF();const cC="@firebase/installations",vv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1e4,dC=`w:${vv}`,hC="FIS_v2",$F="https://firebaseinstallations.googleapis.com/v1",qF=3600*1e3,zF="installations",HF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yo=new na(zF,HF,WF);function fC(t){return t instanceof yr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC({projectId:t}){return`${$F}/projects/${t}/installations`}function mC(t){return{token:t.token,requestStatus:2,expiresIn:GF(t.expiresIn),creationTime:Date.now()}}async function gC(t,e){const r=(await e.json()).error;return Yo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function yC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function KF(t,{refreshToken:e}){const n=yC(t);return n.append("Authorization",QF(e)),n}async function vC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GF(t){return Number(t.replace("s","000"))}function QF(t){return`${hC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=pC(t),i=yC(t),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={fid:n,authVersion:hC,appId:t.appId,sdkVersion:dC},d={method:"POST",headers:i,body:JSON.stringify(c)},p=await vC(()=>fetch(r,d));if(p.ok){const m=await p.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:mC(m.authToken)}}else throw await gC("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=/^[cdef][\w-]{21}$/,Gg="";function ZF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=e3(t);return JF.test(n)?n:Gg}catch{return Gg}}function e3(t){return XF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map;function xC(t,e){const n=$f(t);EC(n,e),t3(n,e)}function EC(t,e){const n=_C.get(t);if(n)for(const r of n)r(e)}function t3(t,e){const n=n3();n&&n.postMessage({key:t,fid:e}),r3()}let Bo=null;function n3(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=t=>{EC(t.data.key,t.data.fid)}),Bo}function r3(){_C.size===0&&Bo&&(Bo.close(),Bo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="firebase-installations-database",i3=1,Xo="firebase-installations-store";let Ym=null;function wv(){return Ym||(Ym=Hb(s3,i3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xo)}}})),Ym}async function ef(t,e){const n=$f(t),i=(await wv()).transaction(Xo,"readwrite"),a=i.objectStore(Xo),c=await a.get(n);return await a.put(e,n),await i.done,(!c||c.fid!==e.fid)&&xC(t,e.fid),e}async function TC(t){const e=$f(t),r=(await wv()).transaction(Xo,"readwrite");await r.objectStore(Xo).delete(e),await r.done}async function qf(t,e){const n=$f(t),i=(await wv()).transaction(Xo,"readwrite"),a=i.objectStore(Xo),c=await a.get(n),d=e(c);return d===void 0?await a.delete(n):await a.put(d,n),await i.done,d&&(!c||c.fid!==d.fid)&&xC(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _v(t){let e;const n=await qf(t.appConfig,r=>{const i=o3(r),a=a3(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Gg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function o3(t){const e=t||{fid:ZF(),registrationStatus:0};return bC(e)}function a3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Yo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=l3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:c3(t)}:{installationEntry:e}}async function l3(t,e){try{const n=await YF(t,e);return ef(t.appConfig,n)}catch(n){throw fC(n)&&n.customData.serverCode===409?await TC(t.appConfig):await ef(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function c3(t){let e=await mE(t.appConfig);for(;e.registrationStatus===1;)await wC(100),e=await mE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await _v(t);return r||n}return e}function mE(t){return qf(t,e=>{if(!e)throw Yo.create("installation-not-found");return bC(e)})}function bC(t){return u3(t)?{fid:t.fid,registrationStatus:0}:t}function u3(t){return t.registrationStatus===1&&t.registrationTime+uC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d3({appConfig:t,heartbeatServiceProvider:e},n){const r=h3(t,n),i=KF(t,n),a=e.getImmediate({optional:!0});if(a){const m=await a.getHeartbeatsHeader();m&&i.append("x-firebase-client",m)}const c={installation:{sdkVersion:dC,appId:t.appId}},d={method:"POST",headers:i,body:JSON.stringify(c)},p=await vC(()=>fetch(r,d));if(p.ok){const m=await p.json();return mC(m)}else throw await gC("Generate Auth Token",p)}function h3(t,{fid:e}){return`${pC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xv(t,e=!1){let n;const r=await qf(t.appConfig,a=>{if(!SC(a))throw Yo.create("not-registered");const c=a.authToken;if(!e&&m3(c))return a;if(c.requestStatus===1)return n=f3(t,e),a;{if(!navigator.onLine)throw Yo.create("app-offline");const d=y3(a);return n=p3(t,d),d}});return n?await n:r.authToken}async function f3(t,e){let n=await gE(t.appConfig);for(;n.authToken.requestStatus===1;)await wC(100),n=await gE(t.appConfig);const r=n.authToken;return r.requestStatus===0?xv(t,e):r}function gE(t){return qf(t,e=>{if(!SC(e))throw Yo.create("not-registered");const n=e.authToken;return v3(n)?{...e,authToken:{requestStatus:0}}:e})}async function p3(t,e){try{const n=await d3(t,e),r={...e,authToken:n};return await ef(t.appConfig,r),n}catch(n){if(fC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await TC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ef(t.appConfig,r)}throw n}}function SC(t){return t!==void 0&&t.registrationStatus===2}function m3(t){return t.requestStatus===2&&!g3(t)}function g3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+qF}function y3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function v3(t){return t.requestStatus===1&&t.requestTime+uC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t){const e=t,{installationEntry:n,registrationPromise:r}=await _v(e);return r?r.catch(console.error):xv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _3(t,e=!1){const n=t;return await x3(n),(await xv(n,e)).token}async function x3(t){const{registrationPromise:e}=await _v(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){if(!t||!t.options)throw Xm("App Configuration");if(!t.name)throw Xm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xm(t){return Yo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="installations",T3="installations-internal",b3=t=>{const e=t.getProvider("app").getImmediate(),n=E3(e),r=ro(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},S3=t=>{const e=t.getProvider("app").getImmediate(),n=ro(e,IC).getImmediate();return{getId:()=>w3(n),getToken:i=>_3(n,i)}};function I3(){Br(new mr(IC,b3,"PUBLIC")),Br(new mr(T3,S3,"PRIVATE"))}I3();Mn(cC,vv);Mn(cC,vv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="analytics",C3="firebase_id",R3="origin",N3=60*1e3,A3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ev="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new _f("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},er=new na("analytics","Analytics",P3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){if(!t.startsWith(Ev)){const e=er.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function CC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function j3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function D3(t,e){const n=j3("firebase-js-sdk-policy",{createScriptURL:k3}),r=document.createElement("script"),i=`${Ev}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function O3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function M3(t,e,n,r,i,a){const c=r[i];try{if(c)await e[c];else{const p=(await CC(n)).find(m=>m.measurementId===i);p&&await e[p.appId]}}catch(d){Ln.error(d)}t("config",i,a)}async function L3(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const d=await CC(n);for(const p of c){const m=d.find(_=>_.measurementId===p),y=m&&e[m.appId];if(y)a.push(y);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Ln.error(a)}}function V3(t,e,n,r){async function i(a,...c){try{if(a==="event"){const[d,p]=c;await L3(t,e,n,d,p)}else if(a==="config"){const[d,p]=c;await M3(t,e,n,r,d,p)}else if(a==="consent"){const[d,p]=c;t("consent",d,p)}else if(a==="get"){const[d,p,m]=c;t("get",d,p,m)}else if(a==="set"){const[d]=c;t("set",d)}else t(a,...c)}catch(d){Ln.error(d)}}return i}function F3(t,e,n,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=V3(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function U3(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ev)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=30,$3=1e3;class q3{constructor(e={},n=$3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const RC=new q3;function z3(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function H3(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:z3(n)},i=A3.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let c="";try{const d=await a.json();d.error?.message&&(c=d.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c})}return a.json()}async function W3(t,e=RC,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw er.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw er.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new Q3;return setTimeout(async()=>{d.abort()},N3),NC({appId:r,apiKey:i,measurementId:a},c,d,e)}async function NC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=RC){const{appId:a,measurementId:c}=t;try{await K3(r,e)}catch(d){if(c)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:c};throw d}try{const d=await H3(t);return i.deleteThrottleMetadata(a),d}catch(d){const p=d;if(!G3(p)){if(i.deleteThrottleMetadata(a),c)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:a,measurementId:c};throw d}const m=Number(p?.customData?.httpStatus)===503?Mx(n,i.intervalMillis,B3):Mx(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:n+1};return i.setThrottleMetadata(a,y),Ln.debug(`Calling attemptFetch again in ${m} millis`),NC(t,y,r,i)}}function K3(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(er.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function G3(t){if(!(t instanceof yr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Q3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Y3(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,c={...r,send_to:a};t("event",n,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(){if(Bb())try{await $b()}catch(t){return Ln.warn(er.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ln.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function J3(t,e,n,r,i,a,c){const d=W3(t);d.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ln.error(x)),e.push(d);const p=X3().then(x=>{if(x)return r.getId()}),[m,y]=await Promise.all([d,p]);U3(a)||D3(a,m.measurementId),i("js",new Date);const _=c?.config??{};return _[R3]="firebase",_.update=!0,y!=null&&(_[C3]=y),i("config",m.measurementId,_),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.app=e}_delete(){return delete Jc[this.app.options.appId],Promise.resolve()}}let Jc={},yE=[];const vE={};let Jm="dataLayer",eU="gtag",wE,AC,_E=!1;function tU(){const t=[];if(Ub()&&t.push("This is a browser extension environment."),yD()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=er.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function nU(t,e,n){tU();const r=t.options.appId;if(!r)throw er.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw er.create("no-api-key");if(Jc[r]!=null)throw er.create("already-exists",{id:r});if(!_E){O3(Jm);const{wrappedGtag:a,gtagCore:c}=F3(Jc,yE,vE,Jm,eU);AC=a,wE=c,_E=!0}return Jc[r]=J3(t,yE,vE,e,wE,Jm,n),new Z3(t)}function rU(t=xf()){t=Pt(t);const e=ro(t,tf);return e.isInitialized()?e.getImmediate():sU(t)}function sU(t,e={}){const n=ro(t,tf);if(n.isInitialized()){const i=n.getImmediate();if(Gi(e,n.getOptions()))return i;throw er.create("already-initialized")}return n.initialize({options:e})}function iU(t,e,n,r){t=Pt(t),Y3(AC,Jc[t.app.options.appId],e,n,r).catch(i=>Ln.error(i))}const xE="@firebase/analytics",EE="0.10.18";function oU(){Br(new mr(tf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return nU(r,i,n)},"PUBLIC")),Br(new mr("analytics-internal",t,"PRIVATE")),Mn(xE,EE),Mn(xE,EE,"esm2020");function t(e){try{const n=e.getProvider(tf).getImmediate();return{logEvent:(r,i,a)=>iU(n,r,i,a)}}catch(n){throw er.create("interop-component-reg-failed",{reason:n})}}}oU();const aU={apiKey:"AIzaSyDR5V0npjgER23v711L52cYclOKbaA80v4",authDomain:"keys1000-4ce89.firebaseapp.com",projectId:"keys1000-4ce89",storageBucket:"keys1000-4ce89.firebasestorage.app",messagingSenderId:"493432398338",appId:"1:493432398338:web:7116f62b36a7ee8d967d1b",measurementId:"G-JGS5HGL2KQ"},zf=$x().length===0?Wb(aU):$x()[0],nf=QM(zf),nt=Q4(zf);VF(zf);rU(zf);const rt={users:"cmt_rplt_users",committees:"cmt_rplt_committees",payments:"cmt_rplt_payments",payouts:"cmt_rplt_payouts",notifications:"cmt_rplt_notifications",joinRequests:"cmt_rplt_join_requests"},It=t=>{const e={...t};return Object.keys(e).forEach(n=>{e[n]instanceof pt&&(e[n]=e[n].toDate())}),e};async function lU(t){const e=await Bl(Zt(nt,rt.users),{...t,createdAt:new Date,updatedAt:new Date}),n=await Fn(e);return{id:e.id,...It(n.data())}}async function cU(t){const e=ti(Zt(nt,rt.users),Fl("firebaseUid","==",t)),n=await vr(e);if(n.empty)return null;const r=n.docs[0];return{id:r.id,...It(r.data())}}async function Tv(t){const e=Sn(nt,rt.users,t),n=await Fn(e);return n.exists()?{id:n.id,...It(n.data())}:null}async function bv(){return(await vr(Zt(nt,rt.users))).docs.map(e=>({id:e.id,...It(e.data())}))}async function rf(t,e){const n=Sn(nt,rt.users,t);await to(n,{...e,updatedAt:new Date})}async function uU(t){const e={...t,status:"active",members:[],currentRound:1,createdAt:new Date,updatedAt:new Date};console.log("Creating committee with data:",e);const n=await Bl(Zt(nt,rt.committees),e),r=await Fn(n),i={id:n.id,...It(r.data())};return console.log("Created committee:",i),i}async function Sv(){const e=(await vr(ti(Zt(nt,rt.committees),Ul("createdAt","desc")))).docs.map(async n=>{const r={id:n.id,...It(n.data())},a=(await PC(r.id)).length;return{...r,actualMembersCount:a}});return Promise.all(e)}async function PC(t){const e=await Fn(Sn(nt,rt.committees,t));if(!e.exists())return[];const r={id:e.id,...It(e.data())}.members||[];if(r.length===0)return[];const i=r.map(async c=>{const d=await Fn(Sn(nt,rt.users,c));return d.exists()?{id:d.id,...It(d.data())}:null});return(await Promise.all(i)).filter(Boolean)}async function dU(t){const e=Sn(nt,rt.committees,t),n=await Fn(e);return n.exists()?{id:n.id,...It(n.data())}:null}async function hU(){try{const t=ti(Zt(nt,rt.committees),Fl("status","==","active")),n=(await vr(t)).docs.map(r=>({id:r.id,...It(r.data())})).filter(r=>{const i=r.members||[],a=i.length<r.memberCount;return console.log(`Committee ${r.name}: members=${i.length}, memberCount=${r.memberCount}, hasSlots=${a}`),a}).sort((r,i)=>i.createdAt.getTime()-r.createdAt.getTime());return console.log(`Available committees found: ${n.length}`),n}catch(t){throw console.error("Error fetching available committees:",t),t}}async function Hf(t){const e=ti(Zt(nt,rt.committees),Fl("members","array-contains",t));return(await vr(e)).docs.map(r=>({id:r.id,...It(r.data())}))}async function fU(t,e){const n=Sn(nt,rt.committees,t);await to(n,{...e,updatedAt:new Date})}async function pU(t){const e=await Bl(Zt(nt,rt.payments),{...t,status:"pending",submittedAt:new Date}),n=await Fn(e);return{id:e.id,...It(n.data())}}async function kC(){return(await vr(ti(Zt(nt,rt.payments),Ul("submittedAt","desc")))).docs.map(e=>({id:e.id,...It(e.data())}))}async function jC(t){const e=ti(Zt(nt,rt.payments),Fl("userId","==",t),Ul("submittedAt","desc"));return(await vr(e)).docs.map(r=>({id:r.id,...It(r.data())}))}async function mU(t){const e=await jC(t);return await Promise.all(e.map(async r=>{let i=null;return r.reviewedBy&&(i=(await Tv(r.reviewedBy))?.name||"Unknown"),{...r,reviewerName:i}}))}async function gU(t,e,n){const r=Sn(nt,rt.payments,t);await to(r,{status:"approved",reviewedAt:new Date,reviewedBy:e,remarks:n||""})}async function yU(t,e,n){const r=Sn(nt,rt.payments,t);await to(r,{status:"rejected",reviewedAt:new Date,reviewedBy:e,remarks:n})}async function DC(t){const e=Sn(nt,rt.payments,t);await dF(e)}async function vU(t){const e=await Bl(Zt(nt,rt.payouts),{...t,status:"pending",createdAt:new Date}),n=await Fn(e);return{id:e.id,...It(n.data())}}async function OC(){return(await vr(ti(Zt(nt,rt.payouts),Ul("createdAt","desc")))).docs.map(e=>({id:e.id,...It(e.data())}))}async function wU(t){const e=ti(Zt(nt,rt.payouts),Fl("userId","==",t),Ul("createdAt","desc"));return(await vr(e)).docs.map(r=>({id:r.id,...It(r.data())}))}async function MC(t){const e=await Bl(Zt(nt,rt.notifications),{...t,read:!1,createdAt:new Date}),n=await Fn(e);return{id:e.id,...It(n.data())}}async function _U(t){const e=ti(Zt(nt,rt.notifications),Fl("userId","==",t),Ul("createdAt","desc"),aF(50));return(await vr(e)).docs.map(r=>({id:r.id,...It(r.data())}))}async function xU(t){const e=Sn(nt,rt.notifications,t);await to(e,{read:!0})}async function EU(t){const e=await Bl(Zt(nt,rt.joinRequests),{...t,status:"pending",requestedAt:new Date}),n=await Fn(e);return{id:e.id,...It(n.data())}}async function TU(){return(await vr(Zt(nt,rt.joinRequests))).docs.map(n=>({id:n.id,...It(n.data())})).filter(n=>n.status==="pending").sort((n,r)=>new Date(r.requestedAt).getTime()-new Date(n.requestedAt).getTime())}async function bU(t){return(await vr(Zt(nt,rt.joinRequests))).docs.map(r=>({id:r.id,...It(r.data())})).filter(r=>r.userId===t).sort((r,i)=>new Date(i.requestedAt).getTime()-new Date(r.requestedAt).getTime())}async function SU(t,e){const n=Sn(nt,rt.joinRequests,t),r=await Fn(n);if(!r.exists())throw new Error("Join request not found");const i=r.data();await to(n,{status:"approved",reviewedAt:new Date,reviewedBy:e});const a=Sn(nt,rt.committees,i.committeeId),c=await Fn(a);if(!c.exists())throw new Error("Committee not found");const d=c.data(),p=[...d.members,i.userId];await to(a,{members:p,updatedAt:new Date}),await MC({userId:i.userId,title:"Join Request Approved",message:`Your request to join ${d?.name||"a committee"} has been approved!`,type:"join_approved"})}async function IU(t,e){const n=Sn(nt,rt.joinRequests,t),r=await Fn(n);if(!r.exists())throw new Error("Join request not found");const i=r.data();await to(n,{status:"rejected",reviewedAt:new Date,reviewedBy:e});const a=Sn(nt,rt.committees,i.committeeId),c=await Fn(a),d=c.exists()?c.data().name:"the committee";await MC({userId:i.userId,title:"Join Request Rejected",message:`Your request to join ${d} has been rejected.`,type:"join_rejected"})}const LC=T.createContext(void 0);function en(){const t=T.useContext(LC);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function CU({children:t}){const[e,n]=T.useState(null),[r,i]=T.useState(null),[a,c]=T.useState(!0),d=async()=>{await VO(nf),n(null),i(null)};T.useEffect(()=>LO(nf,async y=>{if(n(y),y)try{const _=await cU(y.uid);i(_)}catch(_){console.error("Error fetching user data:",_),i(null)}else i(null);c(!1)}),[]);const p={currentUser:e,userData:r,loading:a,logout:d};return u.jsx(LC.Provider,{value:p,children:!a&&t})}const RU=hf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gradient:"gradient-bg text-black hover:opacity-90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const c=r?q1:"button";return u.jsx(c,{className:je(RU({variant:e,size:n,className:t})),ref:a,...i})});xe.displayName="Button";function Wf({children:t,className:e}){return u.jsx("h1",{className:je("gradient-text font-bold",e),children:t})}const NU=[{path:"/admin/dashboard",label:"Dashboard",icon:OT},{path:"/admin/committees",label:"Committees",icon:tu},{path:"/admin/join-requests",label:"Join Requests",icon:Rh},{path:"/admin/payments",label:"Payments",icon:FT},{path:"/admin/payouts",label:"Payouts",icon:gg},{path:"/admin/users",label:"Users",icon:dy},{path:"/admin/settings",label:"Settings",icon:$T}],AU=[{path:"/user/dashboard",label:"My Dashboard",icon:OT},{path:"/user/available-committees",label:"Available Committees",icon:BT},{path:"/user/my-payments",label:"My Payments",icon:BP},{path:"/user/my-payouts",label:"My Payouts",icon:qT},{path:"/user/notifications",label:"Notifications",icon:ol},{path:"/user/settings",label:"Settings",icon:$T}];function PU(){const[t]=ei(),{userData:e,logout:n}=en();if(!e)return null;const r=e.role==="admin"?NU:AU,i=e.role==="admin"?"Admin Dashboard":"User Dashboard";return u.jsxs("aside",{className:"w-64 bg-secondary border-r border-accent-orange/30 min-h-screen",children:[u.jsxs("div",{className:"p-6",children:[u.jsx(Wf,{className:"text-xl mb-1",children:"Committee ROSCA"}),u.jsx("p",{className:"text-secondary text-sm",children:i})]}),u.jsx("nav",{className:"px-4 space-y-2",children:r.map(a=>{const c=a.icon,d=t===a.path;return u.jsx(ZA,{href:a.path,children:u.jsxs(xe,{variant:d?"secondary":"ghost",className:`w-full justify-start text-left ${d?"bg-accent-orange/20 text-accent-orange border-accent-orange/30":"hover:bg-primary/50 text-primary hover:text-primary"}`,"data-testid":`nav-${a.label.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsx(c,{className:"mr-3 h-4 w-4 text-accent-cyan"}),a.label]})},a.path)})}),u.jsx("div",{className:"absolute bottom-6 left-4 right-4",children:u.jsxs(xe,{variant:"ghost",className:"justify-start text-red-400 hover:bg-red-500/20",onClick:n,"data-testid":"button-logout",children:[u.jsx(VP,{className:"mr-3 h-4 w-4"}),"Logout"]})})]})}function kU({title:t}){const{userData:e}=en();if(!e)return null;const n=e.fullName.split(" ").map(r=>r.charAt(0)).join("").toUpperCase();return u.jsx("header",{className:"bg-secondary border-b border-accent-orange/30 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Wf,{className:"text-2xl",children:t}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(xe,{variant:"ghost",size:"icon",className:"hover:bg-primary/50","data-testid":"button-notifications",children:u.jsx(ol,{className:"h-5 w-5 text-accent-cyan"})}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-8 h-8 gradient-bg rounded-full flex items-center justify-center text-black font-bold","data-testid":"user-avatar",children:u.jsx("span",{className:"text-bg-primary",children:n})}),u.jsx("span",{className:"font-medium text-primary","data-testid":"text-username",children:e.fullName})]})]})]})})}const lt=T.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));lt.displayName="Input";var jU="Label",VC=T.forwardRef((t,e)=>u.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));VC.displayName=jU;var FC=VC;const DU=hf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=T.forwardRef(({className:t,...e},n)=>u.jsx(FC,{ref:n,className:je(DU(),t),...e}));Oe.displayName=FC.displayName;const Be=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Be.displayName="Card";const Jt=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex flex-col space-y-1.5 p-6",t),...e}));Jt.displayName="CardHeader";const vn=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("text-2xl font-semibold leading-none tracking-tight",t),...e}));vn.displayName="CardTitle";const OU=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("text-sm text-muted-foreground",t),...e}));OU.displayName="CardDescription";const $e=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("p-6 pt-0",t),...e}));$e.displayName="CardContent";const MU=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:je("flex items-center p-6 pt-0",t),...e}));MU.displayName="CardFooter";function LU(){const[,t]=ei(),{userData:e}=en(),{toast:n}=nr(),[r,i]=T.useState(!1),[a,c]=T.useState({username:"",pin:""});if(e){const p=e.role==="admin"?"/admin/dashboard":"/user/dashboard";return t(p),null}const d=async p=>{if(p.preventDefault(),a.pin.length!==4){n({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}i(!0);try{const m=`${a.username}@rosca.local`,y=`${a.pin}00`;await DO(nf,m,y),n({title:"Login Successful",description:"Welcome back!"})}catch(m){console.error("Login error:",m),n({title:"Login Failed",description:"Invalid username or PIN",variant:"destructive"})}finally{i(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-primary p-4",children:u.jsxs(Be,{className:"w-full max-w-md bg-secondary border-accent-orange/30",children:[u.jsxs(Jt,{className:"text-center",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&h=400",alt:"Financial committee meeting",className:"w-full h-32 object-cover rounded-lg mb-6"}),u.jsx(Wf,{className:"text-3xl mb-2",children:"Committee ROSCA"}),u.jsx("p",{className:"text-secondary",children:"Manage your rotating savings committees"})]}),u.jsxs($e,{children:[u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"username",className:"block text-sm font-medium mb-2",children:"Username"}),u.jsx(lt,{id:"username",type:"text",value:a.username,onChange:p=>c(m=>({...m,username:p.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan",placeholder:"Enter username",required:!0,"data-testid":"input-username"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"pin",className:"block text-sm font-medium mb-2",children:"4-Digit PIN"}),u.jsx(lt,{id:"pin",type:"password",maxLength:4,value:a.pin,onChange:p=>c(m=>({...m,pin:p.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan text-center text-xl tracking-widest",placeholder:"",required:!0,"data-testid":"input-pin"})]}),u.jsx(xe,{type:"submit",className:"w-full gradient-bg text-black py-3 font-medium hover:opacity-90",disabled:r,"data-testid":"button-login",children:r?"Logging in...":"Login"})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx(xe,{variant:"link",className:"text-accent-cyan hover:text-accent-green",onClick:()=>t("/signup"),"data-testid":"link-signup",children:"Don't have an account? Sign up"})})]})]})})}function TE(t,[e,n]){return Math.min(n,Math.max(e,t))}var VU=T.createContext(void 0);function FU(t){const e=T.useContext(VU);return t||e||"ltr"}var Zm=0;function UC(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bE()),document.body.insertAdjacentElement("beforeend",t[1]??bE()),Zm++,()=>{Zm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zm--}},[])}function bE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var eg="focusScope.autoFocusOnMount",tg="focusScope.autoFocusOnUnmount",SE={bubbles:!1,cancelable:!0},UU="FocusScope",Iv=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...c}=t,[d,p]=T.useState(null),m=Vn(i),y=Vn(a),_=T.useRef(null),x=mt(e,b=>p(b)),C=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let b=function(U){if(C.paused||!d)return;const z=U.target;d.contains(z)?_.current=z:Ai(_.current,{select:!0})},R=function(U){if(C.paused||!d)return;const z=U.relatedTarget;z!==null&&(d.contains(z)||Ai(_.current,{select:!0}))},V=function(U){if(document.activeElement===document.body)for(const Q of U)Q.removedNodes.length>0&&Ai(d)};document.addEventListener("focusin",b),document.addEventListener("focusout",R);const F=new MutationObserver(V);return d&&F.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",R),F.disconnect()}}},[r,d,C.paused]),T.useEffect(()=>{if(d){CE.add(C);const b=document.activeElement;if(!d.contains(b)){const V=new CustomEvent(eg,SE);d.addEventListener(eg,m),d.dispatchEvent(V),V.defaultPrevented||(BU(WU(BC(d)),{select:!0}),document.activeElement===b&&Ai(d))}return()=>{d.removeEventListener(eg,m),setTimeout(()=>{const V=new CustomEvent(tg,SE);d.addEventListener(tg,y),d.dispatchEvent(V),V.defaultPrevented||Ai(b??document.body,{select:!0}),d.removeEventListener(tg,y),CE.remove(C)},0)}}},[d,m,y,C]);const A=T.useCallback(b=>{if(!n&&!r||C.paused)return;const R=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,V=document.activeElement;if(R&&V){const F=b.currentTarget,[U,z]=$U(F);U&&z?!b.shiftKey&&V===z?(b.preventDefault(),n&&Ai(U,{select:!0})):b.shiftKey&&V===U&&(b.preventDefault(),n&&Ai(z,{select:!0})):V===F&&b.preventDefault()}},[n,r,C.paused]);return u.jsx(ze.div,{tabIndex:-1,...c,ref:x,onKeyDown:A})});Iv.displayName=UU;function BU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ai(r,{select:e}),document.activeElement!==n)return}function $U(t){const e=BC(t),n=IE(e,t),r=IE(e.reverse(),t);return[n,r]}function BC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IE(t,e){for(const n of t)if(!qU(n,{upTo:e}))return n}function qU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zU(t){return t instanceof HTMLInputElement&&"select"in t}function Ai(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zU(t)&&e&&t.select()}}var CE=HU();function HU(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=RE(t,e),t.unshift(e)},remove(e){t=RE(t,e),t[0]?.resume()}}}function RE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function WU(t){return t.filter(e=>e.tagName!=="A")}function $C(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var KU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xa=new WeakMap,ah=new WeakMap,lh={},ng=0,qC=function(t){return t&&(t.host||qC(t.parentNode))},GU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=qC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},QU=function(t,e,n,r){var i=GU(e,Array.isArray(t)?t:[t]);lh[n]||(lh[n]=new WeakMap);var a=lh[n],c=[],d=new Set,p=new Set(i),m=function(_){!_||d.has(_)||(d.add(_),m(_.parentNode))};i.forEach(m);var y=function(_){!_||p.has(_)||Array.prototype.forEach.call(_.children,function(x){if(d.has(x))y(x);else try{var C=x.getAttribute(r),A=C!==null&&C!=="false",b=(Xa.get(x)||0)+1,R=(a.get(x)||0)+1;Xa.set(x,b),a.set(x,R),c.push(x),b===1&&A&&ah.set(x,!0),R===1&&x.setAttribute(n,"true"),A||x.setAttribute(r,"true")}catch(V){console.error("aria-hidden: cannot operate on ",x,V)}})};return y(e),d.clear(),ng++,function(){c.forEach(function(_){var x=Xa.get(_)-1,C=a.get(_)-1;Xa.set(_,x),a.set(_,C),x||(ah.has(_)||_.removeAttribute(r),ah.delete(_)),C||_.removeAttribute(n)}),ng--,ng||(Xa=new WeakMap,Xa=new WeakMap,ah=new WeakMap,lh={})}},zC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=KU(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),QU(r,i,n,"aria-hidden")):function(){return null}},ss=function(){return ss=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ss.apply(this,arguments)};function HC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YU(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}var bh="right-scroll-bar-position",Sh="width-before-scroll-bar",XU="with-scroll-bars-hidden",JU="--removed-body-scroll-bar-size";function rg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZU(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var e6=typeof window<"u"?T.useLayoutEffect:T.useEffect,NE=new WeakMap;function t6(t,e){var n=ZU(null,function(r){return t.forEach(function(i){return rg(i,r)})});return e6(function(){var r=NE.get(n);if(r){var i=new Set(r),a=new Set(t),c=n.current;i.forEach(function(d){a.has(d)||rg(d,null)}),a.forEach(function(d){i.has(d)||rg(d,c)})}NE.set(n,t)},[t]),n}function n6(t){return t}function r6(t,e){e===void 0&&(e=n6);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var c=e(a,r);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(a){for(r=!0;n.length;){var c=n;n=[],c.forEach(a)}n={push:function(d){return a(d)},filter:function(){return n}}},assignMedium:function(a){r=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(a),c=n}var p=function(){var y=c;c=[],y.forEach(a)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return i}function s6(t){t===void 0&&(t={});var e=r6(null);return e.options=ss({async:!0,ssr:!1},t),e}var WC=function(t){var e=t.sideCar,n=HC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ss({},n))};WC.isSideCarExport=!0;function i6(t,e){return t.useMedium(e),WC}var KC=s6(),sg=function(){},Kf=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:sg,onWheelCapture:sg,onTouchMoveCapture:sg}),i=r[0],a=r[1],c=t.forwardProps,d=t.children,p=t.className,m=t.removeScrollBar,y=t.enabled,_=t.shards,x=t.sideCar,C=t.noIsolation,A=t.inert,b=t.allowPinchZoom,R=t.as,V=R===void 0?"div":R,F=t.gapMode,U=HC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=x,Q=t6([n,e]),Z=ss(ss({},U),i);return T.createElement(T.Fragment,null,y&&T.createElement(z,{sideCar:KC,removeScrollBar:m,shards:_,noIsolation:C,inert:A,setCallbacks:a,allowPinchZoom:!!b,lockRef:n,gapMode:F}),c?T.cloneElement(T.Children.only(d),ss(ss({},Z),{ref:Q})):T.createElement(V,ss({},Z,{className:p,ref:Q}),d))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:Sh,zeroRight:bh};var o6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=o6();return e&&t.setAttribute("nonce",e),t}function l6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function c6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var u6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=a6())&&(l6(e,n),c6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},d6=function(){var t=u6();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},GC=function(){var t=d6(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},h6={left:0,top:0,right:0,gap:0},ig=function(t){return parseInt(t||"",10)||0},f6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ig(n),ig(r),ig(i)]},p6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return h6;var e=f6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},m6=GC(),ml="data-scroll-locked",g6=function(t,e,n,r){var i=t.left,a=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bh,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Sh,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(bh," .").concat(bh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Sh," .").concat(Sh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ml,`] {
    `).concat(JU,": ").concat(d,`px;
  }
`)},AE=function(){var t=parseInt(document.body.getAttribute(ml)||"0",10);return isFinite(t)?t:0},y6=function(){T.useEffect(function(){return document.body.setAttribute(ml,(AE()+1).toString()),function(){var t=AE()-1;t<=0?document.body.removeAttribute(ml):document.body.setAttribute(ml,t.toString())}},[])},v6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;y6();var a=T.useMemo(function(){return p6(i)},[i]);return T.createElement(m6,{styles:g6(a,!e,i,n?"":"!important")})},Qg=!1;if(typeof window<"u")try{var ch=Object.defineProperty({},"passive",{get:function(){return Qg=!0,!0}});window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{Qg=!1}var Ja=Qg?{passive:!1}:!1,w6=function(t){return t.tagName==="TEXTAREA"},QC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!w6(t)&&n[e]==="visible")},_6=function(t){return QC(t,"overflowY")},x6=function(t){return QC(t,"overflowX")},PE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=YC(t,r);if(i){var a=XC(t,r),c=a[1],d=a[2];if(c>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},E6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},T6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},YC=function(t,e){return t==="v"?_6(e):x6(e)},XC=function(t,e){return t==="v"?E6(e):T6(e)},b6=function(t,e){return t==="h"&&e==="rtl"?-1:1},S6=function(t,e,n,r,i){var a=b6(t,window.getComputedStyle(e).direction),c=a*r,d=n.target,p=e.contains(d),m=!1,y=c>0,_=0,x=0;do{var C=XC(t,d),A=C[0],b=C[1],R=C[2],V=b-R-a*A;(A||V)&&YC(t,d)&&(_+=V,x+=A),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!p&&d!==document.body||p&&(e.contains(d)||e===d));return(y&&Math.abs(_)<1||!y&&Math.abs(x)<1)&&(m=!0),m},uh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kE=function(t){return[t.deltaX,t.deltaY]},jE=function(t){return t&&"current"in t?t.current:t},I6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},C6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R6=0,Za=[];function N6(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(R6++)[0],a=T.useState(GC)[0],c=T.useRef(t);T.useEffect(function(){c.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=YU([t.lockRef.current],(t.shards||[]).map(jE),!0).filter(Boolean);return b.forEach(function(R){return R.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=T.useCallback(function(b,R){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var V=uh(b),F=n.current,U="deltaX"in b?b.deltaX:F[0]-V[0],z="deltaY"in b?b.deltaY:F[1]-V[1],Q,Z=b.target,k=Math.abs(U)>Math.abs(z)?"h":"v";if("touches"in b&&k==="h"&&Z.type==="range")return!1;var S=PE(k,Z);if(!S)return!0;if(S?Q=k:(Q=k==="v"?"h":"v",S=PE(k,Z)),!S)return!1;if(!r.current&&"changedTouches"in b&&(U||z)&&(r.current=Q),!Q)return!0;var j=r.current||Q;return S6(j,R,b,j==="h"?U:z)},[]),p=T.useCallback(function(b){var R=b;if(!(!Za.length||Za[Za.length-1]!==a)){var V="deltaY"in R?kE(R):uh(R),F=e.current.filter(function(Q){return Q.name===R.type&&(Q.target===R.target||R.target===Q.shadowParent)&&I6(Q.delta,V)})[0];if(F&&F.should){R.cancelable&&R.preventDefault();return}if(!F){var U=(c.current.shards||[]).map(jE).filter(Boolean).filter(function(Q){return Q.contains(R.target)}),z=U.length>0?d(R,U[0]):!c.current.noIsolation;z&&R.cancelable&&R.preventDefault()}}},[]),m=T.useCallback(function(b,R,V,F){var U={name:b,delta:R,target:V,should:F,shadowParent:A6(V)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(z){return z!==U})},1)},[]),y=T.useCallback(function(b){n.current=uh(b),r.current=void 0},[]),_=T.useCallback(function(b){m(b.type,kE(b),b.target,d(b,t.lockRef.current))},[]),x=T.useCallback(function(b){m(b.type,uh(b),b.target,d(b,t.lockRef.current))},[]);T.useEffect(function(){return Za.push(a),t.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:x}),document.addEventListener("wheel",p,Ja),document.addEventListener("touchmove",p,Ja),document.addEventListener("touchstart",y,Ja),function(){Za=Za.filter(function(b){return b!==a}),document.removeEventListener("wheel",p,Ja),document.removeEventListener("touchmove",p,Ja),document.removeEventListener("touchstart",y,Ja)}},[]);var C=t.removeScrollBar,A=t.inert;return T.createElement(T.Fragment,null,A?T.createElement(a,{styles:C6(i)}):null,C?T.createElement(v6,{gapMode:t.gapMode}):null)}function A6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const P6=i6(KC,N6);var Cv=T.forwardRef(function(t,e){return T.createElement(Kf,ss({},t,{ref:e,sideCar:P6}))});Cv.classNames=Kf.classNames;var k6=[" ","Enter","ArrowUp","ArrowDown"],j6=[" ","Enter"],Au="Select",[Gf,Qf,D6]=lT(Au),[$l,u9]=no(Au,[D6,gf]),Yf=gf(),[O6,co]=$l(Au),[M6,L6]=$l(Au),JC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:c,defaultValue:d,onValueChange:p,dir:m,name:y,autoComplete:_,disabled:x,required:C,form:A}=t,b=Yf(e),[R,V]=T.useState(null),[F,U]=T.useState(null),[z,Q]=T.useState(!1),Z=FU(m),[k=!1,S]=eu({prop:r,defaultProp:i,onChange:a}),[j,P]=eu({prop:c,defaultProp:d,onChange:p}),M=T.useRef(null),L=R?A||!!R.closest("form"):!0,[D,oe]=T.useState(new Set),Te=Array.from(D).map(ne=>ne.props.value).join(";");return u.jsx(Dj,{...b,children:u.jsxs(O6,{required:C,scope:e,trigger:R,onTriggerChange:V,valueNode:F,onValueNodeChange:U,valueNodeHasChildren:z,onValueNodeHasChildrenChange:Q,contentId:ll(),value:j,onValueChange:P,open:k,onOpenChange:S,dir:Z,triggerPointerDownPosRef:M,disabled:x,children:[u.jsx(Gf.Provider,{scope:e,children:u.jsx(M6,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(ne=>{oe(de=>new Set(de).add(ne))},[]),onNativeOptionRemove:T.useCallback(ne=>{oe(de=>{const X=new Set(de);return X.delete(ne),X})},[]),children:n})}),L?u.jsxs(TR,{"aria-hidden":!0,required:C,tabIndex:-1,name:y,autoComplete:_,value:j,onChange:ne=>P(ne.target.value),disabled:x,form:A,children:[j===void 0?u.jsx("option",{value:""}):null,Array.from(D)]},Te):null]})})};JC.displayName=Au;var ZC="SelectTrigger",eR=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=Yf(n),c=co(ZC,n),d=c.disabled||r,p=mt(e,c.onTriggerChange),m=Qf(n),y=T.useRef("touch"),[_,x,C]=bR(b=>{const R=m().filter(U=>!U.disabled),V=R.find(U=>U.value===c.value),F=SR(R,b,V);F!==void 0&&c.onValueChange(F.value)}),A=b=>{d||(c.onOpenChange(!0),C()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return u.jsx(xb,{asChild:!0,...a,children:u.jsx(ze.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":ER(c.value)?"":void 0,...i,ref:p,onClick:Le(i.onClick,b=>{b.currentTarget.focus(),y.current!=="mouse"&&A(b)}),onPointerDown:Le(i.onPointerDown,b=>{y.current=b.pointerType;const R=b.target;R.hasPointerCapture(b.pointerId)&&R.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(A(b),b.preventDefault())}),onKeyDown:Le(i.onKeyDown,b=>{const R=_.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&x(b.key),!(R&&b.key===" ")&&k6.includes(b.key)&&(A(),b.preventDefault())})})})});eR.displayName=ZC;var tR="SelectValue",nR=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:c="",...d}=t,p=co(tR,n),{onValueNodeHasChildrenChange:m}=p,y=a!==void 0,_=mt(e,p.onValueNodeChange);return Wt(()=>{m(y)},[m,y]),u.jsx(ze.span,{...d,ref:_,style:{pointerEvents:"none"},children:ER(p.value)?u.jsx(u.Fragment,{children:c}):a})});nR.displayName=tR;var V6="SelectIcon",rR=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(ze.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});rR.displayName=V6;var F6="SelectPortal",sR=t=>u.jsx(cf,{asChild:!0,...t});sR.displayName=F6;var Jo="SelectContent",iR=T.forwardRef((t,e)=>{const n=co(Jo,t.__scopeSelect),[r,i]=T.useState();if(Wt(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Rl.createPortal(u.jsx(oR,{scope:t.__scopeSelect,children:u.jsx(Gf.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),a):null}return u.jsx(aR,{...t,ref:e})});iR.displayName=Jo;var Dr=10,[oR,uo]=$l(Jo),U6="SelectContentImpl",B6=gl("SelectContent.RemoveScroll"),aR=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:c,side:d,sideOffset:p,align:m,alignOffset:y,arrowPadding:_,collisionBoundary:x,collisionPadding:C,sticky:A,hideWhenDetached:b,avoidCollisions:R,...V}=t,F=co(Jo,n),[U,z]=T.useState(null),[Q,Z]=T.useState(null),k=mt(e,he=>z(he)),[S,j]=T.useState(null),[P,M]=T.useState(null),L=Qf(n),[D,oe]=T.useState(!1),Te=T.useRef(!1);T.useEffect(()=>{if(U)return zC(U)},[U]),UC();const ne=T.useCallback(he=>{const[be,...Fe]=L().map(ct=>ct.ref.current),[De]=Fe.slice(-1),Qe=document.activeElement;for(const ct of he)if(ct===Qe||(ct?.scrollIntoView({block:"nearest"}),ct===be&&Q&&(Q.scrollTop=0),ct===De&&Q&&(Q.scrollTop=Q.scrollHeight),ct?.focus(),document.activeElement!==Qe))return},[L,Q]),de=T.useCallback(()=>ne([S,U]),[ne,S,U]);T.useEffect(()=>{D&&de()},[D,de]);const{onOpenChange:X,triggerPointerDownPosRef:ae}=F;T.useEffect(()=>{if(U){let he={x:0,y:0};const be=De=>{he={x:Math.abs(Math.round(De.pageX)-(ae.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(ae.current?.y??0))}},Fe=De=>{he.x<=10&&he.y<=10?De.preventDefault():U.contains(De.target)||X(!1),document.removeEventListener("pointermove",be),ae.current=null};return ae.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[U,X,ae]),T.useEffect(()=>{const he=()=>X(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[X]);const[ce,q]=bR(he=>{const be=L().filter(Qe=>!Qe.disabled),Fe=be.find(Qe=>Qe.ref.current===document.activeElement),De=SR(be,he,Fe);De&&setTimeout(()=>De.ref.current.focus())}),J=T.useCallback((he,be,Fe)=>{const De=!Te.current&&!Fe;(F.value!==void 0&&F.value===be||De)&&(j(he),De&&(Te.current=!0))},[F.value]),ge=T.useCallback(()=>U?.focus(),[U]),Ce=T.useCallback((he,be,Fe)=>{const De=!Te.current&&!Fe;(F.value!==void 0&&F.value===be||De)&&M(he)},[F.value]),Pe=r==="popper"?Yg:lR,Ve=Pe===Yg?{side:d,sideOffset:p,align:m,alignOffset:y,arrowPadding:_,collisionBoundary:x,collisionPadding:C,sticky:A,hideWhenDetached:b,avoidCollisions:R}:{};return u.jsx(oR,{scope:n,content:U,viewport:Q,onViewportChange:Z,itemRefCallback:J,selectedItem:S,onItemLeave:ge,itemTextRefCallback:Ce,focusSelectedItem:de,selectedItemText:P,position:r,isPositioned:D,searchRef:ce,children:u.jsx(Cv,{as:B6,allowPinchZoom:!0,children:u.jsx(Iv,{asChild:!0,trapped:F.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Le(i,he=>{F.trigger?.focus({preventScroll:!0}),he.preventDefault()}),children:u.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>F.onOpenChange(!1),children:u.jsx(Pe,{role:"listbox",id:F.contentId,"data-state":F.open?"open":"closed",dir:F.dir,onContextMenu:he=>he.preventDefault(),...V,...Ve,onPlaced:()=>oe(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...V.style},onKeyDown:Le(V.onKeyDown,he=>{const be=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!be&&he.key.length===1&&q(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let De=L().filter(Qe=>!Qe.disabled).map(Qe=>Qe.ref.current);if(["ArrowUp","End"].includes(he.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Qe=he.target,ct=De.indexOf(Qe);De=De.slice(ct+1)}setTimeout(()=>ne(De)),he.preventDefault()}})})})})})})});aR.displayName=U6;var $6="SelectItemAlignedPosition",lR=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=co(Jo,n),c=uo(Jo,n),[d,p]=T.useState(null),[m,y]=T.useState(null),_=mt(e,k=>y(k)),x=Qf(n),C=T.useRef(!1),A=T.useRef(!0),{viewport:b,selectedItem:R,selectedItemText:V,focusSelectedItem:F}=c,U=T.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&m&&b&&R&&V){const k=a.trigger.getBoundingClientRect(),S=m.getBoundingClientRect(),j=a.valueNode.getBoundingClientRect(),P=V.getBoundingClientRect();if(a.dir!=="rtl"){const Qe=P.left-S.left,ct=j.left-Qe,Ct=k.left-ct,_n=k.width+Ct,Hr=Math.max(_n,S.width),_s=window.innerWidth-Dr,xs=TE(ct,[Dr,Math.max(Dr,_s-Hr)]);d.style.minWidth=_n+"px",d.style.left=xs+"px"}else{const Qe=S.right-P.right,ct=window.innerWidth-j.right-Qe,Ct=window.innerWidth-k.right-ct,_n=k.width+Ct,Hr=Math.max(_n,S.width),_s=window.innerWidth-Dr,xs=TE(ct,[Dr,Math.max(Dr,_s-Hr)]);d.style.minWidth=_n+"px",d.style.right=xs+"px"}const M=x(),L=window.innerHeight-Dr*2,D=b.scrollHeight,oe=window.getComputedStyle(m),Te=parseInt(oe.borderTopWidth,10),ne=parseInt(oe.paddingTop,10),de=parseInt(oe.borderBottomWidth,10),X=parseInt(oe.paddingBottom,10),ae=Te+ne+D+X+de,ce=Math.min(R.offsetHeight*5,ae),q=window.getComputedStyle(b),J=parseInt(q.paddingTop,10),ge=parseInt(q.paddingBottom,10),Ce=k.top+k.height/2-Dr,Pe=L-Ce,Ve=R.offsetHeight/2,he=R.offsetTop+Ve,be=Te+ne+he,Fe=ae-be;if(be<=Ce){const Qe=M.length>0&&R===M[M.length-1].ref.current;d.style.bottom="0px";const ct=m.clientHeight-b.offsetTop-b.offsetHeight,Ct=Math.max(Pe,Ve+(Qe?ge:0)+ct+de),_n=be+Ct;d.style.height=_n+"px"}else{const Qe=M.length>0&&R===M[0].ref.current;d.style.top="0px";const Ct=Math.max(Ce,Te+b.offsetTop+(Qe?J:0)+Ve)+Fe;d.style.height=Ct+"px",b.scrollTop=be-Ce+b.offsetTop}d.style.margin=`${Dr}px 0`,d.style.minHeight=ce+"px",d.style.maxHeight=L+"px",r?.(),requestAnimationFrame(()=>C.current=!0)}},[x,a.trigger,a.valueNode,d,m,b,R,V,a.dir,r]);Wt(()=>U(),[U]);const[z,Q]=T.useState();Wt(()=>{m&&Q(window.getComputedStyle(m).zIndex)},[m]);const Z=T.useCallback(k=>{k&&A.current===!0&&(U(),F?.(),A.current=!1)},[U,F]);return u.jsx(z6,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:C,onScrollButtonChange:Z,children:u.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:u.jsx(ze.div,{...i,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});lR.displayName=$6;var q6="SelectPopperPosition",Yg=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Dr,...a}=t,c=Yf(n);return u.jsx(Eb,{...c,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yg.displayName=q6;var[z6,Rv]=$l(Jo,{}),Xg="SelectViewport",cR=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=uo(Xg,n),c=Rv(Xg,n),d=mt(e,a.onViewportChange),p=T.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Gf.Slot,{scope:n,children:u.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Le(i.onScroll,m=>{const y=m.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:x}=c;if(x?.current&&_){const C=Math.abs(p.current-y.scrollTop);if(C>0){const A=window.innerHeight-Dr*2,b=parseFloat(_.style.minHeight),R=parseFloat(_.style.height),V=Math.max(b,R);if(V<A){const F=V+C,U=Math.min(A,F),z=F-U;_.style.height=U+"px",_.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,_.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});cR.displayName=Xg;var uR="SelectGroup",[H6,W6]=$l(uR),K6=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ll();return u.jsx(H6,{scope:n,id:i,children:u.jsx(ze.div,{role:"group","aria-labelledby":i,...r,ref:e})})});K6.displayName=uR;var dR="SelectLabel",hR=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=W6(dR,n);return u.jsx(ze.div,{id:i.id,...r,ref:e})});hR.displayName=dR;var sf="SelectItem",[G6,fR]=$l(sf),pR=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...c}=t,d=co(sf,n),p=uo(sf,n),m=d.value===r,[y,_]=T.useState(a??""),[x,C]=T.useState(!1),A=mt(e,F=>p.itemRefCallback?.(F,r,i)),b=ll(),R=T.useRef("touch"),V=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(G6,{scope:n,value:r,disabled:i,textId:b,isSelected:m,onItemTextChange:T.useCallback(F=>{_(U=>U||(F?.textContent??"").trim())},[]),children:u.jsx(Gf.ItemSlot,{scope:n,value:r,disabled:i,textValue:y,children:u.jsx(ze.div,{role:"option","aria-labelledby":b,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:A,onFocus:Le(c.onFocus,()=>C(!0)),onBlur:Le(c.onBlur,()=>C(!1)),onClick:Le(c.onClick,()=>{R.current!=="mouse"&&V()}),onPointerUp:Le(c.onPointerUp,()=>{R.current==="mouse"&&V()}),onPointerDown:Le(c.onPointerDown,F=>{R.current=F.pointerType}),onPointerMove:Le(c.onPointerMove,F=>{R.current=F.pointerType,i?p.onItemLeave?.():R.current==="mouse"&&F.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(c.onPointerLeave,F=>{F.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Le(c.onKeyDown,F=>{p.searchRef?.current!==""&&F.key===" "||(j6.includes(F.key)&&V(),F.key===" "&&F.preventDefault())})})})})});pR.displayName=sf;var zc="SelectItemText",mR=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,c=co(zc,n),d=uo(zc,n),p=fR(zc,n),m=L6(zc,n),[y,_]=T.useState(null),x=mt(e,V=>_(V),p.onItemTextChange,V=>d.itemTextRefCallback?.(V,p.value,p.disabled)),C=y?.textContent,A=T.useMemo(()=>u.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:b,onNativeOptionRemove:R}=m;return Wt(()=>(b(A),()=>R(A)),[b,R,A]),u.jsxs(u.Fragment,{children:[u.jsx(ze.span,{id:p.textId,...a,ref:x}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Rl.createPortal(a.children,c.valueNode):null]})});mR.displayName=zc;var gR="SelectItemIndicator",yR=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return fR(gR,n).isSelected?u.jsx(ze.span,{"aria-hidden":!0,...r,ref:e}):null});yR.displayName=gR;var Jg="SelectScrollUpButton",vR=T.forwardRef((t,e)=>{const n=uo(Jg,t.__scopeSelect),r=Rv(Jg,t.__scopeSelect),[i,a]=T.useState(!1),c=mt(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollTop>0;a(m)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?u.jsx(_R,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop-p.offsetHeight)}}):null});vR.displayName=Jg;var Zg="SelectScrollDownButton",wR=T.forwardRef((t,e)=>{const n=uo(Zg,t.__scopeSelect),r=Rv(Zg,t.__scopeSelect),[i,a]=T.useState(!1),c=mt(e,r.onScrollButtonChange);return Wt(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;a(y)};const p=n.viewport;return d(),p.addEventListener("scroll",d),()=>p.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?u.jsx(_R,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:p}=n;d&&p&&(d.scrollTop=d.scrollTop+p.offsetHeight)}}):null});wR.displayName=Zg;var _R=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=uo("SelectScrollButton",n),c=T.useRef(null),d=Qf(n),p=T.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return T.useEffect(()=>()=>p(),[p]),Wt(()=>{d().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),u.jsx(ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Le(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Le(i.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Le(i.onPointerLeave,()=>{p()})})}),Q6="SelectSeparator",xR=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ze.div,{"aria-hidden":!0,...r,ref:e})});xR.displayName=Q6;var ey="SelectArrow",Y6=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yf(n),a=co(ey,n),c=uo(ey,n);return a.open&&c.position==="popper"?u.jsx(Tb,{...i,...r,ref:e}):null});Y6.displayName=ey;function ER(t){return t===""||t===void 0}var TR=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=T.useRef(null),a=mt(e,i),c=$C(n);return T.useEffect(()=>{const d=i.current,p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==n&&y){const _=new Event("change",{bubbles:!0});y.call(d,n),d.dispatchEvent(_)}},[c,n]),u.jsx(yu,{asChild:!0,children:u.jsx("select",{...r,ref:a,defaultValue:n})})});TR.displayName="BubbleSelect";function bR(t){const e=Vn(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(c=>{const d=n.current+c;e(d),(function p(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>p(""),1e3))})(d)},[e]),a=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function SR(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let c=X6(t,Math.max(a,0));i.length===1&&(c=c.filter(m=>m!==n));const p=c.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return p!==n?p:void 0}function X6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J6=JC,IR=eR,Z6=nR,e5=rR,t5=sR,CR=iR,n5=cR,RR=hR,NR=pR,r5=mR,s5=yR,AR=vR,PR=wR,kR=xR;const Bi=J6,$i=Z6,zs=T.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(IR,{ref:r,className:je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(e5,{asChild:!0,children:u.jsx(MT,{className:"h-4 w-4 opacity-50"})})]}));zs.displayName=IR.displayName;const jR=T.forwardRef(({className:t,...e},n)=>u.jsx(AR,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(DP,{className:"h-4 w-4"})}));jR.displayName=AR.displayName;const DR=T.forwardRef(({className:t,...e},n)=>u.jsx(PR,{ref:n,className:je("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(MT,{className:"h-4 w-4"})}));DR.displayName=PR.displayName;const Hs=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(t5,{children:u.jsxs(CR,{ref:i,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(jR,{}),u.jsx(n5,{className:je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(DR,{})]})}));Hs.displayName=CR.displayName;const i5=T.forwardRef(({className:t,...e},n)=>u.jsx(RR,{ref:n,className:je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));i5.displayName=RR.displayName;const qt=T.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(NR,{ref:r,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(s5,{children:u.jsx(zi,{className:"h-4 w-4"})})}),u.jsx(r5,{children:e})]}));qt.displayName=NR.displayName;const o5=T.forwardRef(({className:t,...e},n)=>u.jsx(kR,{ref:n,className:je("-mx-1 my-1 h-px bg-muted",t),...e}));o5.displayName=kR.displayName;function a5(){const[,t]=ei(),{toast:e}=nr(),[n,r]=T.useState(!1),[i,a]=T.useState({username:"",pin:"",confirmPin:"",role:"user",fullName:""}),c=async d=>{if(d.preventDefault(),i.pin.length!==4){e({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}if(i.pin!==i.confirmPin){e({title:"PIN Mismatch",description:"PINs do not match",variant:"destructive"});return}r(!0);try{const p=`${i.username}@rosca.local`,m=`${i.pin}00`,y=await jO(nf,p,m);await lU({username:i.username,pin:i.pin,role:i.role,fullName:i.fullName,firebaseUid:y.user.uid}),e({title:"Account Created",description:"Your account has been created successfully!"});const _=i.role==="admin"?"/admin/dashboard":"/user/dashboard";t(_)}catch(p){console.error("Signup error:",p),e({title:"Signup Failed",description:p.message||"Failed to create account",variant:"destructive"})}finally{r(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-primary p-4",children:u.jsxs(Be,{className:"w-full max-w-md bg-secondary border-accent-orange/30",children:[u.jsxs(Jt,{className:"text-center",children:[u.jsx(Wf,{className:"text-3xl mb-2",children:"Create Account"}),u.jsx("p",{className:"text-secondary",children:"Join Committee ROSCA"})]}),u.jsxs($e,{children:[u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"username",className:"block text-sm font-medium mb-2",children:"Username"}),u.jsx(lt,{id:"username",type:"text",value:i.username,onChange:d=>a(p=>({...p,username:d.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan",placeholder:"Enter username",required:!0,"data-testid":"input-username"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"fullName",className:"block text-sm font-medium mb-2",children:"Full Name"}),u.jsx(lt,{id:"fullName",type:"text",value:i.fullName,onChange:d=>a(p=>({...p,fullName:d.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan",placeholder:"Enter full name",required:!0,"data-testid":"input-fullname"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"role",className:"block text-sm font-medium mb-2",children:"Role"}),u.jsxs(Bi,{value:i.role,onValueChange:d=>a(p=>({...p,role:d})),children:[u.jsx(zs,{className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"select-role",children:u.jsx($i,{})}),u.jsxs(Hs,{children:[u.jsx(qt,{value:"user",children:"User"}),u.jsx(qt,{value:"admin",children:"Admin"})]})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"pin",className:"block text-sm font-medium mb-2",children:"4-Digit PIN"}),u.jsx(lt,{id:"pin",type:"password",maxLength:4,value:i.pin,onChange:d=>a(p=>({...p,pin:d.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan text-center text-xl tracking-widest",placeholder:"",required:!0,"data-testid":"input-pin"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"confirmPin",className:"block text-sm font-medium mb-2",children:"Confirm PIN"}),u.jsx(lt,{id:"confirmPin",type:"password",maxLength:4,value:i.confirmPin,onChange:d=>a(p=>({...p,confirmPin:d.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan text-center text-xl tracking-widest",placeholder:"",required:!0,"data-testid":"input-confirm-pin"})]}),u.jsx(xe,{type:"submit",className:"w-full gradient-bg text-black py-3 font-medium hover:opacity-90",disabled:n,"data-testid":"button-signup",children:n?"Creating Account...":"Sign Up"})]}),u.jsx("div",{className:"mt-4 text-center",children:u.jsx(xe,{variant:"link",className:"text-accent-cyan hover:text-accent-green",onClick:()=>t("/login"),"data-testid":"link-login",children:"Already have an account? Login"})})]})]})})}function l5(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Be,{className:"w-full max-w-md mx-4",children:u.jsxs($e,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(LT,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function c5(){const{data:t=[]}=Tt({queryKey:["/api/committees"],queryFn:Sv}),{data:e=[]}=Tt({queryKey:["/api/payments"],queryFn:kC}),{data:n=[]}=Tt({queryKey:["/api/payouts"],queryFn:OC}),{data:r=[]}=Tt({queryKey:["/api/users"],queryFn:bv}),i={totalCommittees:t.length,activeMembers:r.filter(d=>d.role==="user").length,pendingPayments:e.filter(d=>d.status==="pending").length,totalPayouts:n.reduce((d,p)=>d+p.amount,0)},a=e.filter(d=>d.status==="pending").slice(0,5),c=n.filter(d=>d.status==="pending").slice(0,5);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-total-committees",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Total Committees"}),u.jsx("p",{className:"text-2xl font-bold text-accent-cyan","data-testid":"text-total-committees",children:i.totalCommittees})]}),u.jsx(tu,{className:"h-8 w-8 text-accent-cyan/30"})]})})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-active-members",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Active Members"}),u.jsx("p",{className:"text-2xl font-bold text-accent-green","data-testid":"text-active-members",children:i.activeMembers})]}),u.jsx(dy,{className:"h-8 w-8 text-accent-green/30"})]})})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-pending-payments",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Pending Payments"}),u.jsx("p",{className:"text-2xl font-bold text-accent-orange","data-testid":"text-pending-payments",children:i.pendingPayments})]}),u.jsx(VT,{className:"h-8 w-8 text-accent-orange/30"})]})})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-total-payouts",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Total Payouts"}),u.jsxs("p",{className:"text-2xl font-bold text-primary","data-testid":"text-total-payouts",children:["Rs ",i.totalPayouts.toLocaleString()]})]}),u.jsx(Mi,{className:"h-8 w-8 text-secondary/30"})]})})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Recent Payments"})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:a.length===0?u.jsx("p",{className:"text-secondary text-center py-4","data-testid":"text-no-recent-payments",children:"No pending payments"}):a.map(d=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/50 rounded-lg","data-testid":`payment-${d.id}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-cyan/20 rounded-full flex items-center justify-center",children:u.jsx(Mi,{className:"h-4 w-4 text-accent-cyan"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:d.userId}),u.jsxs("p",{className:"text-secondary text-sm",children:["Rs ",d.amount]})]})]}),u.jsx("span",{className:"px-2 py-1 bg-accent-orange/20 text-accent-orange text-xs rounded-full",children:"Pending"})]},d.id))})})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Upcoming Payouts"})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:c.length===0?u.jsx("p",{className:"text-secondary text-center py-4","data-testid":"text-no-upcoming-payouts",children:"No upcoming payouts"}):c.map(d=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/50 rounded-lg","data-testid":`payout-${d.id}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-accent-green/20 rounded-full flex items-center justify-center",children:u.jsx(Mi,{className:"h-4 w-4 text-accent-green"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:d.userId}),u.jsxs("p",{className:"text-secondary text-sm",children:["Rs ",d.amount]})]})]}),u.jsx("span",{className:"text-secondary text-sm",children:d.scheduledDate.toLocaleDateString()})]},d.id))})})]})]})]})}var Nv="Dialog",[OR,d9]=no(Nv),[u5,zr]=OR(Nv),MR=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:c=!0}=t,d=T.useRef(null),p=T.useRef(null),[m=!1,y]=eu({prop:r,defaultProp:i,onChange:a});return u.jsx(u5,{scope:e,triggerRef:d,contentRef:p,contentId:ll(),titleId:ll(),descriptionId:ll(),open:m,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(_=>!_),[y]),modal:c,children:n})};MR.displayName=Nv;var LR="DialogTrigger",VR=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(LR,n),a=mt(e,i.triggerRef);return u.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kv(i.open),...r,ref:a,onClick:Le(t.onClick,i.onOpenToggle)})});VR.displayName=LR;var Av="DialogPortal",[d5,FR]=OR(Av,{forceMount:void 0}),UR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=zr(Av,e);return u.jsx(d5,{scope:e,forceMount:n,children:T.Children.map(r,c=>u.jsx(ea,{present:n||a.open,children:u.jsx(cf,{asChild:!0,container:i,children:c})}))})};UR.displayName=Av;var of="DialogOverlay",BR=T.forwardRef((t,e)=>{const n=FR(of,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=zr(of,t.__scopeDialog);return a.modal?u.jsx(ea,{present:r||a.open,children:u.jsx(f5,{...i,ref:e})}):null});BR.displayName=of;var h5=gl("DialogOverlay.RemoveScroll"),f5=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(of,n);return u.jsx(Cv,{as:h5,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(ze.div,{"data-state":kv(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",$R=T.forwardRef((t,e)=>{const n=FR(Zo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=zr(Zo,t.__scopeDialog);return u.jsx(ea,{present:r||a.open,children:a.modal?u.jsx(p5,{...i,ref:e}):u.jsx(m5,{...i,ref:e})})});$R.displayName=Zo;var p5=T.forwardRef((t,e)=>{const n=zr(Zo,t.__scopeDialog),r=T.useRef(null),i=mt(e,n.contentRef,r);return T.useEffect(()=>{const a=r.current;if(a)return zC(a)},[]),u.jsx(qR,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&a.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,a=>a.preventDefault())})}),m5=T.forwardRef((t,e)=>{const n=zr(Zo,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return u.jsx(qR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=a.target;n.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),qR=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...c}=t,d=zr(Zo,n),p=T.useRef(null),m=mt(e,p);return UC(),u.jsxs(u.Fragment,{children:[u.jsx(Iv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(gu,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":kv(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(g5,{titleId:d.titleId}),u.jsx(v5,{contentRef:p,descriptionId:d.descriptionId})]})]})}),Pv="DialogTitle",zR=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(Pv,n);return u.jsx(ze.h2,{id:i.titleId,...r,ref:e})});zR.displayName=Pv;var HR="DialogDescription",WR=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(HR,n);return u.jsx(ze.p,{id:i.descriptionId,...r,ref:e})});WR.displayName=HR;var KR="DialogClose",GR=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(KR,n);return u.jsx(ze.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>i.onOpenChange(!1))})});GR.displayName=KR;function kv(t){return t?"open":"closed"}var QR="DialogTitleWarning",[h9,YR]=B1(QR,{contentName:Zo,titleName:Pv,docsSlug:"dialog"}),g5=({titleId:t})=>{const e=YR(QR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},y5="DialogDescriptionWarning",v5=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${YR(y5).contentName}}.`;return T.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},w5=MR,_5=VR,x5=UR,XR=BR,JR=$R,ZR=zR,eN=WR,E5=GR;const Ws=w5,jv=_5,T5=x5,tN=T.forwardRef(({className:t,...e},n)=>u.jsx(XR,{ref:n,className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));tN.displayName=XR.displayName;const hs=T.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(T5,{children:[u.jsx(tN,{}),u.jsxs(JR,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(E5,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(yl,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hs.displayName=JR.displayName;const fs=({className:t,...e})=>u.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});fs.displayName="DialogHeader";const ps=T.forwardRef(({className:t,...e},n)=>u.jsx(ZR,{ref:n,className:je("text-lg font-semibold leading-none tracking-tight",t),...e}));ps.displayName=ZR.displayName;const Il=T.forwardRef(({className:t,...e},n)=>u.jsx(eN,{ref:n,className:je("text-sm text-muted-foreground",t),...e}));Il.displayName=eN.displayName;const Pu=T.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:je("w-full caption-bottom text-sm",t),...e})}));Pu.displayName="Table";const ku=T.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:je("[&_tr]:border-b",t),...e}));ku.displayName="TableHeader";const ju=T.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:je("[&_tr:last-child]:border-0",t),...e}));ju.displayName="TableBody";const b5=T.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));b5.displayName="TableFooter";const tr=T.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));tr.displayName="TableRow";const at=T.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));at.displayName="TableHead";const et=T.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));et.displayName="TableCell";const S5=T.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:je("mt-4 text-sm text-muted-foreground",t),...e}));S5.displayName="TableCaption";const I5=hf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tt({className:t,variant:e,...n}){return u.jsx("div",{className:je(I5({variant:e}),t),...n})}function C5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),[r,i]=T.useState(""),[a,c]=T.useState("all"),[d,p]=T.useState(!1),[m,y]=T.useState(!1),[_,x]=T.useState(!1),[C,A]=T.useState(null),[b,R]=T.useState(null),[V,F]=T.useState(""),{data:U=[],isLoading:z}=Tt({queryKey:["/api/committees"],queryFn:Sv}),{data:Q=[],isLoading:Z}=Tt({queryKey:["/api/committees",b?.id,"members"],queryFn:()=>b?PC(b.id):Promise.resolve([]),enabled:!!b&&_}),k=yn({mutationFn:uU,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/committees"]}),p(!1),e({title:"Committee Created",description:"New committee has been created successfully"})},onError:ne=>{e({title:"Error",description:"Failed to create committee",variant:"destructive"})}}),S=yn({mutationFn:({committeeId:ne,status:de})=>fU(ne,{status:de}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/committees"]}),y(!1),A(null),e({title:"Status Updated",description:"Committee status has been updated successfully"})},onError:ne=>{e({title:"Error",description:"Failed to update committee status",variant:"destructive"})}}),j=U.filter(ne=>{const de=ne.name.toLowerCase().includes(r.toLowerCase()),X=a==="all"||ne.status===a;return de&&X}),P=async ne=>{ne.preventDefault();const de=new FormData(ne.currentTarget),X={name:de.get("name"),amount:Number(de.get("amount")),memberCount:Number(de.get("memberCount")),duration:Number(de.get("memberCount")),startDate:new Date(de.get("startDate")),adminId:t.id};k.mutate(X)},M=ne=>{A(ne),F(ne.status),y(!0)},L=()=>{C&&V&&S.mutate({committeeId:C.id,status:V})},D=ne=>{R(ne),x(!0)},oe=()=>{x(!1),R(null),n.invalidateQueries({queryKey:["/api/committees"]})},Te=ne=>{switch(ne){case"active":return u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Active"});case"pending":return u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange",children:"Pending"});case"completed":return u.jsx(tt,{className:"bg-secondary text-primary",children:"Completed"});default:return u.jsx(tt,{children:ne})}};return z?u.jsx("div",{children:"Loading committees..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Committee Management"}),u.jsxs(Ws,{open:d,onOpenChange:p,children:[u.jsx(jv,{asChild:!0,children:u.jsxs(xe,{className:"gradient-bg text-black hover:opacity-90","data-testid":"button-create-committee",children:[u.jsx(UP,{className:"mr-2 h-4 w-4"}),"Create Committee"]})}),u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(fs,{children:u.jsx(ps,{className:"gradient-text",children:"Create New Committee"})}),u.jsxs("form",{onSubmit:P,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"name",children:"Committee Name"}),u.jsx(lt,{id:"name",name:"name",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-committee-name"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"amount",children:"Monthly Amount (Rs)"}),u.jsx(lt,{id:"amount",name:"amount",type:"number",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-committee-amount"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"memberCount",children:"Number of Members"}),u.jsxs(Bi,{name:"memberCount",required:!0,children:[u.jsx(zs,{className:"bg-primary border-accent-orange/30","data-testid":"select-member-count",children:u.jsx($i,{placeholder:"Select members"})}),u.jsxs(Hs,{children:[u.jsx(qt,{value:"5",children:"5 members"}),u.jsx(qt,{value:"10",children:"10 members"})]})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"startDate",children:"Start Date"}),u.jsx(lt,{id:"startDate",name:"startDate",type:"date",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-start-date"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx(xe,{type:"button",variant:"outline",className:"flex-1 border-accent-orange/30",onClick:()=>p(!1),"data-testid":"button-cancel-create",children:"Cancel"}),u.jsx(xe,{type:"submit",className:"flex-1 gradient-bg text-black hover:opacity-90",disabled:k.isPending,"data-testid":"button-submit-create",children:k.isPending?"Creating...":"Create Committee"})]})]})]})]})]}),u.jsx(Ws,{open:m,onOpenChange:y,children:u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(fs,{children:u.jsx(ps,{className:"gradient-text",children:"Edit Committee Status"})}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{children:"Committee"}),u.jsx("p",{className:"text-secondary",children:C?.name})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"status",children:"Status"}),u.jsxs(Bi,{value:V,onValueChange:F,children:[u.jsx(zs,{className:"bg-primary border-accent-orange/30","data-testid":"select-edit-status",children:u.jsx($i,{})}),u.jsxs(Hs,{children:[u.jsx(qt,{value:"active",children:"Active"}),u.jsx(qt,{value:"pending",children:"Pending"}),u.jsx(qt,{value:"completed",children:"Completed"})]})]})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx(xe,{type:"button",variant:"outline",className:"flex-1 border-accent-orange/30",onClick:()=>y(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),u.jsx(xe,{type:"button",className:"flex-1 gradient-bg text-black hover:opacity-90",onClick:L,disabled:S.isPending,"data-testid":"button-submit-edit",children:S.isPending?"Updating...":"Update Status"})]})]})]})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsx($e,{className:"p-4",children:u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(lt,{placeholder:"Search committees...",value:r,onChange:ne=>i(ne.target.value),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-search-committees"})}),u.jsxs(Bi,{value:a,onValueChange:c,children:[u.jsx(zs,{className:"w-full md:w-48 bg-primary border-accent-orange/30","data-testid":"select-status-filter",children:u.jsx($i,{})}),u.jsxs(Hs,{children:[u.jsx(qt,{value:"all",children:"All Status"}),u.jsx(qt,{value:"active",children:"Active"}),u.jsx(qt,{value:"pending",children:"Pending"}),u.jsx(qt,{value:"completed",children:"Completed"})]})]}),u.jsx(xe,{onClick:()=>n.invalidateQueries({queryKey:["/api/committees"]}),variant:"outline",className:"border-accent-orange/30",children:"Refresh"})]})})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsx($e,{className:"p-0",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Pu,{children:[u.jsx(ku,{children:u.jsxs(tr,{className:"border-accent-orange/10",children:[u.jsx(at,{className:"text-secondary",children:"Committee"}),u.jsx(at,{className:"text-secondary",children:"Members"}),u.jsx(at,{className:"text-secondary",children:"Amount"}),u.jsx(at,{className:"text-secondary",children:"Status"}),u.jsx(at,{className:"text-secondary",children:"Actions"})]})}),u.jsx(ju,{children:j.length===0?u.jsx(tr,{children:u.jsx(et,{colSpan:5,className:"text-center py-8 text-secondary","data-testid":"text-no-committees",children:"No committees found"})}):j.map(ne=>u.jsxs(tr,{className:"border-accent-orange/10","data-testid":`committee-row-${ne.id}`,children:[u.jsx(et,{children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:ne.name}),u.jsxs("div",{className:"text-secondary text-sm",children:["Started: ",ne.startDate.toLocaleDateString()]})]})}),u.jsx(et,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsxs("span",{className:"font-medium",children:[ne.actualMembersCount||0,"/",ne.memberCount]}),u.jsx("span",{className:"ml-2 text-secondary",children:"members"})]})}),u.jsxs(et,{className:"font-medium",children:["Rs ",ne.amount]}),u.jsx(et,{children:Te(ne.status)}),u.jsx(et,{children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(xe,{variant:"ghost",size:"icon",className:"text-accent-cyan hover:text-accent-cyan/80",onClick:()=>D(ne),"data-testid":`button-view-members-${ne.id}`,children:u.jsx(tu,{className:"h-4 w-4"})}),u.jsx(xe,{variant:"ghost",size:"icon",className:"text-accent-orange hover:text-accent-orange/80","data-testid":`button-edit-${ne.id}`,onClick:()=>M(ne),children:u.jsx($P,{className:"h-4 w-4"})})]})})]},ne.id))})]})})})}),u.jsx(Ws,{open:_,onOpenChange:x,children:u.jsxs(hs,{className:"bg-secondary border-accent-orange/30 max-w-2xl",children:[u.jsxs(fs,{className:"flex items-center justify-between",children:[u.jsxs(ps,{className:"gradient-text",children:[b?.name," - Members"]}),u.jsx(xe,{onClick:()=>n.invalidateQueries({queryKey:["/api/committees",b?.id,"members"]}),variant:"outline",size:"sm",className:"border-accent-orange/30",children:"Refresh"})]}),u.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:Z?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("div",{className:"text-secondary",children:"Loading members..."})}):Q.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(tu,{className:"h-12 w-12 text-secondary mx-auto mb-4"}),u.jsx("p",{className:"text-secondary",children:"No members found in this committee"})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(Be,{className:"bg-primary border-accent-orange/20",children:u.jsxs($e,{className:"p-4",children:[u.jsx("div",{className:"text-sm text-secondary",children:"Total Members"}),u.jsxs("div",{className:"text-2xl font-bold text-accent-cyan",children:[Q.length," / ",b?.memberCount]})]})}),u.jsx(Be,{className:"bg-primary border-accent-orange/20",children:u.jsxs($e,{className:"p-4",children:[u.jsx("div",{className:"text-sm text-secondary",children:"Available Slots"}),u.jsx("div",{className:"text-2xl font-bold text-accent-green",children:b?b.memberCount-Q.length:0})]})})]}),u.jsxs("div",{className:"border-t border-accent-orange/20 pt-4",children:[u.jsx("h4",{className:"font-semibold mb-3",children:"Member Details"}),u.jsx("div",{className:"space-y-2",children:Q.map(ne=>u.jsx(Be,{className:"bg-primary border-accent-orange/10",children:u.jsxs($e,{className:"p-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 gradient-bg rounded-full flex items-center justify-center text-black font-bold",children:ne.fullName.split(" ").map(de=>de.charAt(0)).join("").toUpperCase()}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:ne.fullName}),u.jsxs("div",{className:"text-sm text-secondary",children:["@",ne.username]})]})]}),u.jsxs("div",{className:"text-right space-y-1",children:[u.jsxs("div",{className:"flex items-center text-sm text-secondary",children:[u.jsx(uy,{className:"h-3 w-3 mr-1"}),ne.createdAt.toLocaleDateString()]}),u.jsxs(tt,{className:"bg-accent-green/20 text-accent-green text-xs",children:[u.jsx(dy,{className:"h-3 w-3 mr-1"}),"Active"]})]})]}),ne.email&&u.jsxs("div",{className:"mt-2 flex items-center text-sm text-secondary",children:[u.jsx(FP,{className:"h-3 w-3 mr-1"}),ne.email]})]})},ne.id))})]})]})}),u.jsx("div",{className:"flex justify-end pt-4",children:u.jsx(xe,{variant:"outline",className:"border-accent-orange/30",onClick:oe,children:"Close"})})]})})]})}var Dv="Checkbox",[R5,f9]=no(Dv),[N5,A5]=R5(Dv),nN=T.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:c,disabled:d,value:p="on",onCheckedChange:m,form:y,..._}=t,[x,C]=T.useState(null),A=mt(e,z=>C(z)),b=T.useRef(!1),R=x?y||!!x.closest("form"):!0,[V=!1,F]=eu({prop:i,defaultProp:a,onChange:m}),U=T.useRef(V);return T.useEffect(()=>{const z=x?.form;if(z){const Q=()=>F(U.current);return z.addEventListener("reset",Q),()=>z.removeEventListener("reset",Q)}},[x,F]),u.jsxs(N5,{scope:n,state:V,disabled:d,children:[u.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":qi(V)?"mixed":V,"aria-required":c,"data-state":iN(V),"data-disabled":d?"":void 0,disabled:d,value:p,..._,ref:A,onKeyDown:Le(t.onKeyDown,z=>{z.key==="Enter"&&z.preventDefault()}),onClick:Le(t.onClick,z=>{F(Q=>qi(Q)?!0:!Q),R&&(b.current=z.isPropagationStopped(),b.current||z.stopPropagation())})}),R&&u.jsx(P5,{control:x,bubbles:!b.current,name:r,value:p,checked:V,required:c,disabled:d,form:y,style:{transform:"translateX(-100%)"},defaultChecked:qi(a)?!1:a})]})});nN.displayName=Dv;var rN="CheckboxIndicator",sN=T.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=A5(rN,n);return u.jsx(ea,{present:r||qi(a.state)||a.state===!0,children:u.jsx(ze.span,{"data-state":iN(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});sN.displayName=rN;var P5=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...a}=t,c=T.useRef(null),d=$C(n),p=db(e);T.useEffect(()=>{const y=c.current,_=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(_,"checked").set;if(d!==n&&C){const A=new Event("click",{bubbles:r});y.indeterminate=qi(n),C.call(y,qi(n)?!1:n),y.dispatchEvent(A)}},[d,n,r]);const m=T.useRef(qi(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,...a,tabIndex:-1,ref:c,style:{...t.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qi(t){return t==="indeterminate"}function iN(t){return qi(t)?"indeterminate":t?"checked":"unchecked"}var oN=nN,k5=sN;const aN=T.forwardRef(({className:t,...e},n)=>u.jsx(oN,{ref:n,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(k5,{className:je("flex items-center justify-center text-current"),children:u.jsx(zi,{className:"h-4 w-4"})})}));aN.displayName=oN.displayName;const Ov=T.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Ov.displayName="Textarea";function j5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),[r,i]=T.useState([]),[a,c]=T.useState(!1),[d,p]=T.useState(null),[m,y]=T.useState("all"),{data:_=[],isLoading:x}=Tt({queryKey:["/api/payments"],queryFn:kC}),C=yn({mutationFn:({paymentId:S,remarks:j})=>gU(S,t.id,j),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/payments"]}),n.invalidateQueries({queryKey:["/api/users"]}),e({title:"Payment Approved",description:"Payment has been approved successfully"})},onError:()=>{e({title:"Error",description:"Failed to approve payment",variant:"destructive"})}}),A=yn({mutationFn:({paymentId:S,remarks:j})=>yU(S,t.id,j),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/payments"]}),n.invalidateQueries({queryKey:["/api/users"]}),c(!1),p(null),e({title:"Payment Rejected",description:"Payment has been rejected"})},onError:()=>{e({title:"Error",description:"Failed to reject payment",variant:"destructive"})}}),b=yn({mutationFn:DC,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/payments"]}),n.invalidateQueries({queryKey:["/api/users"]}),e({title:"Payment Deleted",description:"Payment has been deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete payment",variant:"destructive"})}}),R=(S,j)=>{i(j?P=>[...P,S]:P=>P.filter(M=>M!==S))},V=()=>{r.forEach(S=>{C.mutate({paymentId:S})}),i([])},F=()=>{r.forEach(S=>{b.mutate(S)}),i([])},U=S=>{b.mutate(S)},z=S=>{C.mutate({paymentId:S})},Q=S=>{p(S),c(!0)},Z=S=>{S.preventDefault();const P=new FormData(S.currentTarget).get("remarks");d&&P.trim()&&A.mutate({paymentId:d.id,remarks:P.trim()})},k=_.filter(S=>m==="all"?!0:S.status===m);return _.filter(S=>S.status==="pending"),x?u.jsx("div",{children:"Loading payments..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Payment Management"}),u.jsx("div",{className:"flex space-x-2",children:r.length>0&&u.jsxs(u.Fragment,{children:[m==="pending"&&u.jsxs(xe,{className:"bg-accent-green/20 text-accent-green hover:bg-accent-green/30",disabled:C.isPending,onClick:V,"data-testid":"button-approve-selected",children:[u.jsx(zi,{className:"mr-2 h-4 w-4"}),"Approve Selected (",r.length,")"]}),u.jsxs(xe,{className:"bg-red-500/20 text-red-400 hover:bg-red-500/30",disabled:b.isPending,onClick:F,"data-testid":"button-delete-selected",children:[u.jsx(yl,{className:"mr-2 h-4 w-4"}),"Delete Selected (",r.length,")"]})]})})]}),u.jsx("div",{className:"border-b border-accent-orange/30",children:u.jsx("nav",{className:"flex space-x-8",children:[{key:"all",label:"All Payments",count:_.length},{key:"pending",label:"Pending",count:_.filter(S=>S.status==="pending").length},{key:"approved",label:"Approved",count:_.filter(S=>S.status==="approved").length},{key:"rejected",label:"Rejected",count:_.filter(S=>S.status==="rejected").length}].map(({key:S,label:j,count:P})=>u.jsxs("button",{onClick:()=>y(S),className:`py-2 px-1 border-b-2 font-medium text-sm ${m===S?"border-accent-cyan text-accent-cyan":"border-transparent text-secondary hover:text-white"}`,children:[j," (",P,")"]},S))})}),u.jsx("div",{className:"space-y-4",children:k.length===0?u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsx($e,{className:"p-8 text-center",children:u.jsxs("p",{className:"text-secondary",children:["No ",m==="all"?"":m," payments found"]})})}):k.map(S=>u.jsx(D5,{payment:S,isSelected:r.includes(S.id),onSelect:j=>R(S.id,j),onApprove:()=>z(S.id),onReject:()=>Q(S),onDelete:()=>U(S.id),isApproving:C.isPending,isDeleting:b.isPending},S.id))}),u.jsx(Ws,{open:a,onOpenChange:c,children:u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsxs(fs,{children:[u.jsx(ps,{className:"gradient-text",children:"Reject Payment"}),u.jsx(Il,{children:"Provide a reason for rejecting this payment request."})]}),u.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-secondary mb-2",children:"Reason for rejection (required):"}),u.jsx(Ov,{name:"remarks",required:!0,placeholder:"Please provide a reason for rejecting this payment...",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"textarea-reject-reason"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx(xe,{type:"button",variant:"outline",className:"flex-1 border-accent-orange/30",onClick:()=>c(!1),"data-testid":"button-cancel-reject",children:"Cancel"}),u.jsx(xe,{type:"submit",className:"flex-1 bg-red-500/20 text-red-400 hover:bg-red-500/30",disabled:A.isPending,"data-testid":"button-confirm-reject",children:A.isPending?"Rejecting...":"Reject Payment"})]})]})]})})]})}function D5({payment:t,isSelected:e,onSelect:n,onApprove:r,onReject:i,onDelete:a,isApproving:c,isDeleting:d}){const{data:p}=Tt({queryKey:["/api/users",t.userId],queryFn:()=>Tv(t.userId)}),m=_=>{switch(_){case"pending":return u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange",children:"Pending Review"});case"approved":return u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Approved"});case"rejected":return u.jsx(tt,{className:"bg-red-500/20 text-red-400",children:"Rejected"});default:return u.jsx(tt,{className:"bg-gray-500/20 text-gray-400",children:_})}},y=t.status==="pending";return u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":`payment-card-${t.id}`,children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx(aN,{checked:e,onCheckedChange:n,className:"mt-1","data-testid":`checkbox-payment-${t.id}`}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.jsx("h3",{className:"font-semibold",children:p?.fullName||"Loading..."}),m(t.status)]}),u.jsxs("p",{className:"text-secondary mb-2",children:["Amount: Rs ",t.amount.toFixed(2)]}),u.jsxs("p",{className:"text-sm text-secondary mb-2",children:["Submitted: ",t.submittedAt.toLocaleString()]}),t.remarks&&u.jsxs("div",{className:"mt-3 p-3 bg-primary/50 rounded-lg border border-accent-orange/30",children:[u.jsx("p",{className:"text-sm font-medium text-secondary mb-1",children:"Payment Details:"}),u.jsx("p",{className:"text-sm text-secondary whitespace-pre-wrap",children:t.remarks})]}),t.reviewedAt&&u.jsxs("div",{className:"mt-2 text-sm text-secondary",children:[u.jsxs("p",{children:["Reviewed: ",t.reviewedAt.toLocaleString()]}),t.reviewedBy&&u.jsxs("p",{children:["By: ",t.reviewedBy]})]}),t.adminRemarks&&u.jsxs("div",{className:"mt-3 p-3 bg-red-500/10 rounded-lg border border-red-500/30",children:[u.jsx("p",{className:"text-sm font-medium text-red-400 mb-1",children:"Admin Remarks:"}),u.jsx("p",{className:"text-sm text-red-400 whitespace-pre-wrap",children:t.adminRemarks})]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[y&&u.jsxs(u.Fragment,{children:[u.jsxs(xe,{size:"sm",className:"bg-accent-green/20 text-accent-green hover:bg-accent-green/30",onClick:r,disabled:c,"data-testid":`button-approve-${t.id}`,children:[u.jsx(zi,{className:"mr-1 h-4 w-4"}),"Approve"]}),u.jsxs(xe,{size:"sm",className:"bg-red-500/20 text-red-400 hover:bg-red-500/30",onClick:i,"data-testid":`button-reject-${t.id}`,children:[u.jsx(yl,{className:"mr-1 h-4 w-4"}),"Reject"]})]}),u.jsxs(xe,{size:"sm",className:"bg-red-500/20 text-red-400 hover:bg-red-500/30",onClick:a,disabled:d,"data-testid":`button-delete-${t.id}`,children:[u.jsx(yl,{className:"mr-1 h-4 w-4"}),"Delete"]})]})]})})})}function O5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),[r,i]=T.useState(!1),{data:a=[],isLoading:c}=Tt({queryKey:["/api/payouts"],queryFn:OC}),{data:d=[]}=Tt({queryKey:["/api/users"],queryFn:bv}),{data:p=[]}=Tt({queryKey:["/api/committees"],queryFn:Sv}),m=yn({mutationFn:vU,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/payouts"]}),i(!1),e({title:"Payout Initiated",description:"Payout has been scheduled successfully"})},onError:()=>{e({title:"Error",description:"Failed to initiate payout",variant:"destructive"})}}),y=a.filter(C=>C.status==="pending"),_=a.filter(C=>C.status==="completed").slice(0,10),x=async C=>{C.preventDefault();const A=new FormData(C.currentTarget),b={userId:A.get("userId"),committeeId:A.get("committeeId"),amount:Number(A.get("amount")),scheduledDate:new Date(A.get("scheduledDate")),round:Number(A.get("round")),initiatedBy:t.id};m.mutate(b)};return c?u.jsx("div",{children:"Loading payouts..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Payout Management"}),u.jsxs(Ws,{open:r,onOpenChange:i,children:[u.jsx(jv,{asChild:!0,children:u.jsxs(xe,{className:"gradient-bg text-black hover:opacity-90","data-testid":"button-initiate-payout",children:[u.jsx(gg,{className:"mr-2 h-4 w-4"}),"Initiate Payout"]})}),u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsxs(fs,{children:[u.jsx(ps,{className:"gradient-text",children:"Initiate New Payout"}),u.jsx(Il,{children:"Create a new payout for a user in a specific committee."})]}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"userId",children:"Select User"}),u.jsxs(Bi,{name:"userId",required:!0,children:[u.jsx(zs,{className:"bg-primary border-accent-orange/30","data-testid":"select-payout-user",children:u.jsx($i,{placeholder:"Select user"})}),u.jsx(Hs,{children:d.filter(C=>C.role==="user").map(C=>u.jsx(qt,{value:C.id,children:C.fullName},C.id))})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"committeeId",children:"Select Committee"}),u.jsxs(Bi,{name:"committeeId",required:!0,children:[u.jsx(zs,{className:"bg-primary border-accent-orange/30","data-testid":"select-payout-committee",children:u.jsx($i,{placeholder:"Select committee"})}),u.jsx(Hs,{children:p.filter(C=>C.status==="active").map(C=>u.jsxs(qt,{value:C.id,children:[C.name," - Rs ",C.amount]},C.id))})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"amount",children:"Payout Amount (Rs)"}),u.jsx(lt,{id:"amount",name:"amount",type:"number",step:"0.01",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-payout-amount"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"round",children:"Round Number"}),u.jsx(lt,{id:"round",name:"round",type:"number",min:"1",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-payout-round"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"scheduledDate",children:"Scheduled Date"}),u.jsx(lt,{id:"scheduledDate",name:"scheduledDate",type:"date",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-payout-date"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx(xe,{type:"button",variant:"outline",className:"flex-1 border-accent-orange/30",onClick:()=>i(!1),"data-testid":"button-cancel-payout",children:"Cancel"}),u.jsx(xe,{type:"submit",className:"flex-1 gradient-bg text-primary hover:opacity-90",disabled:m.isPending,"data-testid":"button-submit-payout",children:m.isPending?"Creating...":"Initiate Payout"})]})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsxs(vn,{className:"text-lg flex items-center",children:[u.jsx(gg,{className:"mr-2 h-5 w-5 text-accent-orange"}),"Upcoming Payouts"]})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:y.length===0?u.jsx("p",{className:"text-secondary text-center py-4","data-testid":"text-no-upcoming-payouts",children:"No upcoming payouts scheduled"}):y.map(C=>{const A=d.find(R=>R.id===C.userId),b=p.find(R=>R.id===C.committeeId);return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/50 rounded-lg","data-testid":`upcoming-payout-${C.id}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 gradient-bg rounded-full flex items-center justify-center text-primary font-bold",children:A?.fullName.split(" ").map(R=>R.charAt(0)).join("").toUpperCase()}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:A?.fullName}),u.jsx("p",{className:"text-secondary text-sm",children:b?.name})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium",children:["Rs ",C.amount]}),u.jsx("p",{className:"text-secondary text-sm",children:C.scheduledDate.toLocaleDateString()})]})]},C.id)})})})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsxs(vn,{className:"text-lg flex items-center",children:[u.jsx(zi,{className:"mr-2 h-5 w-5 text-accent-green"}),"Recent Payouts"]})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:_.length===0?u.jsx("p",{className:"text-secondary text-center py-4","data-testid":"text-no-recent-payouts",children:"No recent payouts"}):_.map(C=>{const A=d.find(R=>R.id===C.userId),b=p.find(R=>R.id===C.committeeId);return u.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/50 rounded-lg","data-testid":`recent-payout-${C.id}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-accent-green/20 rounded-full flex items-center justify-center text-accent-green",children:u.jsx(zi,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:A?.fullName}),u.jsx("p",{className:"text-secondary text-sm",children:b?.name})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium",children:["Rs ",C.amount]}),u.jsx("p",{className:"text-secondary text-sm",children:C.completedDate?.toLocaleDateString()})]})]},C.id)})})})]})]})]})}function M5(){nr(),gr();const{data:t=[],isLoading:e}=Tt({queryKey:["/api/users"],queryFn:bv}),n=t.filter(r=>r.role==="user");return e?u.jsx("div",{children:"Loading users..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"User Management"}),u.jsx("div",{className:"flex space-x-2",children:u.jsxs(xe,{className:"bg-accent-green/20 text-accent-green hover:bg-accent-green/30","data-testid":"button-approve-requests",children:[u.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Approve Requests"]})})]}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsx($e,{className:"p-0",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Pu,{children:[u.jsx(ku,{children:u.jsxs(tr,{className:"border-accent-orange/10",children:[u.jsx(at,{className:"text-secondary",children:"User"}),u.jsx(at,{className:"text-secondary",children:"Committees"}),u.jsx(at,{className:"text-secondary",children:"Status"}),u.jsx(at,{className:"text-secondary",children:"Joined"}),u.jsx(at,{className:"text-secondary",children:"Actions"})]})}),u.jsx(ju,{children:n.length===0?u.jsx(tr,{children:u.jsx(et,{colSpan:5,className:"text-center py-8 text-secondary","data-testid":"text-no-users",children:"No users found"})}):n.map(r=>u.jsx(L5,{user:r},r.id))})]})})})})]})}function L5({user:t}){const{data:e=[]}=Tt({queryKey:["/api/users",t.id,"committees"],queryFn:()=>Hf(t.id)}),n=i=>i.split(" ").map(a=>a.charAt(0)).join("").toUpperCase(),r=()=>u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Active"});return u.jsxs(tr,{className:"border-accent-orange/10","data-testid":`user-row-${t.id}`,children:[u.jsx(et,{children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"w-10 h-10 gradient-bg rounded-full flex items-center justify-center text-black font-bold mr-3",children:n(t.fullName)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:t.fullName}),u.jsx("div",{className:"text-secondary text-sm",children:t.username})]})]})}),u.jsxs(et,{className:"text-sm",children:[e.length," committees"]}),u.jsx(et,{children:r()}),u.jsx(et,{className:"text-sm text-secondary",children:t.createdAt.toLocaleDateString()}),u.jsx(et,{children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(xe,{variant:"ghost",size:"icon",className:"text-accent-cyan hover:text-accent-cyan/80","data-testid":`button-view-${t.id}`,children:u.jsx(UT,{className:"h-4 w-4"})}),u.jsx(xe,{variant:"ghost",size:"icon",className:"text-accent-orange hover:text-accent-orange/80","data-testid":`button-remove-${t.id}`,children:u.jsx(zP,{className:"h-4 w-4"})}),u.jsx(xe,{variant:"ghost",size:"icon",className:"text-red-400 hover:text-red-300","data-testid":`button-reset-pin-${t.id}`,children:u.jsx(LP,{className:"h-4 w-4"})})]})})]})}function V5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),[r,i]=T.useState({username:t?.username||"",fullName:t?.fullName||"",newPin:""}),[a,c]=T.useState({bankName:t?.bankDetails?.bankName||"",accountNumber:t?.bankDetails?.accountNumber||"",accountHolder:t?.bankDetails?.accountHolder||""}),d=yn({mutationFn:_=>rf(t.id,_),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users"]}),e({title:"Profile Updated",description:"Your profile has been updated successfully"}),i(_=>({..._,newPin:""}))},onError:()=>{e({title:"Error",description:"Failed to update profile",variant:"destructive"})}}),p=yn({mutationFn:_=>rf(t.id,{bankDetails:_}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users"]}),e({title:"Bank Details Updated",description:"Your bank details have been updated successfully"})},onError:()=>{e({title:"Error",description:"Failed to update bank details",variant:"destructive"})}}),m=_=>{_.preventDefault();const x={username:r.username,fullName:r.fullName};if(r.newPin&&r.newPin.length===4)x.pin=r.newPin;else if(r.newPin&&r.newPin.length!==4){e({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}d.mutate(x)},y=_=>{_.preventDefault(),p.mutate(a)};return t?u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Settings"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Profile Settings"})}),u.jsx($e,{children:u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"username",children:"Username"}),u.jsx(lt,{id:"username",value:r.username,onChange:_=>i(x=>({...x,username:_.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-username"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"fullName",children:"Full Name"}),u.jsx(lt,{id:"fullName",value:r.fullName,onChange:_=>i(x=>({...x,fullName:_.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-full-name"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"newPin",children:"Change PIN (leave empty to keep current)"}),u.jsx(lt,{id:"newPin",type:"password",maxLength:4,value:r.newPin,onChange:_=>i(x=>({...x,newPin:_.target.value})),placeholder:"",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan text-center text-xl tracking-widest","data-testid":"input-new-pin"})]}),u.jsx(xe,{type:"submit",className:"gradient-bg text-black hover:opacity-90",disabled:d.isPending,"data-testid":"button-update-profile",children:d.isPending?"Updating...":"Update Profile"})]})})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Bank Details"})}),u.jsx($e,{children:u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"bankName",children:"Bank Name"}),u.jsx(lt,{id:"bankName",value:a.bankName,onChange:_=>c(x=>({...x,bankName:_.target.value})),placeholder:"Enter bank name",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-bank-name"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"accountNumber",children:"Account Number"}),u.jsx(lt,{id:"accountNumber",value:a.accountNumber,onChange:_=>c(x=>({...x,accountNumber:_.target.value})),placeholder:"Enter account number",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-account-number"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"accountHolder",children:"Account Holder Name"}),u.jsx(lt,{id:"accountHolder",value:a.accountHolder,onChange:_=>c(x=>({...x,accountHolder:_.target.value})),placeholder:"Enter account holder name",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-account-holder"})]}),u.jsx(xe,{type:"submit",className:"gradient-bg text-black hover:opacity-90",disabled:p.isPending,"data-testid":"button-update-bank",children:p.isPending?"Updating...":"Update Bank Details"})]})})]})]})]}):null}var Mv="Avatar",[F5,p9]=no(Mv),[U5,lN]=F5(Mv),cN=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=T.useState("idle");return u.jsx(U5,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:u.jsx(ze.span,{...r,ref:e})})});cN.displayName=Mv;var uN="AvatarImage",dN=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,c=lN(uN,n),d=B5(r,a),p=Vn(m=>{i(m),c.onImageLoadingStatusChange(m)});return Wt(()=>{d!=="idle"&&p(d)},[d,p]),d==="loaded"?u.jsx(ze.img,{...a,ref:e,src:r}):null});dN.displayName=uN;var hN="AvatarFallback",fN=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=lN(hN,n),[c,d]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(p)}},[r]),c&&a.imageLoadingStatus!=="loaded"?u.jsx(ze.span,{...i,ref:e}):null});fN.displayName=hN;function DE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function B5(t,{referrerPolicy:e,crossOrigin:n}){const r=q5(),i=T.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[c,d]=T.useState(()=>DE(a,t));return Wt(()=>{d(DE(a,t))},[a,t]),Wt(()=>{const p=_=>()=>{d(_)};if(!a)return;const m=p("loaded"),y=p("error");return a.addEventListener("load",m),a.addEventListener("error",y),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",m),a.removeEventListener("error",y)}},[a,n,e]),c}function $5(){return()=>{}}function q5(){return T.useSyncExternalStore($5,()=>!0,()=>!1)}var pN=cN,mN=dN,gN=fN;const yN=T.forwardRef(({className:t,...e},n)=>u.jsx(pN,{ref:n,className:je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));yN.displayName=pN.displayName;const z5=T.forwardRef(({className:t,...e},n)=>u.jsx(mN,{ref:n,className:je("aspect-square h-full w-full",t),...e}));z5.displayName=mN.displayName;const vN=T.forwardRef(({className:t,...e},n)=>u.jsx(gN,{ref:n,className:je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));vN.displayName=gN.displayName;function H5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),{data:r=[],isLoading:i,error:a}=Tt({queryKey:["/api/join-requests","pending"],queryFn:async()=>{const _=await TU();return await Promise.all(_.map(async C=>{try{const[A,b]=await Promise.all([Tv(C.userId),dU(C.committeeId)]);return{...C,userName:A?.fullName||A?.username||"Unknown User",userEmail:A?.email||"Unknown Email",committeeName:b?.name||"Unknown Committee",committeeAmount:b?.amount||0}}catch(A){return console.error("Error fetching details for join request:",A),{...C,userName:"Unknown User",userEmail:"Unknown Email",committeeName:"Unknown Committee",committeeAmount:0}}}))}}),c=yn({mutationFn:({requestId:_})=>SU(_,t.id),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/join-requests"]}),n.invalidateQueries({queryKey:["/api/committees"]}),e({title:"Request Approved",description:"User has been added to the committee"})},onError:()=>{e({title:"Error",description:"Failed to approve join request",variant:"destructive"})}}),d=yn({mutationFn:({requestId:_})=>IU(_,t.id),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/join-requests"]}),n.invalidateQueries({queryKey:["/api/committees"]}),e({title:"Request Rejected",description:"Join request has been rejected"})},onError:()=>{e({title:"Error",description:"Failed to reject join request",variant:"destructive"})}}),p=_=>{c.mutate({requestId:_})},m=_=>{d.mutate({requestId:_})},y=_=>_.split(" ").map(x=>x.charAt(0)).join("").toUpperCase().slice(0,2);return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:"Loading join requests..."}):a?u.jsxs("div",{className:"text-red-500",children:["Error loading join requests: ",a instanceof Error?a.message:"Unknown error"]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Join Requests"}),u.jsxs("div",{className:"text-sm text-secondary",children:[r.length," pending request",r.length!==1?"s":""]})]}),r.length===0?u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsxs($e,{className:"p-8 text-center",children:[u.jsx(xx,{className:"mx-auto h-12 w-12 text-secondary mb-4"}),u.jsx("p",{className:"text-secondary",children:"No pending join requests"})]})}):u.jsx("div",{className:"grid gap-4",children:r.map(_=>u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx(yN,{className:"h-12 w-12 bg-accent-orange/20",children:u.jsx(vN,{className:"bg-accent-orange/20 text-accent-orange",children:y(_.userName||"U")})}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-lg",children:_.userName}),u.jsx("p",{className:"text-sm text-secondary",children:_.userEmail})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-secondary",children:[u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(xx,{className:"h-4 w-4"}),u.jsx("span",{children:_.committeeName})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx(uy,{className:"h-4 w-4"}),u.jsx("span",{children:_.requestedAt.toLocaleDateString()})]}),u.jsxs(tt,{className:"bg-accent-orange/20 text-accent-orange",children:["$",_.committeeAmount]})]})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs(xe,{size:"sm",className:"bg-accent-green/20 text-accent-green hover:bg-accent-green/30",onClick:()=>p(_.id),disabled:c.isPending||d.isPending,children:[u.jsx(zi,{className:"h-4 w-4 mr-1"}),"Approve"]}),u.jsxs(xe,{size:"sm",className:"bg-red-500/20 text-red-400 hover:bg-red-500/30",onClick:()=>m(_.id),disabled:c.isPending||d.isPending,children:[u.jsx(yl,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})})},_.id))})]})}function W5(){const{userData:t}=en(),[,e]=ei(),{data:n=[]}=Tt({queryKey:["/api/users",t?.id,"committees"],queryFn:()=>Hf(t.id),enabled:!!t}),{data:r=[]}=Tt({queryKey:["/api/users",t?.id,"payments"],queryFn:()=>jC(t.id),enabled:!!t}),i=r.slice(0,5),a=r.filter(p=>{const m=new Date(p.submittedAt),y=new Date;return m.getMonth()===y.getMonth()&&m.getFullYear()===y.getFullYear()}),c=p=>{switch(p){case"active":return u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Active"});case"pending":return u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange",children:"Pending"});case"completed":return u.jsx(tt,{className:"bg-secondary text-primary",children:"Completed"});default:return u.jsx(tt,{children:p})}},d=[{title:"Submit Payment",icon:qP,color:"text-accent-cyan",action:()=>e("/user/my-payments")},{title:"Find Committees",icon:BT,color:"text-accent-green",action:()=>e("/user/available-committees")},{title:"Payment History",icon:MP,color:"text-accent-orange",action:()=>e("/user/my-payments")},{title:"My Payouts",icon:qT,color:"text-secondary",action:()=>e("/user/my-payouts")}];return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"My Committees"})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:n.length===0?u.jsx("p",{className:"text-secondary text-center py-4","data-testid":"text-no-committees",children:"You haven't joined any committees yet"}):n.map(p=>u.jsxs("div",{className:"p-4 bg-primary/50 rounded-lg","data-testid":`committee-${p.id}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h4",{className:"font-medium",children:p.name}),c(p.status)]}),u.jsxs("div",{className:"text-sm text-secondary space-y-1",children:[u.jsxs("p",{children:["Monthly: Rs ",p.amount]}),u.jsxs("p",{children:["Position: ",p.members.indexOf(t.id)+1,"/",p.memberCount]}),u.jsxs("p",{children:["Duration: ",p.duration," months"]})]})]},p.id))})})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Payment Status"})}),u.jsxs($e,{children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=200",alt:"Savings dashboard interface",className:"w-full h-32 object-cover rounded-lg mb-4"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-secondary",children:"This Month"}),u.jsx("span",{className:a.length>0?"text-accent-green":"text-accent-orange",children:a.length>0?"Paid":"Pending"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-secondary",children:"Total Payments"}),u.jsx("span",{className:"text-primary",children:r.length})]})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((p,m)=>{const y=p.icon;return u.jsxs(xe,{variant:"outline",className:"h-20 flex-col bg-secondary border-accent-orange/30 hover:bg-primary/50",onClick:p.action,"data-testid":`quick-action-${p.title.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsx(y,{className:`h-6 w-6 mb-2 ${p.color}`}),u.jsx("span",{className:"text-sm font-medium",children:p.title})]},m)})})]}),i.length>0&&u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Recent Payments"})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:i.map(p=>u.jsxs("div",{className:"flex items-center justify-between p-3 bg-primary/50 rounded-lg","data-testid":`payment-${p.id}`,children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium",children:["Rs ",p.amount]}),u.jsx("p",{className:"text-secondary text-sm",children:p.submittedAt.toLocaleDateString()})]}),u.jsx(tt,{className:p.status==="approved"?"bg-accent-green/20 text-accent-green":p.status==="rejected"?"bg-red-500/20 text-red-400":"bg-accent-orange/20 text-accent-orange",children:p.status})]},p.id))})})]})]})}function K5(){const{currentUser:t,userData:e,loading:n}=en(),r=gr(),[,i]=ei(),{toast:a}=nr(),[c,d]=T.useState(""),[p,m]=T.useState("all"),[y,_]=T.useState(null),[x,C]=T.useState(!1),A=Tt({queryKey:["/api/user-join-requests",e?.id],queryFn:()=>bU(e.id),enabled:!!e?.id}),{data:b=[],isLoading:R,error:V}=Tt({queryKey:["/api/committees","available"],queryFn:hU});console.log("AvailableCommittees data:",b),console.log("Loading:",R),console.log("Error:",V);const F=yn({mutationFn:S=>{if(!e)throw new Error("User data not available");return EU({userId:e.id,committeeId:S})},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/committees"]}),r.invalidateQueries({queryKey:["/api/user-join-requests",e?.id]}),a({title:"Join Request Sent",description:"Your request to join the committee has been submitted"})},onError:S=>{console.error("Join request error:",S),a({title:"Error",description:"Failed to send join request",variant:"destructive"})}}),U=S=>(A.data||[]).find(M=>M.committeeId===S)?.status||"none",z=S=>U(S)==="approved",Q=b.filter(S=>{const j=S.name.toLowerCase().includes(c.toLowerCase());let P=!0;if(p!=="all"){const M=S.amount;switch(p){case"100-500":P=M>=100&&M<=500;break;case"500-1000":P=M>500&&M<=1e3;break;case"1000+":P=M>1e3;break}}return j&&P}),Z=async S=>{_(S),C(!0)},k=S=>{if(!e){a({title:"Authentication Required",description:"Please log in to send a join request",variant:"destructive"});return}F.mutate(S)};return R||n?u.jsx("div",{children:"Loading available committees..."}):V?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"text-red-500",children:["Error loading committees: ",V instanceof Error?V.message:"Unknown error"]}),u.jsx(xe,{onClick:()=>r.invalidateQueries({queryKey:["/api/committees","available"]}),children:"Retry"})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Available Committees"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(lt,{placeholder:"Search committees...",value:c,onChange:S=>d(S.target.value),className:"w-64 bg-secondary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-search-committees"}),u.jsxs(Bi,{value:p,onValueChange:m,children:[u.jsx(zs,{className:"w-48 bg-secondary border-accent-orange/30","data-testid":"select-amount-filter",children:u.jsx($i,{})}),u.jsxs(Hs,{children:[u.jsx(qt,{value:"all",children:"All Amounts"}),u.jsx(qt,{value:"100-500",children:"Rs 100-500"}),u.jsx(qt,{value:"500-1000",children:"Rs 500-1000"}),u.jsx(qt,{value:"1000+",children:"Rs 1000+"})]})]}),u.jsx(xe,{onClick:()=>r.invalidateQueries({queryKey:["/api/committees","available"]}),variant:"outline",className:"border-accent-orange/30",children:"Refresh"})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.length===0?u.jsx("div",{className:"col-span-full",children:u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsx($e,{className:"p-8 text-center",children:u.jsx("p",{className:"text-secondary","data-testid":"text-no-committees",children:"No committees available matching your criteria"})})})}):Q.map(S=>u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":`committee-card-${S.id}`,children:u.jsxs($e,{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"font-semibold",children:S.name}),z(S.id)?u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Approved"}):U(S.id)==="pending"?u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange",children:"Pending"}):U(S.id)==="rejected"?u.jsx(tt,{className:"bg-accent-red/20 text-accent-red",children:"Rejected"}):u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Open"})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("p",{className:"text-secondary text-sm",children:["Monthly Payment: ",u.jsxs("span",{className:"text-primary font-medium",children:["Rs ",S.amount]})]}),u.jsxs("p",{className:"text-secondary text-sm",children:["Duration: ",u.jsxs("span",{className:"text-primary font-medium",children:[S.duration," months"]})]}),u.jsxs("p",{className:"text-secondary text-sm",children:["Members: ",u.jsxs("span",{className:"text-primary font-medium",children:[S.members.length,"/",S.memberCount]})]}),u.jsxs("p",{className:"text-secondary text-sm",children:["Start Date: ",u.jsx("span",{className:"text-primary font-medium",children:S.startDate.toLocaleDateString()})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[z(S.id)?u.jsx(xe,{variant:"gradient",className:"flex-1",onClick:()=>i(`/user/payments?committee=${S.id}`),"data-testid":`button-make-payment-${S.id}`,children:"Make Payment"}):U(S.id)==="pending"?u.jsx(xe,{className:"flex-1 bg-gray-500 text-white cursor-not-allowed",disabled:!0,"data-testid":`button-pending-${S.id}`,children:"Request Pending"}):U(S.id)==="rejected"?u.jsx(xe,{className:"flex-1 bg-gray-500 text-white cursor-not-allowed",disabled:!0,"data-testid":`button-rejected-${S.id}`,children:"Request Rejected"}):u.jsxs(xe,{className:"flex-1 gradient-bg text-primary hover:opacity-90",onClick:()=>k(S.id),disabled:F.isPending,"data-testid":`button-join-${S.id}`,children:[u.jsx(Rh,{className:"mr-2 h-4 w-4"}),F.isPending?"Requesting...":"Request to Join"]}),u.jsx(xe,{variant:"outline",size:"icon",className:"border-accent-orange/30 hover:bg-primary/50",onClick:()=>Z(S),"data-testid":`button-view-${S.id}`,children:u.jsx(UT,{className:"h-4 w-4 text-accent-cyan"})})]})]})},S.id))}),u.jsx(Ws,{open:x,onOpenChange:C,children:u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsxs(fs,{children:[u.jsx(ps,{className:"gradient-text",children:"Committee Details"}),u.jsx(Il,{children:"View detailed information about this committee and its members."})]}),y&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-lg",children:y.name}),z(y.id)?u.jsx(tt,{className:"bg-accent-green/20 text-accent-green mt-2",children:"Approved"}):U(y.id)==="pending"?u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange mt-2",children:"Pending Approval"}):U(y.id)==="rejected"?u.jsx(tt,{className:"bg-accent-red/20 text-accent-red mt-2",children:"Rejected"}):u.jsx(tt,{className:"bg-accent-green/20 text-accent-green mt-2",children:y.status})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Monthly Payment"}),u.jsxs("p",{className:"font-medium",children:["Rs ",y.amount]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Duration"}),u.jsxs("p",{className:"font-medium",children:[y.duration," months"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Total Members"}),u.jsx("p",{className:"font-medium",children:y.memberCount})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Current Members"}),u.jsx("p",{className:"font-medium",children:y.members.length})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Start Date"}),u.jsx("p",{className:"font-medium",children:y.startDate.toLocaleDateString()})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Current Round"}),u.jsx("p",{className:"font-medium",children:y.currentRound})]})]}),u.jsx("div",{className:"pt-4",children:z(y.id)?u.jsx(xe,{variant:"gradient",className:"w-full",onClick:()=>{i(`/user/payments?committee=${y.id}`),C(!1)},"data-testid":"button-make-payment-from-modal",children:"Make Payment"}):U(y.id)==="pending"?u.jsx(xe,{className:"w-full bg-gray-500 text-white cursor-not-allowed",disabled:!0,"data-testid":"button-pending-from-modal",children:"Request Pending"}):U(y.id)==="rejected"?u.jsx(xe,{className:"w-full bg-gray-500 text-white cursor-not-allowed",disabled:!0,"data-testid":"button-rejected-from-modal",children:"Request Rejected"}):u.jsxs(xe,{className:"w-full gradient-bg text-primary hover:opacity-90",onClick:()=>{k(y.id),C(!1)},disabled:F.isPending,"data-testid":"button-join-from-modal",children:[u.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Request to Join"]})})]})]})})]})}function G5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),[r,i]=T.useState(!1),[a,c]=T.useState(!1),[d,p]=T.useState(null),[m,y]=T.useState([]),[_,x]=T.useState(!1),[C,A]=T.useState(null),{data:b=[],isLoading:R}=Tt({queryKey:["/api/users",t?.id,"payments"],queryFn:()=>mU(t.id),enabled:!!t}),{data:V=[]}=Tt({queryKey:["/api/users",t?.id,"committees"],queryFn:()=>Hf(t.id),enabled:!!t}),F=yn({mutationFn:pU,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users",t?.id,"payments"]}),n.invalidateQueries({queryKey:["/api/payments"]}),i(!1),e({title:"Payment Submitted",description:"Your payment has been submitted for review"})},onError:()=>{e({title:"Error",description:"Failed to submit payment",variant:"destructive"})}}),U=yn({mutationFn:DC,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users",t?.id,"payments"]}),n.invalidateQueries({queryKey:["/api/payments"]}),y([]),e({title:"Payment Deleted",description:"Payment has been deleted successfully"})},onError:()=>{e({title:"Error",description:"Failed to delete payment",variant:"destructive"})}}),z=async P=>{if(P.preventDefault(),!t)return;const M=new FormData(P.currentTarget),L={userId:t.id,committeeId:M.get("committeeId"),amount:Number(M.get("amount")),remarks:M.get("details")};F.mutate(L)},Q=(P,M)=>{y(L=>M?[...L,P]:L.filter(D=>D!==P))},Z=P=>{U.mutate(P)},k=()=>{m.forEach(P=>{U.mutate(P)})},S=P=>{A(P),x(!0)},j=P=>{switch(P){case"approved":return u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Approved"});case"rejected":return u.jsx(tt,{className:"bg-red-500/20 text-red-400",children:"Rejected"});case"pending":return u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange",children:"Pending"});default:return u.jsx(tt,{children:P})}};return R?u.jsx("div",{children:"Loading payments..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"My Payments"}),u.jsxs("div",{className:"flex space-x-3",children:[m.length>0&&u.jsxs(xe,{variant:"destructive",onClick:k,disabled:U.isPending,"data-testid":"button-delete-selected",children:["Delete Selected (",m.length,")"]}),u.jsxs(Ws,{open:r,onOpenChange:i,children:[u.jsx(jv,{asChild:!0,children:u.jsx(xe,{className:"gradient-bg text-primary hover:opacity-90","data-testid":"button-submit-payment",children:"Submit Payment"})}),u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsxs(fs,{children:[u.jsx(ps,{className:"gradient-text",children:"Submit Payment"}),u.jsx(Il,{children:"Submit your payment details for verification by the admin."})]}),u.jsxs("form",{onSubmit:z,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"committeeId",children:"Select Committee"}),u.jsxs(Bi,{name:"committeeId",required:!0,children:[u.jsx(zs,{className:"bg-primary border-accent-orange/30","data-testid":"select-committee",children:u.jsx($i,{placeholder:"Select committee"})}),u.jsx(Hs,{children:V.map(P=>u.jsxs(qt,{value:P.id,children:[P.name," - Rs ",P.amount]},P.id))})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"amount",children:"Amount (Rs)"}),u.jsx(lt,{id:"amount",name:"amount",type:"number",step:"0.01",required:!0,className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-payment-amount"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"details",children:"Payment Details"}),u.jsx(Ov,{id:"details",name:"details",required:!0,placeholder:"Enter payment details (e.g., transaction ID, payment method, date, etc.)",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan min-h-[100px]","data-testid":"input-payment-details"})]}),u.jsxs("div",{className:"flex space-x-3 pt-4",children:[u.jsx(xe,{type:"button",variant:"outline",className:"flex-1 border-accent-orange/30",onClick:()=>i(!1),"data-testid":"button-cancel-payment",children:"Cancel"}),u.jsx(xe,{type:"submit",className:"flex-1 gradient-bg text-primary hover:opacity-90",disabled:F.isPending,"data-testid":"button-confirm-payment",children:F.isPending?"Submitting...":"Submit Payment"})]})]})]})]})]})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{children:"Payment History"})}),u.jsx($e,{className:"p-0",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Pu,{children:[u.jsx(ku,{children:u.jsxs(tr,{className:"border-accent-orange/10",children:[u.jsx(at,{className:"text-secondary w-12",children:u.jsx("input",{type:"checkbox",checked:m.length>0&&m.length===b.length,onChange:P=>{P.target.checked?y(b.map(M=>M.id)):y([])},className:"rounded border-gray-300"})}),u.jsx(at,{className:"text-secondary",children:"Date"}),u.jsx(at,{className:"text-secondary",children:"Committee"}),u.jsx(at,{className:"text-secondary",children:"Amount"}),u.jsx(at,{className:"text-secondary",children:"Status"}),u.jsx(at,{className:"text-secondary",children:"Payment Details"}),u.jsx(at,{className:"text-secondary",children:"Admin Response"}),u.jsx(at,{className:"text-secondary",children:"Reviewed At"}),u.jsx(at,{className:"text-secondary",children:"Reviewed By"}),u.jsx(at,{className:"text-secondary",children:"Receipt"}),u.jsx(at,{className:"text-secondary",children:"Actions"})]})}),u.jsx(ju,{children:b.length===0?u.jsx(tr,{children:u.jsx(et,{colSpan:11,className:"text-center py-8 text-secondary","data-testid":"text-no-payments",children:"No payment history found"})}):(console.log("payments array:",b),b.map(P=>{console.log("payment object:",P);const M=V.find(L=>L.id===P.committeeId);return u.jsxs(tr,{className:"border-accent-orange/10","data-testid":`payment-row-${P.id}`,children:[u.jsx(et,{children:u.jsx("input",{type:"checkbox",checked:m.includes(P.id),onChange:L=>Q(P.id,L.target.checked),className:"rounded border-gray-300"})}),u.jsx(et,{className:"text-sm",children:P.submittedAt.toLocaleDateString()}),u.jsx(et,{className:"font-medium",children:M?.name||"Unknown Committee"}),u.jsxs(et,{className:"text-sm",children:["Rs ",P.amount.toFixed(2)]}),u.jsx(et,{children:j(P.status)}),u.jsx(et,{className:"text-sm text-secondary max-w-xs",children:u.jsx("div",{className:"truncate",children:P.remarks||"-"})}),u.jsx(et,{className:"text-sm text-secondary max-w-xs",children:u.jsx("div",{className:"truncate",children:P.adminRemarks||"-"})}),u.jsx(et,{className:"text-sm text-secondary",children:P.reviewedAt?new Date(P.reviewedAt).toLocaleDateString():"-"}),u.jsx(et,{className:"text-sm text-secondary",children:P.reviewerName||"-"}),u.jsx(et,{children:P.receiptUrl&&u.jsx(xe,{variant:"outline",size:"sm",onClick:()=>{p(P.receiptUrl),c(!0)},children:"View"})}),u.jsxs(et,{className:"flex space-x-2",children:[u.jsx(xe,{variant:"outline",size:"sm",className:"border-accent-orange/30",onClick:()=>S(P),"data-testid":`button-view-${P.id}`,children:"View Details"}),u.jsx(xe,{variant:"ghost",size:"sm",className:"text-red-400 hover:text-red-300",onClick:()=>Z(P.id),disabled:U.isPending,"data-testid":`button-delete-${P.id}`,children:"Delete"})]})]},P.id)}))})]})})})]}),u.jsx(Ws,{open:a,onOpenChange:c,children:u.jsxs(hs,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(fs,{children:u.jsx(ps,{className:"gradient-text",children:"Payment Receipt"})}),d&&u.jsx("img",{src:d,alt:"Payment Receipt",className:"max-w-full h-auto"})]})}),u.jsx(Ws,{open:_,onOpenChange:x,children:u.jsxs(hs,{className:"bg-secondary border-accent-orange/30 max-w-2xl",children:[u.jsxs(fs,{children:[u.jsx(ps,{className:"gradient-text",children:"Payment Details"}),u.jsx(Il,{children:"Complete payment information and history"})]}),C&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Payment ID:"}),u.jsx("p",{className:"text-sm text-primary font-mono",children:C.id})]}),u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Status:"}),u.jsx("div",{className:"mt-1",children:j(C.status)})]}),u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Date Submitted:"}),u.jsxs("p",{className:"text-sm text-primary",children:[new Date(C.submittedAt).toLocaleDateString()," ",new Date(C.submittedAt).toLocaleTimeString()]})]}),u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Amount:"}),u.jsxs("p",{className:"text-sm text-primary font-semibold",children:["Rs ",C.amount.toFixed(2)]})]}),u.jsxs("div",{className:"col-span-2",children:[u.jsx(Oe,{className:"font-semibold",children:"Committee:"}),u.jsx("p",{className:"text-sm text-primary",children:V.find(P=>P.id===C.committeeId)?.name||"Unknown Committee"})]})]}),u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Payment Details (Your Remarks):"}),u.jsx("div",{className:"mt-1 p-3 bg-primary/10 rounded-md",children:u.jsx("p",{className:"text-sm text-primary whitespace-pre-wrap",children:C.remarks||"No details provided"})})]}),C.adminRemarks&&u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Admin Response:"}),u.jsx("div",{className:"mt-1 p-3 bg-accent-green/10 rounded-md",children:u.jsx("p",{className:"text-sm text-primary whitespace-pre-wrap",children:C.adminRemarks})})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.reviewedAt&&u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Reviewed At:"}),u.jsxs("p",{className:"text-sm text-primary",children:[new Date(C.reviewedAt).toLocaleDateString()," ",new Date(C.reviewedAt).toLocaleTimeString()]})]}),C.reviewerName&&u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Reviewed By:"}),u.jsx("p",{className:"text-sm text-primary",children:C.reviewerName})]})]}),C.receiptUrl&&u.jsxs("div",{children:[u.jsx(Oe,{className:"font-semibold",children:"Payment Receipt:"}),u.jsx("div",{className:"mt-2",children:u.jsx("img",{src:C.receiptUrl,alt:"Payment Receipt",className:"max-w-full h-auto rounded-md border border-accent-orange/30 cursor-pointer hover:opacity-90",onClick:()=>window.open(C.receiptUrl,"_blank")})})]})]})]})})]})}function Q5(){const{userData:t}=en(),{data:e=[],isLoading:n}=Tt({queryKey:["/api/users",t?.id,"payouts"],queryFn:()=>wU(t.id),enabled:!!t}),{data:r=[]}=Tt({queryKey:["/api/users",t?.id,"committees"],queryFn:()=>Hf(t.id),enabled:!!t}),i=e.filter(m=>m.status==="pending"),c=e.filter(m=>m.status==="completed").reduce((m,y)=>m+y.amount,0),d=i.reduce((m,y)=>m+y.amount,0),p=m=>{switch(m){case"completed":return u.jsx(tt,{className:"bg-accent-green/20 text-accent-green",children:"Completed"});case"pending":return u.jsx(tt,{className:"bg-accent-orange/20 text-accent-orange",children:"Pending"});default:return u.jsx(tt,{children:m})}};return n?u.jsx("div",{children:"Loading payouts..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"My Payouts"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-total-received",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Total Received"}),u.jsxs("p",{className:"text-2xl font-bold text-accent-green","data-testid":"text-total-received",children:["Rs ",c.toLocaleString()]})]}),u.jsx(OP,{className:"h-8 w-8 text-accent-green/30"})]})})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-pending-amount",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Pending Amount"}),u.jsxs("p",{className:"text-2xl font-bold text-accent-orange","data-testid":"text-pending-amount",children:["Rs ",d.toLocaleString()]})]}),u.jsx(VT,{className:"h-8 w-8 text-accent-orange/30"})]})})}),u.jsx(Be,{className:"bg-secondary border-accent-orange/30","data-testid":"card-total-payouts",children:u.jsx($e,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary text-sm",children:"Total Payouts"}),u.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":"text-total-payouts",children:e.length})]}),u.jsx(Mi,{className:"h-8 w-8 text-secondary/30"})]})})})]}),i.length>0&&u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsxs(vn,{className:"text-lg flex items-center",children:[u.jsx(uy,{className:"mr-2 h-5 w-5 text-accent-orange"}),"Upcoming Payouts"]})}),u.jsx($e,{children:u.jsx("div",{className:"space-y-3",children:i.map(m=>{const y=r.find(_=>_.id===m.committeeId);return u.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary/50 rounded-lg","data-testid":`upcoming-payout-${m.id}`,children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-10 h-10 bg-accent-orange/20 rounded-full flex items-center justify-center",children:u.jsx(Mi,{className:"h-5 w-5 text-accent-orange"})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:y?.name||"Unknown Committee"}),u.jsxs("p",{className:"text-secondary text-sm",children:["Round ",m.round]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"font-medium text-lg",children:["                          Rs ",m.amount.toLocaleString()]}),u.jsx("p",{className:"text-secondary text-sm",children:m.scheduledDate.toLocaleDateString()})]})]},m.id)})})})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{children:"Payout History"})}),u.jsx($e,{className:"p-0",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs(Pu,{children:[u.jsx(ku,{children:u.jsxs(tr,{className:"border-accent-orange/10",children:[u.jsx(at,{className:"text-secondary",children:"Committee"}),u.jsx(at,{className:"text-secondary",children:"Round"}),u.jsx(at,{className:"text-secondary",children:"Amount"}),u.jsx(at,{className:"text-secondary",children:"Scheduled Date"}),u.jsx(at,{className:"text-secondary",children:"Status"}),u.jsx(at,{className:"text-secondary",children:"Completed Date"})]})}),u.jsx(ju,{children:e.length===0?u.jsx(tr,{children:u.jsx(et,{colSpan:6,className:"text-center py-8 text-secondary","data-testid":"text-no-payouts",children:"No payout history found"})}):e.map(m=>{const y=r.find(_=>_.id===m.committeeId);return u.jsxs(tr,{className:"border-accent-orange/10","data-testid":`payout-row-${m.id}`,children:[u.jsx(et,{className:"font-medium",children:y?.name||"Unknown Committee"}),u.jsx(et,{className:"text-sm",children:m.round}),u.jsxs(et,{className:"font-medium",children:["Rs ",m.amount.toLocaleString()]}),u.jsx(et,{className:"text-sm",children:m.scheduledDate.toLocaleDateString()}),u.jsx(et,{children:p(m.status)}),u.jsx(et,{className:"text-sm text-secondary",children:m.completedDate?m.completedDate.toLocaleDateString():"-"})]},m.id)})})]})})})]}),e.length===0&&u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsxs($e,{className:"p-8 text-center",children:[u.jsx(Mi,{className:"mx-auto h-12 w-12 text-secondary/30 mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Payouts Yet"}),u.jsx("p",{className:"text-secondary mb-4",children:"You haven't received any payouts yet. Join committees and make payments to be eligible for payouts."})]})})]})}function Y5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),{data:r=[],isLoading:i}=Tt({queryKey:["/api/users",t?.id,"notifications"],queryFn:()=>_U(t.id),enabled:!!t}),a=yn({mutationFn:xU,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users",t?.id,"notifications"]})},onError:()=>{e({title:"Error",description:"Failed to mark notification as read",variant:"destructive"})}}),c=r.filter(y=>!y.read).length,d=r.filter(y=>y.read),p=r.filter(y=>!y.read),m=y=>{a.mutate(y)};return i?u.jsx("div",{children:"Loading notifications..."}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Notifications"}),c>0&&u.jsxs(tt,{className:"bg-accent-orange/20 text-accent-orange","data-testid":"badge-unread-count",children:[c," unread"]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ol,{className:"h-5 w-5 text-accent-cyan"}),u.jsx("span",{className:"text-sm text-secondary",children:"Stay updated with your committee activities"})]})]}),p.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[u.jsx(ol,{className:"mr-2 h-5 w-5 text-accent-orange"}),"Unread Notifications"]}),p.map(y=>u.jsx(OE,{notification:y,onMarkAsRead:m,isMarkingAsRead:a.isPending},y.id))]}),d.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-lg font-medium flex items-center",children:[u.jsx(jP,{className:"mr-2 h-5 w-5 text-secondary"}),"Read Notifications"]}),d.map(y=>u.jsx(OE,{notification:y,onMarkAsRead:()=>{},isMarkingAsRead:!1},y.id))]}),r.length===0&&u.jsx(Be,{className:"bg-secondary border-accent-orange/30",children:u.jsxs($e,{className:"p-8 text-center",children:[u.jsx(ol,{className:"mx-auto h-12 w-12 text-secondary/30 mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Notifications"}),u.jsx("p",{className:"text-secondary","data-testid":"text-no-notifications",children:"You're all caught up! Notifications will appear here when there are updates about your committees, payments, and payouts."})]})})]})}function OE({notification:t,onMarkAsRead:e,isMarkingAsRead:n}){const r=a=>{switch(a){case"payment_due":return u.jsx(FT,{className:"h-5 w-5 text-accent-orange"});case"payment_approved":return u.jsx(zi,{className:"h-5 w-5 text-accent-green"});case"payment_rejected":return u.jsx(LT,{className:"h-5 w-5 text-red-400"});case"payout_scheduled":return u.jsx(Mi,{className:"h-5 w-5 text-accent-cyan"});case"payout_received":return u.jsx(Mi,{className:"h-5 w-5 text-accent-green"});case"committee_joined":return u.jsx(tu,{className:"h-5 w-5 text-accent-cyan"});default:return u.jsx(ol,{className:"h-5 w-5 text-secondary"})}},i=(a,c)=>{const d=c?"/20":"/30";switch(a){case"payment_due":return`bg-accent-orange${d} border-accent-orange/30`;case"payment_approved":case"payout_received":return`bg-accent-green${d} border-accent-green/30`;case"payment_rejected":return`bg-red-500${d} border-red-500/30`;case"payout_scheduled":case"committee_joined":return`bg-accent-cyan${d} border-accent-cyan/30`;default:return"bg-secondary border-accent-orange/30"}};return u.jsx(Be,{className:`${i(t.type,t.read)} ${t.read?"":"shadow-lg"}`,"data-testid":`notification-${t.id}`,children:u.jsx($e,{className:"p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"mt-0.5",children:r(t.type)}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium mb-1",children:t.title}),u.jsx("p",{className:"text-sm text-secondary mb-2",children:t.message}),u.jsx("p",{className:"text-xs text-secondary",children:t.createdAt.toLocaleString()})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[!t.read&&u.jsx("div",{className:"w-2 h-2 bg-accent-orange rounded-full","data-testid":`unread-indicator-${t.id}`}),!t.read&&u.jsx(xe,{variant:"ghost",size:"sm",className:"text-xs text-accent-cyan hover:text-accent-cyan/80",onClick:()=>e(t.id),disabled:n,"data-testid":`button-mark-read-${t.id}`,children:"Mark as read"})]})]})})})}function X5(){const{userData:t}=en(),{toast:e}=nr(),n=gr(),[r,i]=T.useState({username:t?.username||"",fullName:t?.fullName||"",newPin:""}),[a,c]=T.useState({bankName:t?.bankDetails?.bankName||"",accountNumber:t?.bankDetails?.accountNumber||"",accountHolder:t?.bankDetails?.accountHolder||""}),d=yn({mutationFn:_=>rf(t.id,_),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users"]}),e({title:"Profile Updated",description:"Your profile has been updated successfully"}),i(_=>({..._,newPin:""}))},onError:()=>{e({title:"Error",description:"Failed to update profile",variant:"destructive"})}}),p=yn({mutationFn:_=>rf(t.id,{bankDetails:_}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/users"]}),e({title:"Bank Details Updated",description:"Your bank details have been updated successfully"})},onError:()=>{e({title:"Error",description:"Failed to update bank details",variant:"destructive"})}}),m=_=>{_.preventDefault();const x={username:r.username,fullName:r.fullName};if(r.newPin&&r.newPin.length===4)x.pin=r.newPin;else if(r.newPin&&r.newPin.length!==4){e({title:"Invalid PIN",description:"PIN must be 4 digits",variant:"destructive"});return}d.mutate(x)},y=_=>{_.preventDefault(),p.mutate(a)};return t?u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-xl font-semibold",children:"Settings"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Profile Settings"})}),u.jsx($e,{children:u.jsxs("form",{onSubmit:m,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"username",children:"Username"}),u.jsx(lt,{id:"username",value:r.username,onChange:_=>i(x=>({...x,username:_.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-username"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"fullName",children:"Full Name"}),u.jsx(lt,{id:"fullName",value:r.fullName,onChange:_=>i(x=>({...x,fullName:_.target.value})),className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-full-name"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"newPin",children:"Change PIN (leave empty to keep current)"}),u.jsx(lt,{id:"newPin",type:"password",maxLength:4,value:r.newPin,onChange:_=>i(x=>({...x,newPin:_.target.value})),placeholder:"",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan text-center text-xl tracking-widest","data-testid":"input-new-pin"})]}),u.jsx(xe,{type:"submit",className:"gradient-bg text-black hover:opacity-90",disabled:d.isPending,"data-testid":"button-update-profile",children:d.isPending?"Updating...":"Update Profile"})]})})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Bank Details"})}),u.jsx($e,{children:u.jsxs("form",{onSubmit:y,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"bankName",children:"Bank Name"}),u.jsx(lt,{id:"bankName",value:a.bankName,onChange:_=>c(x=>({...x,bankName:_.target.value})),placeholder:"Enter bank name",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-bank-name"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"accountNumber",children:"Account Number"}),u.jsx(lt,{id:"accountNumber",value:a.accountNumber,onChange:_=>c(x=>({...x,accountNumber:_.target.value})),placeholder:"Enter account number",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-account-number"})]}),u.jsxs("div",{children:[u.jsx(Oe,{htmlFor:"accountHolder",children:"Account Holder Name"}),u.jsx(lt,{id:"accountHolder",value:a.accountHolder,onChange:_=>c(x=>({...x,accountHolder:_.target.value})),placeholder:"Enter account holder name",className:"bg-primary border-accent-orange/30 focus:border-accent-cyan","data-testid":"input-account-holder"})]}),u.jsx(xe,{type:"submit",className:"gradient-bg text-black hover:opacity-90",disabled:p.isPending,"data-testid":"button-update-bank",children:p.isPending?"Updating...":"Update Bank Details"})]})})]})]}),u.jsxs(Be,{className:"bg-secondary border-accent-orange/30",children:[u.jsx(Jt,{children:u.jsx(vn,{className:"text-lg",children:"Secure Banking"})}),u.jsx($e,{children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&h=200",alt:"Mobile banking app",className:"w-32 h-24 object-cover rounded-lg"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium mb-2",children:"Your financial information is secure"}),u.jsx("p",{className:"text-secondary text-sm",children:"We use bank-level encryption to protect your personal and financial data. All transactions are monitored and secured."})]})]})})]})]}):null}function Kn({children:t}){const{currentUser:e,userData:n}=en(),[r,i]=ei();return!e||!n?(i("/login"),null):u.jsx(u.Fragment,{children:t})}function Gn({children:t,allowedRole:e}){const{userData:n}=en(),[,r]=ei();if(!n)return r("/login"),null;if(n.role!==e){const i=n.role==="admin"?"/admin/dashboard":"/user/dashboard";return r(i),null}return u.jsx(u.Fragment,{children:t})}function Qn({children:t,title:e}){const{userData:n}=en();return n?u.jsxs("div",{className:"flex min-h-screen bg-primary",children:[u.jsx(PU,{}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx(kU,{title:e}),u.jsx("main",{className:"flex-1 p-6",children:t})]})]}):u.jsx(u.Fragment,{children:t})}function J5(){const[t]=ei(),e=()=>{const n=t;if(n.startsWith("/admin/"))switch(n){case"/admin/dashboard":return"Dashboard Overview";case"/admin/committees":return"Committee Management";case"/admin/payments":return"Payment Management";case"/admin/payouts":return"Payout Management";case"/admin/users":return"User Management";case"/admin/settings":return"Settings";case"/admin/join-requests":return"Join Requests";default:return"Admin Dashboard"}else if(n.startsWith("/user/"))switch(n){case"/user/dashboard":return"My Dashboard";case"/user/available-committees":return"Available Committees";case"/user/my-payments":return"My Payments";case"/user/my-payouts":return"My Payouts";case"/user/notifications":return"Notifications";case"/user/settings":return"Settings";default:return"User Dashboard"}return"Committee ROSCA"};return u.jsxs(e1,{children:[u.jsx(on,{path:"/login",children:u.jsx(LU,{})}),u.jsx(on,{path:"/signup",children:u.jsx(a5,{})}),u.jsx(on,{path:"/admin/dashboard",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(c5,{})})})})}),u.jsx(on,{path:"/admin/committees",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(C5,{})})})})}),u.jsx(on,{path:"/admin/payments",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(j5,{})})})})}),u.jsx(on,{path:"/admin/payouts",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(O5,{})})})})}),u.jsx(on,{path:"/admin/users",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(M5,{})})})})}),u.jsx(on,{path:"/admin/settings",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(V5,{})})})})}),u.jsx(on,{path:"/admin/join-requests",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"admin",children:u.jsx(Qn,{title:e(),children:u.jsx(H5,{})})})})}),u.jsx(on,{path:"/user/dashboard",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"user",children:u.jsx(Qn,{title:e(),children:u.jsx(W5,{})})})})}),u.jsx(on,{path:"/user/available-committees",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"user",children:u.jsx(Qn,{title:e(),children:u.jsx(K5,{})})})})}),u.jsx(on,{path:"/user/my-payments",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"user",children:u.jsx(Qn,{title:e(),children:u.jsx(G5,{})})})})}),u.jsx(on,{path:"/user/my-payouts",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"user",children:u.jsx(Qn,{title:e(),children:u.jsx(Q5,{})})})})}),u.jsx(on,{path:"/user/notifications",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"user",children:u.jsx(Qn,{title:e(),children:u.jsx(Y5,{})})})})}),u.jsx(on,{path:"/user/settings",children:u.jsx(Kn,{children:u.jsx(Gn,{allowedRole:"user",children:u.jsx(Qn,{title:e(),children:u.jsx(X5,{})})})})}),u.jsx(on,{path:"/",children:u.jsx(Z5,{})}),u.jsx(on,{component:l5})]})}function Z5(){const{currentUser:t,userData:e}=en(),[,n]=ei();if(!t||!e)return n("/login"),null;const r=e.role==="admin"?"/admin/dashboard":"/user/dashboard";return n(r),null}function e9(){return u.jsx(_1,{client:D1,children:u.jsx(Jj,{children:u.jsxs(CU,{children:[u.jsx(Ik,{}),u.jsx(J5,{})]})})})}AA.createRoot(document.getElementById("root")).render(u.jsx(e9,{}));
